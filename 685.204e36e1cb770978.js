"use strict";(self.webpackChunkPlataformaIntegralProveedores=self.webpackChunkPlataformaIntegralProveedores||[]).push([[685],{5685:(Hn,R,l)=>{l.r(R),l.d(R,{AdmiProvModule:()=>Kn});var m=l(6895),f=l(7599),C=l(8499),x=l(6887),e=l(1571),F=l(9012),y=l(8573),ue=l(6222),_e=l(2054),pe=l(2140),me=l(8290),_=l(529),p=l(5625),g=l(9019);let he=(()=>{class t{constructor(o,i){this.http=o,this.router=i,this.baseUrl=g.N.urlGlobal+"categoria-criticidad",this.url=`${this.baseUrl}`,this.httpOptions={headers:new _.WM({"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("token")})}}list(){return this.http.get(this.url,this.httpOptions).pipe((0,p.X)(1))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(_.eN),e.LFG(f.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),fe=(()=>{class t{constructor(o,i){this.http=o,this.router=i,this.baseUrl=g.N.urlGlobal+"clasificacion-proveedor",this.url=`${this.baseUrl}`,this.httpOptions={headers:new _.WM({"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("token")})}}list(){return this.http.get(this.url,this.httpOptions).pipe((0,p.X)(1))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(_.eN),e.LFG(f.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ge=(()=>{class t{constructor(o,i){this.http=o,this.router=i,this.baseUrl=g.N.urlGlobal+"tipo-identificacion",this.url=`${this.baseUrl}`,this.httpOptions={headers:new _.WM({"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("token")})}}list(){return this.http.get(this.url,this.httpOptions).pipe((0,p.X)(1))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(_.eN),e.LFG(f.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ve=(()=>{class t{constructor(o,i){this.http=o,this.router=i,this.baseUrl=g.N.urlGlobal+"paises",this.url=`${this.baseUrl}`,this.httpOptions={headers:new _.WM({"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("token")})}}list(){return this.http.get(this.url,this.httpOptions).pipe((0,p.X)(1))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(_.eN),e.LFG(f.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var N=l(667),X=l(2029),W=l(6333);let ee=(()=>{class t{constructor(){this.listaIdentificacion=[],this.seCargoListIdentificacion=!1}setCargoListaIdentificacion(o){this.listaIdentificacion=o}getCargoListaIdentificacion(){return this.listaIdentificacion}seCargoListaIdentificacion(){return this.seCargoListIdentificacion}cargoListaIdentificacion(o){this.seCargoListIdentificacion=o}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),J=(()=>{class t{constructor(){this.listaPais=[],this.seCargoListPais=!1}setCargoListaPais(o){this.listaPais=o}getCargoListaPais(){return this.listaPais}seCargoListaPais(){return this.seCargoListPais}cargoListaPais(o){this.seCargoListPais=o}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Q=l(2490),S=l(3804),be=l(7658),Z=l(4094),Ce=l(3504),s=l(433),D=l(4333);function Ae(t,n){1&t&&(e.TgZ(0,"strong"),e._uU(1,"Todos"),e.qZA())}function Ze(t,n){1&t&&(e.TgZ(0,"span"),e._uU(1,"Todos"),e.qZA())}function Te(t,n){1&t&&(e.TgZ(0,"strong"),e._uU(1,"Eliminado"),e.qZA())}function ke(t,n){1&t&&(e.TgZ(0,"span"),e._uU(1,"Eliminado"),e.qZA())}function Pe(t,n){1&t&&(e.TgZ(0,"tbody")(1,"tr")(2,"p"),e._uU(3,"Sin proveedores"),e.qZA()()())}function xe(t,n){1&t&&(e.TgZ(0,"td"),e._uU(1,"General"),e.qZA())}function Fe(t,n){1&t&&(e.TgZ(0,"td"),e._uU(1,"Transporte"),e.qZA())}function Ne(t,n){1&t&&(e.TgZ(0,"td"),e._uU(1,"Agente de carga"),e.qZA())}function qe(t,n){if(1&t&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&t){const o=e.oxw().$implicit;e.xp6(1),e.hij(" ",o.clasificacion_pro.nombre_cla," ")}}function Me(t,n){if(1&t&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&t){const o=e.oxw().$implicit;e.xp6(1),e.hij(" ",o.categorias.nombre_cat," ")}}function Ie(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"a",56),e.NdJ("click",function(){e.CHM(o);const r=e.oxw(),a=r.$implicit,c=r.index,d=e.oxw(3);return e.KtG(d.editar(a,c))}),e.TgZ(1,"span"),e._uU(2,"Editar"),e.qZA()()}}function we(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"a",57),e.NdJ("click",function(){e.CHM(o);const r=e.oxw(),a=r.$implicit,c=r.index,d=e.oxw(3);return e.KtG(d.borrar(a.id,c))}),e._uU(1," \xa0\xa0"),e._UZ(2,"i",58),e._uU(3,"\xa0\xa0 "),e.qZA()}}function Ue(t,n){1&t&&(e.TgZ(0,"a",59),e._UZ(1,"i",60),e.qZA())}const oe=function(t,n,o,i,r){return{"bg-warning":t,"bg-primary":n,"bg-secondary":o,"bg-success":i,"bg-danger":r}};function ye(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"tr",46)(1,"td",47),e._UZ(2,"input",44),e._uU(3),e.qZA(),e.TgZ(4,"td",48),e._uU(5),e.qZA(),e.YNc(6,xe,2,0,"td",21),e.YNc(7,Fe,2,0,"td",21),e.YNc(8,Ne,2,0,"td",21),e.YNc(9,qe,2,1,"td",49),e.YNc(10,Me,2,1,"td",49),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td",50),e._uU(14),e.qZA(),e.TgZ(15,"td")(16,"label",51)(17,"strong"),e._uU(18),e.qZA()()(),e.TgZ(19,"td")(20,"a",52),e.NdJ("click",function(){const a=e.CHM(o).$implicit,c=e.oxw(3);return e.KtG(c.verBitacora(a.id))}),e.TgZ(21,"span"),e._uU(22,"Bit\xe1cora"),e.qZA()(),e._uU(23,"\xa0 "),e.YNc(24,Ie,3,0,"a",53),e._uU(25,"\xa0 "),e.YNc(26,we,4,0,"a",54),e._uU(27,"\xa0 "),e.YNc(28,Ue,2,0,"a",55),e.qZA()()}if(2&t){const o=n.$implicit;e.xp6(1),e.s9C("title",o.ruc_pro),e.xp6(2),e.hij(" \xa0\xa0\xa0 ",o.ruc_pro," "),e.xp6(1),e.s9C("title",o.nombre_pro),e.xp6(1),e.hij(" ",o.nombre_pro," "),e.xp6(1),e.Q6J("ngIf",1==o.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",2==o.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",3==o.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",1==o.fk_tipo_proveedor||2==o.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",3==o.fk_tipo_proveedor),e.xp6(2),e.Oqu(o.usuario_pro),e.xp6(2),e.Oqu(o.fecha_creacion_pro),e.xp6(2),e.Q6J("ngClass",e.qbA(16,oe,"Solicitado"==o.estados.nombre_est,"Guardado"==o.estados.nombre_est,"Creado Op."==o.estados.nombre_est,"Creado"==o.estados.nombre_est,"Eliminado"==o.estados.nombre_est)),e.xp6(2),e.Oqu(o.estados.nombre_est),e.xp6(6),e.Q6J("ngIf",null==o.deleted_at||""==o.deleted_at),e.xp6(2),e.Q6J("ngIf",null==o.deleted_at||""==o.deleted_at),e.xp6(2),e.Q6J("ngIf",1==o.urgente_pro)}}const te=function(t){return{itemsPerPage:8,currentPage:t}};function Je(t,n){if(1&t&&(e.TgZ(0,"tbody"),e.YNc(1,ye,29,22,"tr",45),e.ALo(2,"paginate"),e.qZA()),2&t){const o=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,o.listaProveedores,e.VKq(4,te,o.page)))}}function Se(t,n){if(1&t&&(e.TgZ(0,"table",43)(1,"thead")(2,"tr")(3,"th",40),e._UZ(4,"input",44),e._uU(5," \xa0\xa0\xa0RUC "),e.qZA(),e.TgZ(6,"th",40),e._uU(7,"Proveedor"),e.qZA(),e.TgZ(8,"th",40),e._uU(9,"Tipo Proveedor"),e.qZA(),e.TgZ(10,"th",40),e._uU(11,"Servicio"),e.qZA(),e.TgZ(12,"th",40),e._uU(13,"Solicitado"),e.qZA(),e.TgZ(14,"th",40),e._uU(15,"Fecha De Creaci\xf3n"),e.qZA(),e.TgZ(16,"th",40),e._uU(17,"Estado"),e.qZA(),e.TgZ(18,"th",40),e._uU(19,"Opciones"),e.qZA()()(),e.YNc(20,Pe,4,0,"tbody",21),e.YNc(21,Je,3,6,"tbody",21),e.qZA()),2&t){const o=e.oxw();e.xp6(20),e.Q6J("ngIf",0===o.listaProveedores.length),e.xp6(1),e.Q6J("ngIf",o.listaProveedores.length>0)}}function je(t,n){1&t&&(e.TgZ(0,"tbody")(1,"tr")(2,"p"),e._uU(3,"Sin proveedores"),e.qZA()()())}function Le(t,n){1&t&&(e.TgZ(0,"td"),e._uU(1,"General"),e.qZA())}function Ee(t,n){1&t&&(e.TgZ(0,"td"),e._uU(1,"Transporte"),e.qZA())}function Qe(t,n){1&t&&(e.TgZ(0,"td"),e._uU(1,"Agente de carga"),e.qZA())}function De(t,n){if(1&t&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&t){const o=e.oxw().$implicit;e.xp6(1),e.hij(" ",o.clasificacion_pro.nombre_cla," ")}}function Ye(t,n){if(1&t&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&t){const o=e.oxw().$implicit;e.xp6(1),e.hij(" ",o.categorias.nombre_cat," ")}}function Oe(t,n){1&t&&(e.TgZ(0,"a",59),e._UZ(1,"i",60),e.qZA())}function Ge(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"tr",46)(1,"td",62),e._UZ(2,"input",44),e._uU(3),e.qZA(),e.TgZ(4,"td",48),e._uU(5),e.qZA(),e.YNc(6,Le,2,0,"td",21),e.YNc(7,Ee,2,0,"td",21),e.YNc(8,Qe,2,0,"td",21),e.YNc(9,De,2,1,"td",49),e.YNc(10,Ye,2,1,"td",49),e.TgZ(11,"td",63),e._uU(12),e.qZA(),e.TgZ(13,"td",50),e._uU(14),e.qZA(),e.TgZ(15,"td")(16,"label",51)(17,"strong"),e._uU(18),e.qZA()()(),e.TgZ(19,"td")(20,"a",52),e.NdJ("click",function(){const a=e.CHM(o).$implicit,c=e.oxw(3);return e.KtG(c.verBitacora(a.id))}),e.TgZ(21,"span"),e._uU(22,"Bit\xe1cora"),e.qZA()(),e._uU(23,"\xa0 "),e.TgZ(24,"a",56),e.NdJ("click",function(){const r=e.CHM(o),a=r.$implicit,c=r.index,d=e.oxw(3);return e.KtG(d.editar(a,c))}),e.TgZ(25,"span"),e._uU(26,"Editar"),e.qZA()(),e._uU(27,"\xa0 "),e.TgZ(28,"a",57),e.NdJ("click",function(){const r=e.CHM(o),a=r.$implicit,c=r.index,d=e.oxw(3);return e.KtG(d.borrar(a.id,c))}),e._uU(29," \xa0\xa0"),e._UZ(30,"i",58),e._uU(31,"\xa0\xa0 "),e.qZA(),e._uU(32,"\xa0 "),e.YNc(33,Oe,2,0,"a",55),e.qZA()()}if(2&t){const o=n.$implicit;e.xp6(1),e.s9C("title",o.ruc_pro),e.xp6(2),e.hij(" \xa0\xa0\xa0 ",o.ruc_pro," "),e.xp6(1),e.s9C("title",o.nombre_pro),e.xp6(1),e.hij(" ",o.nombre_pro," "),e.xp6(1),e.Q6J("ngIf",1==o.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",2==o.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",3==o.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",1==o.fk_tipo_proveedor||2==o.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",3==o.fk_tipo_proveedor),e.xp6(2),e.Oqu(o.usuario_pro),e.xp6(2),e.Oqu(o.fecha_creacion_pro),e.xp6(2),e.Q6J("ngClass",e.qbA(14,oe,"Solicitado"==o.estados.nombre_est,"Guardado"==o.estados.nombre_est,"Creado Op."==o.estados.nombre_est,"Creado"==o.estados.nombre_est,"Eliminado"==o.estados.nombre_est)),e.xp6(2),e.Oqu(o.estados.nombre_est),e.xp6(15),e.Q6J("ngIf",1==o.urgente_pro)}}function Ve(t,n){if(1&t&&(e.TgZ(0,"tbody"),e.YNc(1,Ge,34,20,"tr",45),e.ALo(2,"paginate"),e.qZA()),2&t){const o=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,o.listaFiltradaProve,e.VKq(4,te,o.page)))}}function Ke(t,n){if(1&t&&(e.TgZ(0,"table",43)(1,"thead")(2,"tr")(3,"th",61),e._UZ(4,"input",44),e._uU(5," \xa0\xa0\xa0RUC "),e.qZA(),e.TgZ(6,"th",61),e._uU(7,"Proveedor"),e.qZA(),e.TgZ(8,"th",40),e._uU(9,"Tipo Proveedor"),e.qZA(),e.TgZ(10,"th",40),e._uU(11,"Servicio"),e.qZA(),e.TgZ(12,"th",40),e._uU(13,"Solicitado"),e.qZA(),e.TgZ(14,"th",40),e._uU(15,"Fecha De Creaci\xf3n"),e.qZA(),e.TgZ(16,"th",40),e._uU(17,"Estado"),e.qZA(),e.TgZ(18,"th",40),e._uU(19,"Opciones"),e.qZA()()(),e.YNc(20,je,4,0,"tbody",21),e.YNc(21,Ve,3,6,"tbody",21),e.qZA()),2&t){const o=e.oxw();e.xp6(20),e.Q6J("ngIf",0===o.listaFiltradaProve.length),e.xp6(1),e.Q6J("ngIf",o.listaFiltradaProve.length>0)}}function ze(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"pagination-controls",64),e.NdJ("pageChange",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.page=r)}),e.qZA()}}function Be(t,n){if(1&t&&(e.TgZ(0,"div",2),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij(" ",o.bitacora.Proveedor.clasificacion_pro.nombre_cla," ")}}function He(t,n){if(1&t&&(e.TgZ(0,"div",2),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij(" ",o.bitacora.Proveedor.categorias.nombre_cat," ")}}function $e(t,n){1&t&&(e.TgZ(0,"div",1),e._UZ(1,"hr"),e.TgZ(2,"div",2)(3,"strong"),e._uU(4,"Contactos"),e.qZA()()())}function Re(t,n){if(1&t&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&t){const o=n.$implicit;e.xp6(2),e.Oqu(o.nombre_cont),e.xp6(2),e.Oqu(o.cargo_cont)}}function Xe(t,n){if(1&t&&(e.TgZ(0,"table",39)(1,"thead")(2,"tr")(3,"th",40),e._uU(4,"Nombre"),e.qZA(),e.TgZ(5,"th",40),e._uU(6,"Estado"),e.qZA()()(),e.TgZ(7,"tbody"),e.YNc(8,Re,5,2,"tr",41),e.qZA()()),2&t){const o=e.oxw();e.xp6(8),e.Q6J("ngForOf",o.bitacora.Contactos)}}function We(t,n){1&t&&(e.TgZ(0,"div",1),e._UZ(1,"hr"),e.TgZ(2,"div",2)(3,"strong"),e._uU(4,"Contactos financieros"),e.qZA()()())}function eo(t,n){if(1&t&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&t){const o=n.$implicit;e.xp6(2),e.Oqu(o.nombre_cof),e.xp6(2),e.Oqu(o.cargo_cof)}}function oo(t,n){1&t&&(e.TgZ(0,"table",39)(1,"thead")(2,"tr")(3,"th",40),e._UZ(4,"br"),e._uU(5,"Historial"),e.qZA()()()())}function to(t,n){if(1&t&&(e.TgZ(0,"div",1)(1,"div",65)(2,"a",66),e._UZ(3,"i",67),e.qZA()(),e.TgZ(4,"div",68),e._uU(5),e.qZA(),e.TgZ(6,"div",69),e._uU(7),e._UZ(8,"i",70),e.qZA(),e.TgZ(9,"div",71)(10,"strong"),e._uU(11),e.qZA()(),e.TgZ(12,"div",71)(13,"p"),e._uU(14),e.qZA()(),e._UZ(15,"hr"),e.qZA()),2&t){const o=n.$implicit,i=e.oxw();e.xp6(5),e.hij(" ",o.fecha_his," "),e.xp6(2),e.hij(" ",o.usuario_his," "),e.xp6(4),e.Oqu(i.bitacora.Proveedor.nombre_pro),e.xp6(3),e.Oqu(o.observacion_his)}}const ie=function(t){return{"selected-custom":t}};let io=(()=>{class t{constructor(o,i,r,a,c){this.proveedoresCrud=o,this.proveedorService=i,this.processSweetAlert=r,this.bitacoraService=a,this.cargarSelect=c,this.object=new e.vpe,this.listaProveedores=[],this.listaFiltradaProve=[],this.filtradoListaProveedores=[],this.tipoServiciorArray=[],this.estadoArray=[],this.empresaArray=[],this.bitacora=new be.n,this.tipoFiltrado=1}ngOnInit(){this.enlistarProveedoresAprobados()}enlistarProveedoresAprobados(){if(this.proveedoresCrud.seCargoListaProveedores()){this.listaProveedores=this.proveedoresCrud.getCargoListaProveedores();const o=new Q.R,i=new S.G;this.listaProveedores.forEach(r=>{if(void 0===r.estados){r.estados=i;const a=this.cargarSelect.getCargoListaEstados().find(c=>Number(r.fk_estado)===Number(c.id));r.estados=a}if(0===r.fk_tipo_servicio)r.tipo_servicio=o;else{const a=this.cargarSelect.getCargoListaTipoServicios().find(d=>Number(r.fk_tipo_servicio)===Number(d.id)),c=this.cargarSelect.getCargoListaEstados().find(d=>Number(r.fk_estado)===Number(d.id));r.tipo_servicio=a,r.estados=c}}),console.log(JSON.stringify(this.proveedoresCrud.obtenerProveedor()))}else this.proveedoresCrud.obtenerListaProveedores().subscribe(o=>{this.listaProveedores=o})}enlistarProveedoresEliminados(){this.listaProveedores=[],this.proveedorService.listProveedoresBorrados().subscribe(o=>{this.listaProveedores=o.data;const i=new Q.R,r=new S.G;this.listaProveedores.forEach(a=>{if(null==a.estados){a.estados=r;const c=this.cargarSelect.getCargoListaEstados().find(d=>Number(a.fk_estado)===Number(d.id));a.estados=c}if(0===a.fk_tipo_servicio||null===a.fk_tipo_servicio)a.tipo_servicio=i;else{const c=this.cargarSelect.getCargoListaTipoServicios().find(u=>Number(a.fk_tipo_servicio)===Number(u.id)),d=this.cargarSelect.getCargoListaEstados().find(u=>Number(a.fk_estado)===Number(u.id));a.tipo_servicio=c,a.estados=d}}),this.proveedoresCrud.setCargoListaProveedoresEliminados(this.listaProveedores),this.proveedoresCrud.cargoListaProveedoresEliminados(!0)},o=>{this.listaProveedores=[],this.proveedoresCrud.cargoListaProveedoresEliminados(!0),this.proveedoresCrud.setCargoListaProveedoresEliminados([])})}nuevoProveedor(){const o=new C.I;this.object.emit(o)}editar(o,i){let r=new C.I;r=o,r.index=0===i?-10:i,this.object.emit(r)}borrar(o,i){this.processSweetAlert.alertMessageEleccionOpcion("\xbfDesea borrar este registro?","Si borra este registro no se mostrara en este listado","Confirmar","Cancelar").then(r=>{r&&this.proveedorService.borrarProveedor(o).subscribe(a=>{this.listaProveedores[i].deleted_at=this.fechaActual(),this.listaProveedores.splice(i,1)})})}fechaActual(){var o=new Date;return o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate()+" "+o.getHours()+":"+o.getMinutes()+":"+o.getSeconds()}cambioFiltrado(o){switch(this.tipoFiltrado=o,o){case 1:this.enlistarProveedoresAprobados();break;case 2:this.enlistarProveedoresEliminados()}}esEspacio(o){return!(!/\s/g.test(o)||this.esNumerico(o)||this.esString(o))}cambioFiltradoEstado(o){const i=o.target.value;""===i?this.listaFiltradaProve=this.listaProveedores:(46==(i.keyCode||i.charCode||i.which)||8==(i.keyCode||i.charCode||i.which)||this.esString(i)||this.esEspacio(i))&&(this.listaFiltradaProve=this.listaProveedores.filter(r=>r.estados.nombre_est.toLowerCase().includes(i.toLowerCase())))}verBitacora(o){this.bitacoraService.retrieve(o).subscribe(i=>{this.bitacora=i.data;const r=this.listaProveedores.find(a=>Number(a.id)===Number(o));void 0!==r&&(this.bitacora.Proveedor=r)})}filtrarPorEmpresa(o){const i=o.target.value;""===i?this.listaFiltradaProve=this.listaProveedores:46==(i.keyCode||i.charCode||i.which)||8==(i.keyCode||i.charCode||i.which)?this.listaFiltradaProve=this.listaProveedores.filter(r=>r.ruc_pro.toLowerCase().includes(i.toLowerCase())):((this.esNumerico(i)||this.esAlfanumerico(i))&&(this.listaFiltradaProve=this.listaProveedores.filter(r=>r.ruc_pro.toLowerCase().includes(i.toLowerCase()))),this.esString(i)&&(this.listaFiltradaProve=this.listaProveedores.filter(r=>r.nombre_pro.toLowerCase().includes(i.toLowerCase()))))}esNumerico(o){return/^-?\d+$/.test(o)}esString(o){return!!/^[a-zA-Z]+$/.test(o)}esAlfanumerico(o){return!(!/^[-_ a-zA-Z0-9]+$/.test(o)||this.esNumerico(o)||this.esString(o))}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(F.p),e.Y36(y.z),e.Y36(Z.J),e.Y36(Ce.h),e.Y36(N.R))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-list"]],outputs:{object:"object"},decls:107,vars:27,consts:[[1,"container","my-2"],[1,"row","px-3","py-2","align-items-center","table-success"],["align","left",1,"col-6","px-1"],[1,"h6","font-weight-bold","mb-0"],[1,"h6","font-weight-bold","mb-0","color-azul"],["align","right",1,"col-6","px-1"],["type","button",1,"custom-css","btn","btn-primary",3,"click"],[1,"bi","bi-body-text"],[1,"col-md-4"],[1,"input-group","mb-3"],["type","text",1,"form-control","form-control-lg",3,"keyup"],["type","submit",1,"input-group-text"],[1,"bi","bi-search"],["id","listamodelos"],["value","Creado"],["value","Solicitado"],["value","Guardado"],[1,"col-md-3"],["role","group","aria-label","First group",1,"btn-group","mb-3"],["type","text","list","listamodelos","placeholder","Buscar por Estado",1,"form-control",3,"keyup"],["type","button",1,"btn","btn-secondary-outline",3,"ngClass","click"],[4,"ngIf"],["class","table table-condensed",4,"ngIf"],["class","my-pagination","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange",4,"ngIf"],["id","NewsModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","NewsModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-scrollable",2,"margin-right","0 !important"],[1,"modal-content"],[1,"modal-header",2,"border-bottom","0px"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"border","rounded-circle","btn-close",2,"border","3px solid rgb(220, 220, 220) !important"],[1,"modal-body",2,"padding-top","0rem"],[1,"row","mb-3"],["v-for","(item, key) in news",1,"col-12","mb-3"],[1,"card",2,"border","0px"],[1,"card-body",2,"padding-top","0rem"],["align","center",1,"row"],["align","left",1,"col-9","px-1","d-flex","align-items-center"],["class","col-6 px-1","align","left",4,"ngIf"],["class","row px-3 py-2 align-items-center table-success",4,"ngIf"],["class","table",4,"ngIf"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["class","row px-3 py-2 align-items-center table-success",4,"ngFor","ngForOf"],[1,"table","table-condensed"],["type","checkbox","id","exampleCheck1",1,"form-check-input"],["class","align-middle",4,"ngFor","ngForOf"],[1,"align-middle"],["scope","row",1,"whitespace-nowrap","menos-lenght-texto-ruc",3,"title"],[1,"menos-lenght-texto-nombre",3,"title"],["class","whitespace-nowrap",4,"ngIf"],[1,"whitespace-nowrap"],[1,"custom-css","btn","text-white","nuevo-color",3,"ngClass"],["type","button","data-bs-toggle","modal","data-bs-target","#NewsModal",1,"custom-css","btn","btn-primary","text-dark",3,"click"],["type","button","class","custom-css btn btn-primary text-dark nuevo-color",3,"click",4,"ngIf"],["type","button","class","custom-css btn btn-primary nuevo-color",3,"click",4,"ngIf"],["type","button","class","alert-warning tamano-button",4,"ngIf"],["type","button",1,"custom-css","btn","btn-primary","text-dark","nuevo-color",3,"click"],["type","button",1,"custom-css","btn","btn-primary","nuevo-color",3,"click"],[1,"bi","bi-trash3"],["type","button",1,"alert-warning","tamano-button"],[1,"bi","bi-exclamation-octagon"],["scope","col "],["scope","row",1,"menos-lenght-texto-ruc",3,"title"],[1,"menos-lenght-texto-nombre"],["previousLabel","Anterior","nextLabel","Siguiente",1,"my-pagination",3,"pageChange"],["align","left",1,"col-4","px-1"],[1,"border","rounded-circle",2,"border","3px solid rgb(220, 220, 220) !important"],[1,"bi","bi-folder2-open"],["align","center",1,"col-4","px-1"],["align","right",1,"col-4","px-1"],[1,"bi","bi-person-fill"],["align","center",1,"col-12","px-1"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3)(4,"h3"),e._uU(5,"Administraci\xf3n de proveedores"),e.qZA()(),e._UZ(6,"br"),e.TgZ(7,"label",4)(8,"h4"),e._uU(9,"TORRES & TORRES"),e.qZA()()(),e.TgZ(10,"div",5)(11,"a",6),e.NdJ("click",function(){return i.nuevoProveedor()}),e._UZ(12,"i",7),e._uU(13," Nuevo proveedor "),e.qZA()()(),e.TgZ(14,"div",1),e._UZ(15,"br")(16,"br")(17,"br"),e.TgZ(18,"div",8)(19,"div",9)(20,"input",10),e.NdJ("keyup",function(a){return i.filtrarPorEmpresa(a)}),e.qZA(),e.TgZ(21,"button",11),e._UZ(22,"i",12),e.qZA()()(),e.TgZ(23,"datalist",13),e._UZ(24,"option",14)(25,"option",15)(26,"option",16),e.qZA(),e.TgZ(27,"div",17),e._uU(28," \xa0\xa0 "),e.TgZ(29,"div",18)(30,"input",19),e.NdJ("keyup",function(a){return i.cambioFiltradoEstado(a)}),e.qZA()()(),e.TgZ(31,"div",17),e._uU(32," \xa0\xa0 "),e.TgZ(33,"div",18)(34,"button",20),e.NdJ("click",function(){return i.cambioFiltrado(1)}),e.YNc(35,Ae,2,0,"strong",21),e.YNc(36,Ze,2,0,"span",21),e.qZA(),e.TgZ(37,"button",20),e.NdJ("click",function(){return i.cambioFiltrado(2)}),e.YNc(38,Te,2,0,"strong",21),e.YNc(39,ke,2,0,"span",21),e.qZA()()(),e._UZ(40,"br")(41,"br"),e.YNc(42,Se,22,2,"table",22),e.YNc(43,Ke,22,2,"table",22),e.YNc(44,ze,1,0,"pagination-controls",23),e.qZA()(),e.TgZ(45,"div",24)(46,"div",25)(47,"div",26)(48,"div",27),e._UZ(49,"button",28),e.qZA(),e.TgZ(50,"div",29)(51,"div",30)(52,"div",31)(53,"div",32)(54,"div",33)(55,"div",1)(56,"div",34)(57,"div",35)(58,"h5"),e._uU(59,"Bit\xe1cora de proveedores"),e.qZA()()(),e._UZ(60,"br")(61,"br")(62,"br"),e.TgZ(63,"div",2)(64,"strong"),e._uU(65),e.qZA()(),e.TgZ(66,"div",2),e._uU(67),e.qZA(),e.TgZ(68,"div",2)(69,"strong"),e._uU(70,"Proveedor"),e.qZA()(),e.TgZ(71,"div",2),e._uU(72),e.qZA(),e.TgZ(73,"div",2)(74,"strong"),e._uU(75,"Tipo de proveedor"),e.qZA()(),e.TgZ(76,"div",2),e._uU(77),e.qZA(),e.TgZ(78,"div",2)(79,"strong"),e._uU(80,"Tipo de Servicio"),e.qZA()(),e.YNc(81,Be,2,1,"div",36),e.YNc(82,He,2,1,"div",36),e.TgZ(83,"div",2)(84,"strong"),e._uU(85,"Fecha de actualizaci\xf3n"),e.qZA()(),e.TgZ(86,"div",2),e._uU(87),e.qZA(),e.TgZ(88,"div",2)(89,"strong"),e._uU(90,"Solicitado por"),e.qZA()(),e.TgZ(91,"div",2),e._uU(92),e.qZA()(),e.YNc(93,$e,5,0,"div",37),e.YNc(94,Xe,9,1,"table",38),e.YNc(95,We,5,0,"div",37),e.TgZ(96,"table",39)(97,"thead")(98,"tr")(99,"th",40),e._uU(100,"Nombre"),e.qZA(),e.TgZ(101,"th",40),e._uU(102,"Estado"),e.qZA()()(),e.TgZ(103,"tbody"),e.YNc(104,eo,5,2,"tr",41),e.qZA()(),e.YNc(105,oo,6,0,"table",38),e.YNc(106,to,16,4,"div",42),e.qZA()()()()()()()()),2&o&&(e.xp6(34),e.Q6J("ngClass",e.VKq(23,ie,1==i.tipoFiltrado)),e.xp6(1),e.Q6J("ngIf",1==i.tipoFiltrado),e.xp6(1),e.Q6J("ngIf",1!=i.tipoFiltrado),e.xp6(1),e.Q6J("ngClass",e.VKq(25,ie,2==i.tipoFiltrado)),e.xp6(1),e.Q6J("ngIf",2==i.tipoFiltrado),e.xp6(1),e.Q6J("ngIf",2!=i.tipoFiltrado),e.xp6(3),e.Q6J("ngIf",0==i.listaFiltradaProve.length),e.xp6(1),e.Q6J("ngIf",i.listaFiltradaProve.length>0),e.xp6(1),e.Q6J("ngIf",i.listaProveedores.length>8),e.xp6(21),e.Oqu(i.bitacora.Proveedor.identificacion.nombre_ide),e.xp6(2),e.hij(" ",i.bitacora.Proveedor.ruc_pro," "),e.xp6(5),e.hij(" ",i.bitacora.Proveedor.nombre_pro," "),e.xp6(5),e.hij(" ",i.bitacora.Proveedor.tipo_proveedor.nombre_tip," "),e.xp6(4),e.Q6J("ngIf",1==i.bitacora.Proveedor.fk_tipo_proveedor||2==i.bitacora.Proveedor.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",3==i.bitacora.Proveedor.fk_tipo_proveedor),e.xp6(5),e.hij(" ",i.bitacora.Proveedor.fecha_creacion_pro," "),e.xp6(5),e.hij(" ",i.bitacora.Proveedor.usuario_pro," "),e.xp6(1),e.Q6J("ngIf",i.bitacora.Contactos.length>0),e.xp6(1),e.Q6J("ngIf",i.bitacora.Contactos.length>0),e.xp6(1),e.Q6J("ngIf",i.bitacora.Contactos_Financieros.length>0),e.xp6(9),e.Q6J("ngForOf",i.bitacora.Contactos_Financieros),e.xp6(1),e.Q6J("ngIf",i.bitacora.Historial.length>0),e.xp6(1),e.Q6J("ngForOf",i.bitacora.Historial))},dependencies:[s.YN,s.Kr,D.LS,m.mk,m.sg,m.O5,D._s],styles:[".table-condensed[_ngcontent-%COMP%], label[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}button.selected-custom[_ngcontent-%COMP%]{border-bottom:3px solid rgb(103,159,220);text-align:center}a.tamano-button[_ngcontent-%COMP%]{border-radius:28px;display:inline-block;padding:8px 13px}td.menos-lenght-texto-ruc[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:135px}td.menos-lenght-texto-nombre[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:110px}"]}),t})();var q=l(1205),T=l(7579);let re=(()=>{class t{constructor(){this.hayDatosContactoFinaciero=!1,this.listaContactosFinancieroProveedor=[],this.listaContactosFinancieroProveedor$=new T.x}editarListaContactosFinancieroProveedor(o){this.listaContactosFinancieroProveedor=o,this.listaContactosFinancieroProveedor$.next(this.listaContactosFinancieroProveedor)}obtenerListaContactosFinancieroProveedor(){return this.listaContactosFinancieroProveedor$.asObservable()}getCargoListaContactosFinancieroProveedor(){return this.listaContactosFinancieroProveedor}setCargoListaContactosFinancieroProveedor(o){this.listaContactosFinancieroProveedor=o}seCargoContactosFinancieroProveedor(){return this.hayDatosContactoFinaciero}cargoContactosFinancieroProveedor(o){this.hayDatosContactoFinaciero=o}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),j=(()=>{class t{constructor(){this.hayContactosProveedor=!1,this.listaContactosProveedor$=new T.x,this.listaContactosProveedor=[]}editarListaContactosProveedor(o){this.listaContactosProveedor=o,this.listaContactosProveedor$.next(this.listaContactosProveedor)}obtenerListaContactosProveedor(){return this.listaContactosProveedor$.asObservable()}getCargoListaContactosProveedor(){return this.listaContactosProveedor}setCargoListaContactosProveedor(o){this.listaContactosProveedor=o}seCargoContactosProveedor(){return this.hayContactosProveedor}cargoContactosProveedor(o){this.hayContactosProveedor=o}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ne=(()=>{class t{constructor(){this.hayDatosDocumento=!1,this.listaDocumentosProveedor=[],this.listaDocumentosProveedor$=new T.x}editarListaDocumentosProveedor(o){this.listaDocumentosProveedor=o,this.listaDocumentosProveedor$.next(this.listaDocumentosProveedor)}obtenerListaDocumentosProveedor(){return this.listaDocumentosProveedor$.asObservable()}getCargoListaDocumentosProveedor(){return this.listaDocumentosProveedor}setCargoListaDocumentosProveedor(o){this.listaDocumentosProveedor=o}seCargoDocumentosProveedor(){return this.hayDatosDocumento}cargoDocumentosProveedor(o){this.hayDatosDocumento=o}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ae=(()=>{class t{constructor(){this.hayConductores=!1,this.listaConductores$=new T.x,this.listaConductores=[]}editarListaConductor(o){this.listaConductores=o,this.listaConductores$.next(this.listaConductores)}obtenerListaConductor(){return this.listaConductores$.asObservable()}getCargoListaConductor(){return this.listaConductores}setCargoListaConductor(o){this.listaConductores=o}seCargoConductor(){return this.hayConductores}cargoConductor(o){this.hayConductores=o}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ro=(()=>{class t{constructor(){this.hayConductores=!1,this.listaConductores$=new T.x,this.listaConductores=[]}editarListaConductor(o){this.listaConductores=o,this.listaConductores$.next(this.listaConductores)}obtenerListaConductor(){return this.listaConductores$.asObservable()}getCargoListaConductor(){return this.listaConductores}setCargoListaConductor(o){this.listaConductores=o}seCargoConductor(){return this.hayConductores}cargoConductor(o){this.hayConductores=o}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Y=(()=>{class t{constructor(){this.hayVehiculos=!1,this.listaVehiculos$=new T.x,this.listaVehiculos=[]}editarListaVehiculo(o){this.listaVehiculos=o,this.listaVehiculos$.next(this.listaVehiculos)}obtenerListaVehiculo(){return this.listaVehiculos$.asObservable()}getCargoListaVehiculo(){return this.listaVehiculos}setCargoListaVehiculo(o){this.listaVehiculos=o}seCargoVehiculo(){return this.hayVehiculos}cargoVehiculo(o){this.hayVehiculos=o}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var no=l(7857),ce=l(6893),ao=l(7843),co=l(4602),so=l(4025),lo=l(6438),uo=l(8370);class _o{constructor(){this.index=0,this.id=0,this.ruc_pro="",this.nombre_pro="",this.usuario_pro="",this.criticidad_pro="",this.prioridad_pro=!1,this.fecha_creacion_pro="",this.grupo_pro="",this.nacionalidad_pro="NACIONAL",this.deleted_at="",this.contrato_pro=!1,this.cargo_pro="",this.telefono_pro="",this.celular_pro="",this.email_pro="",this.razon_social_pro="",this.urgente_pro=0,this.datos_extra_pro="",this.dias_credito_pro=0,this.monto_credito_pro=0,this.tax_id_pro="",this.fk_categoria=0,this.fk_actividad=0,this.fk_network=[],this.fk_identificacion=0,this.fk_categoria_criticidad=0,this.fk_clasificacion=0,this.fk_pais=0,this.fk_tipo_compania=0,this.fk_tipo_contacto=0,this.certificado_IATA_pro="",this.certificado_BASC_pro="",this.direccion_pro="",this.actividad_pro="",this.email_retenciones_pro="",this.email_pagos_pro="",this.cat=0,this.act=0,this.fk_tipo_proveedor=0,this.fk_tipo_servicio=[],this.fk_estado=0,this.fk_empresa=0,this.iata_pro=0,this.basc_pro=0,this.tipo_proveedor=new ao.O,this.tipo_servicio=new Q.R,this.estados=new S.G,this.empresas=new co.o,this.identificacion=new ce.K,this.categorias_criticidad=new so.k,this.clasificacion_pro=new lo.Z,this.categorias=new uo.b,this.pais=new x.b,this.conductores=[],this.vehiculos=[],this.contactos=[],this.contactos_fina=[],this.documentoscali=[],this.networks=[]}}let po=(()=>{class t{constructor(o,i){this.http=o,this.router=i,this.baseUrl=g.N.urlGlobal+"actividades",this.url=`${this.baseUrl}`,this.httpOptions={headers:new _.WM({"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("token")})}}listActividades(){return this.http.get(this.url,this.httpOptions).pipe((0,p.X)(1))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(_.eN),e.LFG(f.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),mo=(()=>{class t{constructor(o,i){this.http=o,this.router=i,this.baseUrl=g.N.urlGlobal+"categoria-proveedor",this.url=`${this.baseUrl}`,this.httpOptions={headers:new _.WM({"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("token")})}}listCategoriaProveedor(){return this.http.get(this.url,this.httpOptions).pipe((0,p.X)(1))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(_.eN),e.LFG(f.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ho=(()=>{class t{constructor(o,i){this.http=o,this.router=i,this.baseUrl=g.N.urlGlobal+"networks",this.url=`${this.baseUrl}`,this.httpOptions={headers:new _.WM({"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("token")})}}listNetwork(){return this.http.get(this.url,this.httpOptions).pipe((0,p.X)(1))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(_.eN),e.LFG(f.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),fo=(()=>{class t{constructor(){this.listaActividades$=new T.x,this.listaActividades=[],this.listaCategoriaProveedor$=new T.x,this.listaCategoriaProveedor=[],this.listaNetworks$=new T.x,this.listaNetworks=[],this.seCargoSelectAgente=!1}editarListaActividades(o){this.listaActividades=o,this.listaActividades$.next(this.listaActividades)}obtenerListaActividades(){return this.listaActividades$.asObservable()}setCargoListaActividades(o){this.listaActividades=o}getCargoListaActividades(){return this.listaActividades}editarListaCategoriaProveedor(o){this.listaCategoriaProveedor=o,this.listaCategoriaProveedor$.next(this.listaCategoriaProveedor)}obtenerListaCategoriaProveedor(){return this.listaCategoriaProveedor$.asObservable()}setCargoListaCategoriaProveedor(o){this.listaCategoriaProveedor=o}getCargoListaCategoriaProveedor(){return this.listaCategoriaProveedor}editarListaNetwork(o){this.listaNetworks=o,this.listaNetworks$.next(this.listaNetworks)}obtenerListaNetwork(){return this.listaNetworks$.asObservable()}setCargoListaNetwork(o){this.listaNetworks=o}getCargoListaNetwork(){return this.listaNetworks}seCargoSelects(){return this.seCargoSelectAgente}cargoSelects(o){this.seCargoSelectAgente=o}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class go{constructor(){this.id=0,this.nombre_tip_cont="",this.descripcion_tip_cont=""}}class I{constructor(){this.id=0,this.id_ciu="",this.codigo_ciu="",this.nombre_ciu="",this.fk_pais=0,this.pais=new x.b}}class O{constructor(){this.index=0,this.id=0,this.nombre_cont="",this.cargo_cont="",this.telefono_cont="",this.celular_cont="",this.email_cont="",this.direccion_cont="",this.web_cont="",this.fax_cont="",this.pais_cont="",this.ciudad_cont="",this.usuario_registro_cont="",this.datos_extra_cont="",this.fk_proveedor=0,this.fk_tipo_contacto=0,this.fk_pais=0,this.fk_ciudad=0,this.tipoContacto=new go,this.documentoscali=[],this.pais=new x.b,this.ciudad=new I}}let vo=(()=>{class t{constructor(o,i){this.http=o,this.router=i,this.baseUrl=g.N.urlGlobal+"contactos",this.url=`${this.baseUrl}`,this.httpOptions={headers:new _.WM({"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("token")})}}listContactoProveedor(o){return this.http.get(this.url+"-proveedor/"+o,this.httpOptions).pipe((0,p.X)(1))}listContactoFinanciero(o){return this.http.get(this.url+"-financieros/proveedor/"+o,this.httpOptions).pipe((0,p.X)(1))}crearContactoProveedor(o){return o.id>0?this.http.put(this.url+"/"+o.id,o).pipe((0,p.X)(1)):this.http.post(this.url,o).pipe((0,p.X)(1))}borrarContactoFinanciero(o){return this.http.delete(this.url+"/"+o,this.httpOptions).pipe((0,p.X)(1))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(_.eN),e.LFG(f.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),se=(()=>{class t{constructor(o,i){this.http=o,this.router=i,this.baseUrl=g.N.urlGlobal+"ciudades",this.url=`${this.baseUrl}`,this.httpOptions={headers:new _.WM({"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("token")})}}list(){return this.http.get(this.url,this.httpOptions).pipe((0,p.X)(1))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(_.eN),e.LFG(f.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),de=(()=>{class t{constructor(){this.listaCiudad=[],this.seCargoListCiudad=!1}setCargoListaCiudad(o){this.listaCiudad=o}getCargoListaCiudad(){return this.listaCiudad}seCargoListaCiudad(){return this.seCargoListCiudad}cargoListaCiudad(o){this.seCargoListCiudad=o}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function bo(t,n){1&t&&(e.TgZ(0,"div")(1,"h3"),e._uU(2,"Contactos del Proveedor"),e.qZA(),e._UZ(3,"br"),e.qZA())}function Co(t,n){1&t&&(e.TgZ(0,"div")(1,"h3"),e._uU(2,"Contactos del Operador"),e.qZA(),e._UZ(3,"br"),e.qZA())}function Ao(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"tr",41)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"a",42),e.NdJ("click",function(){const r=e.CHM(o),a=r.$implicit,c=r.index,d=e.oxw(2);return e.KtG(d.editarList(a,c))}),e.TgZ(13,"span"),e._uU(14,"Editar"),e.qZA()(),e._uU(15,"\xa0 "),e.TgZ(16,"a",43),e.NdJ("click",function(){const r=e.CHM(o),a=r.$implicit,c=r.index,d=e.oxw(2);return e.KtG(d.borrar(a.id,c))}),e._uU(17," \xa0\xa0"),e._UZ(18,"i",44),e._uU(19,"\xa0\xa0 "),e.qZA()()()}if(2&t){const o=n.$implicit;e.xp6(2),e.Oqu(o.nombre_cont),e.xp6(2),e.Oqu(o.cargo_cont),e.xp6(2),e.Oqu(o.telefono_cont),e.xp6(2),e.Oqu(o.celular_cont),e.xp6(2),e.Oqu(o.email_cont)}}function Zo(t,n){if(1&t&&(e.TgZ(0,"table",38)(1,"thead")(2,"tr")(3,"th",39),e._uU(4,"Nombre"),e.qZA(),e.TgZ(5,"th",39),e._uU(6,"Cargo"),e.qZA(),e.TgZ(7,"th",39),e._uU(8,"Tel\xe9fono fijo"),e.qZA(),e.TgZ(9,"th",39),e._uU(10,"Celular"),e.qZA(),e.TgZ(11,"th",39),e._uU(12,"E-mail"),e.qZA()()(),e.TgZ(13,"tbody"),e.YNc(14,Ao,20,5,"tr",40),e.qZA()()),2&t){const o=e.oxw();e.xp6(14),e.Q6J("ngForOf",o.contactosProveedor)}}function To(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.iniciarObjeto())}),e._UZ(1,"img",46),e.TgZ(2,"strong"),e._uU(3,"\xa0\xa0Agregar Contacto"),e.qZA()()}if(2&t){const o=e.oxw();e.xp6(1),e.MGl("src","",o.img,"/assets/Paginas/more.svg",e.LSH)}}function ko(t,n){if(1&t&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.nombre_tip_cont)}}function Po(t,n){1&t&&(e.TgZ(0,"p",51),e._uU(1," Seleccionar tipo de contacto. "),e.qZA())}function xo(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",16)(1,"label",18),e._uU(2,"Tipo de contacto"),e.qZA(),e.TgZ(3,"select",47),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.contactoProveedor.fk_tipo_contacto=r)}),e.TgZ(4,"option",48),e._uU(5,"Tipo de contacto"),e.qZA(),e.YNc(6,ko,2,2,"option",49),e.qZA(),e.YNc(7,Po,2,0,"p",22),e.qZA()}if(2&t){const o=e.oxw();e.xp6(3),e.Q6J("ngModel",o.contactoProveedor.fk_tipo_contacto),e.xp6(3),e.Q6J("ngForOf",o.tiposContacto),e.xp6(1),e.Q6J("ngIf",o.submitted&&0==o.contactoProveedor.fk_tipo_contacto||o.submitted&&(null==o.f.tic.errors?null:o.f.tic.errors.required))}}function Fo(t,n){if(1&t&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.nombre_pai," ")}}function No(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",19)(1,"div",52)(2,"select",53),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.contactoProveedor.fk_pais=r)})("change",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.mostrarEnInputPais())}),e._UZ(3,"option",54),e.YNc(4,Fo,2,2,"option",55),e.qZA()()()}if(2&t){const o=e.oxw();e.xp6(2),e.Q6J("ngModel",o.contactoProveedor.fk_pais),e.xp6(2),e.Q6J("ngForOf",o.paises)}}function qo(t,n){1&t&&(e.TgZ(0,"p",51),e._uU(1," Seleccionar pais. "),e.qZA())}function Mo(t,n){if(1&t&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.nombre_ciu," ")}}function Io(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",19)(1,"div",52)(2,"select",57),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.contactoProveedor.fk_ciudad=r)})("change",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.mostrarEnInputCiudad())}),e._UZ(3,"option",54),e.YNc(4,Mo,2,2,"option",55),e.qZA()()()}if(2&t){const o=e.oxw();e.xp6(2),e.Q6J("ngModel",o.contactoProveedor.fk_ciudad),e.xp6(2),e.Q6J("ngForOf",o.ciudades)}}function wo(t,n){1&t&&(e.TgZ(0,"p",51),e._uU(1," Seleccionar ciudad. "),e.qZA())}function Uo(t,n){1&t&&(e.TgZ(0,"p",51),e._uU(1," Ingresar nombres. "),e.qZA())}function yo(t,n){1&t&&(e.TgZ(0,"p",51),e._uU(1," Ingresar cargo. "),e.qZA())}function Jo(t,n){1&t&&(e.TgZ(0,"p",51),e._uU(1," Ingresar email. "),e.qZA())}function So(t,n){1&t&&(e.TgZ(0,"p",51),e._uU(1," Email invalido "),e.qZA())}function jo(t,n){1&t&&(e.TgZ(0,"p",51),e._uU(1," Ingresar solo n\xfameros. "),e.qZA())}function Lo(t,n){1&t&&(e.TgZ(0,"p",51),e._uU(1," Ingresar solo n\xfameros. "),e.qZA())}function Eo(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",16)(1,"button",58),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.guardar())}),e._uU(2," \xa0\xa0\xa0\xa0\xa0\xa0"),e.TgZ(3,"strong",37),e._uU(4,"Guardar"),e.qZA(),e._uU(5,"\xa0\xa0\xa0\xa0\xa0\xa0 "),e.qZA()()}}function Qo(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",16)(1,"button",58),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.guardar())}),e._uU(2," \xa0\xa0\xa0\xa0\xa0\xa0"),e.TgZ(3,"strong",37),e._uU(4,"Guardar"),e.qZA(),e._uU(5,"\xa0\xa0\xa0\xa0\xa0\xa0 "),e.qZA()()}}let Do=(()=>{class t{constructor(o,i,r,a,c,d,u,h,b,k,P){this.proveedoresCrud=o,this.contactoProveedorService=i,this.ciudadService=r,this.contactosProvCrud=a,this.sweetService=c,this.processSweetAlert=d,this.cargarSelectorPais=u,this.cargarSelectorCiudad=h,this.formBuilder=b,this.contactosProveedorCrud=k,this.cargarSelect=P,this.img=q.O.appImg,this.cambioTab=new e.vpe,this.contactoProveedor=new O,this.tipoProveedor=0,this.contactosProveedor=[],this.paises=[],this.ciudades=[],this.form=new s.nJ({}),this.tiposContacto=[],this.submitted=!1,this.isEmail=!1,this.object=new e.vpe}ngOnInit(){this.init(),this.tipoProveedor=Number(this.proveedoresCrud.obtenerProveedor().fk_tipo_proveedor),this.cargarSelectores(),this.initForm(),this.cargarListaTipoContacto()}cargarSelectores(){this.paises=this.cargarSelectorPais.getCargoListaPais(),this.cargarSelectorCiudad.seCargoListaCiudad()?this.ciudades=this.cargarSelectorCiudad.getCargoListaCiudad():this.ciudadService.list().subscribe(o=>{this.ciudades=o.data;const i=new I;this.ciudades.unshift(i),this.cargarSelectorCiudad.setCargoListaCiudad(this.ciudades),this.cargarSelectorCiudad.cargoListaCiudad(!0)})}init(){this.cargarListaContactoProveedor()}cargarListaContactoProveedor(){this.contactosProvCrud.seCargoContactosProveedor()?this.contactosProveedor=this.contactosProvCrud.getCargoListaContactosProveedor():this.contactoProveedorService.listContactoProveedor(this.proveedoresCrud.obtenerProveedor().id).subscribe(o=>{this.contactosProveedor=o.data,this.contactosProvCrud.editarListaContactosProveedor(this.contactosProveedor),this.contactosProvCrud.setCargoListaContactosProveedor(this.contactosProveedor),this.contactosProvCrud.cargoContactosProveedor(!0)},o=>{this.contactosProveedor=[],this.contactosProvCrud.editarListaContactosProveedor([]),this.contactosProvCrud.setCargoListaContactosProveedor([]),this.contactosProvCrud.cargoContactosProveedor(!0)})}cargarLista(){this.contactoProveedorService.listContactoProveedor(this.proveedoresCrud.obtenerProveedor().id).subscribe(o=>{this.contactosProveedor=o.data,this.contactosProvCrud.editarListaContactosProveedor(this.contactosProveedor),this.contactosProvCrud.setCargoListaContactosProveedor(this.contactosProveedor),this.contactosProvCrud.cargoContactosProveedor(!0)},o=>{this.contactosProveedor=[],this.contactosProvCrud.editarListaContactosProveedor([]),this.contactosProvCrud.setCargoListaContactosProveedor([]),this.contactosProvCrud.cargoContactosProveedor(!0)})}emitirCambioTab(o,i){i?this.contactosProveedor.length>0?this.cambioTab.emit(o):this.sweetService.alertMensajeError("Error","Registrar como minimo un contacto"):this.cambioTab.emit(o)}transferenciaDato(o){this.contactoProveedor=o}iniciarObjeto(){this.contactoProveedor=new O}borrar(o,i){this.sweetService.alertMessageEleccionOpcion("\xbfDesea borrar este registro?","Si borra este registro no se mostrara en este listado","Confirmar","Cancelar").then(r=>{r&&this.contactoProveedorService.borrarContactoFinanciero(o).subscribe(a=>{this.contactosProveedor.splice(i,1)})})}editarList(o,i){o.index=i,this.contactoProveedor=o,this.contactoProveedor.fk_pais=Number(this.contactoProveedor.fk_pais),this.contactoProveedor.fk_ciudad=Number(this.contactoProveedor.fk_ciudad),this.contactoProveedor.usuario_registro_cont="pulpo",this.contactoProveedor.fk_proveedor=this.proveedoresCrud.obtenerProveedor().id,this.contactoProveedor.fk_tipo_contacto=Number(this.contactoProveedor.fk_tipo_contacto),this.contactoProveedor.pais=this.cargarSelectorPais.getCargoListaPais().find(r=>Number(r.id)===Number(this.contactoProveedor.fk_pais)),this.contactoProveedor.ciudad=this.cargarSelectorCiudad.getCargoListaCiudad().find(r=>Number(r.id)===Number(this.contactoProveedor.fk_ciudad))}cargarListaTipoContacto(){this.cargarSelect.seCargoSelects()&&this.contactosProveedorCrud.seCargoContactosProveedor()?(this.tiposContacto=this.cargarSelect.getCargoListaTiposContacto(),this.contactosProveedor=this.contactosProveedorCrud.getCargoListaContactosProveedor()):setTimeout(()=>{this.cargarListaTipoContacto()},700)}get f(){return this.form.controls}initForm(){this.form=this.formBuilder.group({nom:[this.contactoProveedor.nombre_cont,[s.kI.required]],car:[this.contactoProveedor.cargo_cont,[s.kI.required]],ema:[this.contactoProveedor.email_cont,[s.kI.required]],fkp:[this.contactoProveedor.fk_pais],fkc:[this.contactoProveedor.fk_ciudad],tel:[this.contactoProveedor.telefono_cont],cel:[this.contactoProveedor.celular_cont],dir:[this.contactoProveedor.direccion_cont],web:[this.contactoProveedor.web_cont],fax:[this.contactoProveedor.fax_cont],pai:[this.contactoProveedor.pais_cont],dat:[this.contactoProveedor.datos_extra_cont]})}guardar(){if(this.submitted=!0,this.contactoProveedor.fk_pais=Number(this.contactoProveedor.fk_pais),this.contactoProveedor.fk_ciudad=Number(this.contactoProveedor.fk_ciudad),this.contactoProveedor.usuario_registro_cont="pulpo",this.contactoProveedor.fk_proveedor=this.proveedoresCrud.obtenerProveedor().id,this.contactoProveedor.fk_tipo_contacto=Number(this.contactoProveedor.fk_tipo_contacto),!this.form.invalid&&(this.isEmail=this.email(this.contactoProveedor.email_cont),this.isEmail)){if(""===this.contactoProveedor.telefono_cont&&""===this.contactoProveedor.celular_cont)return void this.processSweetAlert.alertMensajeError("Error en el formulario","Debe ingresar por lo menos el n\xfamero de tel\xe9fono fijo o n\xfamero de celular.");if(0===this.contactoProveedor.fk_pais||0===this.contactoProveedor.fk_ciudad)return void this.processSweetAlert.alertMensajeError("Error en el formulario","Los datos ingresados son inv\xe1lidos o hay campos vaci\xf3s.");if(3===this.tipoProveedor&&0==this.contactoProveedor.fk_tipo_contacto)return void this.processSweetAlert.alertMensajeError("Error en el formulario","Los datos ingresados son inv\xe1lidos o hay campos vaci\xf3s.");this.contactoProveedorService.crearContactoProveedor(this.contactoProveedor).subscribe(o=>{0===this.contactoProveedor.id&&(this.contactoProveedor.id=Number(o.data),this.contactosProveedor.push(this.contactoProveedor),this.onReset())},o=>{const i=o.error;console.log(i),"The email cont has already been taken."===i.exception.email_cont[0]&&setTimeout(()=>{this.sweetService.alertMensajeError("Inconsistencia en la informaci\xf3n","Email repetido")},500)})}}filtrarPais(o){if(""===o.target.value)this.paises=this.cargarSelectorPais.getCargoListaPais(),this.contactoProveedor.fk_pais=0,this.contactoProveedor.pais=this.cargarSelectorPais.getCargoListaPais()[0];else{let i=[];this.esString(o.target.value)&&(i=46==(o.keyCode||o.charCode||o.which)||8==(o.keyCode||o.charCode||o.which)?this.cargarSelectorPais.getCargoListaPais():this.paises,this.paises=i.filter(r=>r.nombre_pai.toLowerCase().includes(o.target.value.toLowerCase())),null!=JSON.stringify(this.paises)&&0!=this.paises.length?this.contactoProveedor.fk_pais=this.paises[0].id:(this.paises=i,this.contactoProveedor.fk_pais=0))}}mostrarEnInputPais(){const o=this.paises.find(i=>Number(i.id)===Number(this.contactoProveedor.fk_pais));this.contactoProveedor.pais=new x.b,this.contactoProveedor.pais=o,this.ciudades=this.cargarSelectorCiudad.getCargoListaCiudad().filter(i=>Number(i.fk_pais)===Number(this.contactoProveedor.pais.id))}filtrarCiudad(o){if(""===o.target.value)this.ciudades=this.cargarSelectorCiudad.getCargoListaCiudad().filter(i=>Number(i.fk_pais)===Number(this.contactoProveedor.pais.id)),this.contactoProveedor.fk_ciudad=0,this.contactoProveedor.ciudad=this.cargarSelectorCiudad.getCargoListaCiudad()[0];else if(this.esString(o.target.value)){let i=[];i=46==(o.keyCode||o.charCode||o.which)||8==(o.keyCode||o.charCode||o.which)?this.cargarSelectorCiudad.getCargoListaCiudad().filter(r=>Number(r.fk_pais)===Number(this.contactoProveedor.pais.id)):this.ciudades,this.ciudades=i.filter(r=>r.nombre_ciu.toLowerCase().includes(o.target.value.toLowerCase())),null!=JSON.stringify(this.ciudades)&&0!=this.ciudades.length?this.contactoProveedor.fk_ciudad=this.ciudades[0].id:(this.ciudades=i,this.contactoProveedor.fk_ciudad=0)}}mostrarEnInputCiudad(){const o=this.ciudades.find(i=>Number(i.id)===Number(this.contactoProveedor.fk_ciudad));this.contactoProveedor.ciudad=new I,this.contactoProveedor.ciudad=o}esNumerico(o){return/^-?\d+$/.test(o)}esString(o){return!!/^[a-zA-Z]+$/.test(o)}esAlfanumerico(o){return!(!/^[-_ a-zA-Z0-9]+$/.test(o)||this.esNumerico(o)||this.esString(o))}onKeyUpEvent(){this.isEmail=this.email(this.contactoProveedor.email_cont)}emailEdit(o){return!!o.email_cont.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)}email(o){return!!o.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)}onReset(){this.submitted=!1,this.contactoProveedor=new O,this.form.reset()}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(F.p),e.Y36(vo),e.Y36(se),e.Y36(j),e.Y36(Z.J),e.Y36(Z.J),e.Y36(J),e.Y36(de),e.Y36(s.QS),e.Y36(j),e.Y36(N.R))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-cont-prov"]],outputs:{cambioTab:"cambioTab",object:"object"},decls:110,vars:29,consts:[[4,"ngIf"],["class","table table-condensed",4,"ngIf"],["type","button","class","btn btn-elegant","aria-controls","staticBackdrop","data-bs-toggle","offcanvas","data-bs-target","#staticBackdrop",3,"click",4,"ngIf"],[1,"d-flex","flex-row","bd-highlight","mb-3","justify-content-center"],[1,"p-4","bd-highlight",2,"padding-left","0rem !important","padding-bottom","0rem !important"],[1,"col-md"],["role","button","aria-pressed","true",1,"btn","btn-primary","btn-lg","regresar",3,"click"],["role","button","aria-pressed","true",1,"btn","btn-primary","btn-lg","siguiente",3,"click"],["data-bs-backdrop","static","tabindex","-1","id","staticBackdrop","aria-labelledby","staticBackdropLabel",1,"offcanvas","offcanvas-end"],[1,"offcanvas-header"],["id","staticBackdropLabel",1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close",3,"click"],[1,"offcanvas-body"],[1,"d-grid","gap-3"],[3,"formGroup"],["class","p-2",4,"ngIf"],[1,"p-2"],[1,"form-group"],["for","inputsm",1,"tamano-texto"],[1,"input-group","select-group"],["list","encodings","id","floatingInputGrid","type","text","autocomplete","off",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"value","keyup"],["class","input-group select-group",4,"ngIf"],["class","text-danger",4,"ngIf"],["list","encodings","autocomplete","off","type","text",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"value","keyup"],["id","inputsm","type","text","formControlName","nom",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],["id","inputsm","type","text","formControlName","car",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],["id","inputsm","type","text","formControlName","ema",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","keyup","ngModelChange"],["onKeypress","if (event.keyCode < 45 || event.keyCode > 57) event.returnValue = false;","id","inputsm","type","text","formControlName","tel",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],["onKeypress","if (event.keyCode < 45 || event.keyCode > 57) event.returnValue = false;","id","inputsm","type","text","formControlName","cel",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],["id","inputsm","type","text","formControlName","dir",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],["id","inputsm","type","text","formControlName","web",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],["id","inputsm","type","text","formControlName","fax",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],["id","inputsm","type","text","formControlName","dat",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],[1,"offcanvas-footer"],[1,"d-flex","flex-row","justify-content-center"],[1,"p-1"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn","btn-outline-primary","btn-lg","btn-block","radio-del-boton",3,"click"],[1,"tamano-texto-boton"],[1,"table","table-condensed"],["scope","col"],["class","align-middle",4,"ngFor","ngForOf"],[1,"align-middle"],["type","button","aria-controls","staticBackdrop","data-bs-toggle","offcanvas","data-bs-target","#staticBackdrop",1,"custom-css","btn","btn-primary","text-dark","nuevo-color",3,"click"],["type","button",1,"custom-css","btn","btn-primary","nuevo-color",3,"click"],[1,"bi","bi-trash3"],["type","button","aria-controls","staticBackdrop","data-bs-toggle","offcanvas","data-bs-target","#staticBackdrop",1,"btn","btn-elegant",3,"click"],["alt","Bootstrap","width","52","height","52",1,"nav_icon",3,"src"],["aria-label","Default select example","formControlName","tic",1,"form-select",3,"ngModel","ngModelChange"],["selected","","value","0"],["option","",3,"value",4,"ngFor","ngForOf"],["option","",3,"value"],[1,"text-danger"],[1,"position-relative"],["id","encodings","multiple","","formControlName","fkp","aria-label","multiple select example",1,"form-select","position-absolute",2,"z-index","2","width","348px",3,"ngModel","ngModelChange","change"],["value","0","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["id","encodings","multiple","","aria-label","multiple select example","formControlName","fkc",1,"form-select","position-absolute",2,"z-index","2","width","348px",3,"ngModel","ngModelChange","change"],["type","button",1,"btn","btn-primary","btn-lg","btn-block","radio-del-boton",3,"click"]],template:function(o,i){1&o&&(e.YNc(0,bo,4,0,"div",0),e.YNc(1,Co,4,0,"div",0),e.YNc(2,Zo,15,1,"table",1),e.YNc(3,To,4,1,"button",2),e._UZ(4,"br"),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"a",6),e.NdJ("click",function(){return i.emitirCambioTab(1,!1)}),e._uU(9," \xa0\xa0Regresar\xa0\xa0 "),e.qZA()()(),e.TgZ(10,"div",4)(11,"div",5)(12,"a",7),e.NdJ("click",function(){return i.emitirCambioTab(3,!0)}),e._uU(13," \xa0\xa0Siguiente\xa0\xa0 "),e.qZA()()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"h5",10),e._uU(17,"\xa0"),e.qZA(),e.TgZ(18,"button",11),e.NdJ("click",function(){return i.cargarLista()}),e.qZA()(),e.TgZ(19,"div",12)(20,"h5",10)(21,"strong"),e._uU(22,"Agregar contacto"),e.qZA()(),e._UZ(23,"br"),e.TgZ(24,"div",13)(25,"form",14),e.YNc(26,xo,8,3,"div",15),e.TgZ(27,"div",16)(28,"div",17)(29,"label",18),e._uU(30,"Pa\xeds*"),e.qZA(),e.TgZ(31,"div",19)(32,"input",20),e.NdJ("keyup",function(a){return i.filtrarPais(a)}),e.qZA()(),e.YNc(33,No,5,2,"div",21),e.YNc(34,qo,2,0,"p",22),e.qZA()(),e.TgZ(35,"div",16)(36,"div",17)(37,"label",18),e._uU(38,"Ciudad*"),e.qZA(),e.TgZ(39,"div",19)(40,"input",23),e.NdJ("keyup",function(a){return i.filtrarCiudad(a)}),e.qZA()(),e.YNc(41,Io,5,2,"div",21),e.YNc(42,wo,2,0,"p",22),e.qZA()(),e.TgZ(43,"div",16)(44,"div",17)(45,"label",18),e._uU(46,"Nombre*"),e.qZA(),e.TgZ(47,"input",24),e.NdJ("ngModelChange",function(a){return i.contactoProveedor.nombre_cont=a}),e.qZA(),e.YNc(48,Uo,2,0,"p",22),e.qZA()(),e.TgZ(49,"div",16)(50,"div",17)(51,"label",18),e._uU(52,"Cargo*"),e.qZA(),e.TgZ(53,"input",25),e.NdJ("ngModelChange",function(a){return i.contactoProveedor.cargo_cont=a}),e.qZA(),e.YNc(54,yo,2,0,"p",22),e.qZA()(),e.TgZ(55,"div",16)(56,"div",17)(57,"label",18),e._uU(58,"Email*"),e.qZA(),e.TgZ(59,"input",26),e.NdJ("keyup",function(){return i.onKeyUpEvent()})("ngModelChange",function(a){return i.contactoProveedor.email_cont=a}),e.qZA(),e.YNc(60,Jo,2,0,"p",22),e.YNc(61,So,2,0,"p",22),e.qZA()(),e.TgZ(62,"div",16)(63,"div",17)(64,"label",18),e._uU(65,"Tel\xe9fono"),e.qZA(),e.TgZ(66,"input",27),e.NdJ("ngModelChange",function(a){return i.contactoProveedor.telefono_cont=a}),e.qZA(),e.YNc(67,jo,2,0,"p",22),e.qZA()(),e.TgZ(68,"div",16)(69,"div",17)(70,"label",18),e._uU(71,"Celular"),e.qZA(),e.TgZ(72,"input",28),e.NdJ("ngModelChange",function(a){return i.contactoProveedor.celular_cont=a}),e.qZA(),e.YNc(73,Lo,2,0,"p",22),e.qZA()(),e.TgZ(74,"div",16)(75,"div",17)(76,"label",18),e._uU(77,"Direcci\xf3n"),e.qZA(),e.TgZ(78,"input",29),e.NdJ("ngModelChange",function(a){return i.contactoProveedor.direccion_cont=a}),e.qZA()()(),e.TgZ(79,"div",16)(80,"div",17)(81,"label",18),e._uU(82,"Web"),e.qZA(),e.TgZ(83,"input",30),e.NdJ("ngModelChange",function(a){return i.contactoProveedor.web_cont=a}),e.qZA()()(),e.TgZ(84,"div",16)(85,"div",17)(86,"label",18),e._uU(87,"Fax"),e.qZA(),e.TgZ(88,"input",31),e.NdJ("ngModelChange",function(a){return i.contactoProveedor.fax_cont=a}),e.qZA()()(),e.TgZ(89,"div",16)(90,"div",17)(91,"label",18),e._uU(92,"Informaci\xf3n Adicional"),e.qZA(),e.TgZ(93,"input",32),e.NdJ("ngModelChange",function(a){return i.contactoProveedor.datos_extra_cont=a}),e.qZA()()()()()(),e.TgZ(94,"div",33)(95,"div",34),e._UZ(96,"div",16),e.YNc(97,Eo,6,0,"div",15),e.YNc(98,Qo,6,0,"div",15),e._UZ(99,"div",35),e.TgZ(100,"div",16)(101,"button",36),e.NdJ("click",function(){return i.cargarLista()}),e._uU(102," \xa0\xa0\xa0\xa0\xa0\xa0"),e.TgZ(103,"strong",37),e._uU(104,"Cerrar"),e.qZA(),e._uU(105,"\xa0\xa0\xa0\xa0\xa0\xa0 "),e.qZA()(),e._UZ(106,"div",16),e.qZA(),e._UZ(107,"br")(108,"br")(109,"br"),e.qZA()()),2&o&&(e.Q6J("ngIf",2!=i.tipoProveedor),e.xp6(1),e.Q6J("ngIf",2==i.tipoProveedor),e.xp6(1),e.Q6J("ngIf",i.contactosProveedor.length>0),e.xp6(1),e.Q6J("ngIf",i.contactosProveedor.length<3),e.xp6(22),e.Q6J("formGroup",i.form),e.xp6(1),e.Q6J("ngIf",3==i.tipoProveedor),e.xp6(6),e.s9C("value",i.contactoProveedor.pais.nombre_pai),e.xp6(1),e.Q6J("ngIf",i.contactoProveedor.fk_pais>0&&0==i.contactoProveedor.pais.nombre_pai.length),e.xp6(1),e.Q6J("ngIf",i.submitted&&0===i.contactoProveedor.fk_pais),e.xp6(6),e.s9C("value",i.contactoProveedor.ciudad.nombre_ciu),e.xp6(1),e.Q6J("ngIf",i.contactoProveedor.fk_ciudad>0&&0==i.contactoProveedor.ciudad.nombre_ciu.length),e.xp6(1),e.Q6J("ngIf",i.submitted&&0===i.contactoProveedor.fk_ciudad),e.xp6(5),e.Q6J("ngModel",i.contactoProveedor.nombre_cont),e.xp6(1),e.Q6J("ngIf",i.submitted&&""===i.contactoProveedor.nombre_cont||i.submitted&&(null==i.f.nom.errors?null:i.f.nom.errors.required)),e.xp6(5),e.Q6J("ngModel",i.contactoProveedor.cargo_cont),e.xp6(1),e.Q6J("ngIf",i.submitted&&""===i.contactoProveedor.cargo_cont||i.submitted&&(null==i.f.car.errors?null:i.f.car.errors.required)),e.xp6(5),e.Q6J("ngModel",i.contactoProveedor.email_cont),e.xp6(1),e.Q6J("ngIf",i.submitted&&""===i.contactoProveedor.email_cont||i.submitted&&(null==i.f.ema.errors?null:i.f.ema.errors.required)),e.xp6(1),e.Q6J("ngIf",i.submitted&&!i.isEmail),e.xp6(5),e.Q6J("ngModel",i.contactoProveedor.telefono_cont),e.xp6(1),e.Q6J("ngIf",i.submitted&&!i.esNumerico(i.contactoProveedor.telefono_cont)&&""==i.contactoProveedor.telefono_cont),e.xp6(5),e.Q6J("ngModel",i.contactoProveedor.celular_cont),e.xp6(1),e.Q6J("ngIf",i.submitted&&!i.esNumerico(i.contactoProveedor.celular_cont)&&""==i.contactoProveedor.celular_cont),e.xp6(5),e.Q6J("ngModel",i.contactoProveedor.direccion_cont),e.xp6(5),e.Q6J("ngModel",i.contactoProveedor.web_cont),e.xp6(5),e.Q6J("ngModel",i.contactoProveedor.fax_cont),e.xp6(5),e.Q6J("ngModel",i.contactoProveedor.datos_extra_cont),e.xp6(4),e.Q6J("ngIf",0==i.contactoProveedor.id&&i.contactosProveedor.length<3),e.xp6(1),e.Q6J("ngIf",i.contactoProveedor.id>0))},dependencies:[s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.K7,s.JJ,s.JL,s.sg,s.u,m.sg,m.O5],styles:[".negrita-en-value[_ngcontent-%COMP%]{font-weight:700}.tamano-texto[_ngcontent-%COMP%]{font-size:.8rem}.tamano-texto-boton[_ngcontent-%COMP%]{font-size:.9rem}.radio-del-boton[_ngcontent-%COMP%]{border-radius:25rem}div.d-grid.gap-3[_ngcontent-%COMP%]   .p-2[_ngcontent-%COMP%]{padding-top:.08rem!important}a.btn.btn-primary.btn-lg.regresar[_ngcontent-%COMP%]{background-color:#d8d9da;border-color:#d8d9da;border-radius:20px;color:#43454b}a.btn.btn-primary.btn-lg.siguiente[_ngcontent-%COMP%]{background-color:#0068c9;border-color:#0068c9;border-radius:20px}a.btn.btn-primary.btn-lg[_ngcontent-%COMP%]{background-color:#d8d9da}"]}),t})();class G{constructor(){this.index=0,this.id=0,this.nombre_cof="",this.cargo_cof="",this.telefono_cof="",this.celular_cof="",this.email_cont="",this.direccion_cof="",this.web_cof="",this.fax_cof="",this.pais_cof="",this.ciudad_cof="",this.fecha_creacion_cof="",this.usuario_registro_cof="",this.datos_extra_cof="",this.fk_proveedor=0,this.fk_pais=0,this.fk_ciudad=0,this.fk_tipo_contacto=0,this.documentoscali=[],this.pais=new x.b,this.ciudad=new I}}let Yo=(()=>{class t{constructor(o,i){this.http=o,this.router=i,this.baseUrl=g.N.urlGlobal+"contactos-financieros",this.url=`${this.baseUrl}`,this.httpOptions={headers:new _.WM({"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("token")})}}listContactoFinanciero(o){return this.http.get(this.url+"/proveedor/"+o,this.httpOptions).pipe((0,p.X)(1))}crearContactoFinancieroProveedor(o){return o.id>0?this.http.put(this.url+"/"+o.id,o).pipe((0,p.X)(1)):this.http.post(this.url,o).pipe((0,p.X)(1))}borrarContactoFinanciero(o){return this.http.delete(this.url+"/"+o,this.httpOptions).pipe((0,p.X)(1))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(_.eN),e.LFG(f.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Oo(t,n){1&t&&(e.TgZ(0,"div")(1,"h3"),e._uU(2,"Contacto Financiero"),e.qZA(),e._UZ(3,"br"),e.qZA())}function Go(t,n){1&t&&(e.TgZ(0,"div")(1,"h3"),e._uU(2,"Contacto"),e.qZA(),e._UZ(3,"br"),e.qZA())}function Vo(t,n){1&t&&(e.TgZ(0,"div")(1,"h3"),e._uU(2,"Contactos"),e.qZA(),e._UZ(3,"br"),e.qZA())}function Ko(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"tr",38)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"a",39),e.NdJ("click",function(){const r=e.CHM(o),a=r.$implicit,c=r.index,d=e.oxw(2);return e.KtG(d.editarItem(a,c))}),e.TgZ(13,"span"),e._uU(14,"Editar"),e.qZA()(),e._uU(15,"\xa0 "),e.TgZ(16,"a",40),e.NdJ("click",function(){const r=e.CHM(o),a=r.$implicit,c=r.index,d=e.oxw(2);return e.KtG(d.borrar(a.id,c))}),e._uU(17," \xa0\xa0"),e._UZ(18,"i",41),e._uU(19,"\xa0\xa0 "),e.qZA()()()}if(2&t){const o=n.$implicit;e.xp6(2),e.Oqu(o.nombre_cof),e.xp6(2),e.Oqu(o.cargo_cof),e.xp6(2),e.Oqu(o.telefono_cof),e.xp6(2),e.Oqu(o.celular_cof),e.xp6(2),e.Oqu(o.email_cont)}}function zo(t,n){if(1&t&&(e.TgZ(0,"table",35)(1,"thead")(2,"tr")(3,"th",36),e._uU(4,"Nombre"),e.qZA(),e.TgZ(5,"th",36),e._uU(6,"Cargo"),e.qZA(),e.TgZ(7,"th",36),e._uU(8,"Tel\xe9fono fijo"),e.qZA(),e.TgZ(9,"th",36),e._uU(10,"Celular"),e.qZA(),e.TgZ(11,"th",36),e._uU(12,"E-mail"),e.qZA()()(),e.TgZ(13,"tbody"),e.YNc(14,Ko,20,5,"tr",37),e.qZA()()),2&t){const o=e.oxw();e.xp6(14),e.Q6J("ngForOf",o.contactosFinancieroProveedor)}}function Bo(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.iniciarObjeto())}),e._UZ(1,"img",43),e.TgZ(2,"strong"),e._uU(3,"\xa0\xa0Agregar Contacto"),e.qZA()()}if(2&t){const o=e.oxw();e.xp6(1),e.MGl("src","",o.img,"/assets/Paginas/more.svg",e.LSH)}}function Ho(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",44)(1,"div",45)(2,"a",46),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.emitirCambioTab(2,!1))}),e._uU(3," \xa0\xa0Regresar\xa0\xa0 "),e.qZA()()()}}function $o(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",44)(1,"div",45)(2,"a",46),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.emitirCambioTab(1,!1))}),e._uU(3," \xa0\xa0Regresar\xa0\xa0 "),e.qZA()()()}}function Ro(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",44)(1,"div",45)(2,"a",47),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.emitirCambioTab(4,!0))}),e._uU(3," \xa0\xa0Siguiente\xa0\xa0 "),e.qZA()()()}}function Xo(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",44)(1,"div",45)(2,"a",47),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.emitirCambioTab(3,!0))}),e._uU(3," \xa0\xa0Siguiente\xa0\xa0 "),e.qZA()()()}}function Wo(t,n){if(1&t&&(e.TgZ(0,"option",51),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.nombre_tip_cont,"")}}function et(t,n){1&t&&(e.TgZ(0,"p",52),e._uU(1," Seleccionar tipo de contacto. "),e.qZA())}function ot(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",13)(1,"label",15),e._uU(2,"Tipo de contacto"),e.qZA(),e.TgZ(3,"select",48),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.contactoProveedor.fk_tipo_contacto=r)}),e.TgZ(4,"option",49),e._uU(5,"Tipo de contacto"),e.qZA(),e.YNc(6,Wo,2,2,"option",50),e.qZA(),e.YNc(7,et,2,0,"p",19),e.qZA()}if(2&t){const o=e.oxw();e.xp6(3),e.Q6J("ngModel",o.contactoProveedor.fk_tipo_contacto),e.xp6(3),e.Q6J("ngForOf",o.tiposContacto),e.xp6(1),e.Q6J("ngIf",o.submitted&&0==o.contactoProveedor.fk_tipo_contacto||o.submitted&&(null==o.f.tic.errors?null:o.f.tic.errors.required))}}function tt(t,n){if(1&t&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.nombre_pai," ")}}function it(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",16)(1,"div",53)(2,"select",54),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.contactoProveedor.fk_pais=r)})("change",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.mostrarEnInputPais())}),e._UZ(3,"option",55),e.YNc(4,tt,2,2,"option",56),e.qZA()()()}if(2&t){const o=e.oxw();e.xp6(2),e.Q6J("ngModel",o.contactoProveedor.fk_pais),e.xp6(2),e.Q6J("ngForOf",o.paises)}}function rt(t,n){1&t&&(e.TgZ(0,"p",52),e._uU(1," Seleccionar pais. "),e.qZA())}function nt(t,n){if(1&t&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.nombre_ciu," ")}}function at(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",16)(1,"div",53)(2,"select",58),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.contactoProveedor.fk_ciudad=r)})("change",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.mostrarEnInputCiudad())}),e._UZ(3,"option",55),e.YNc(4,nt,2,2,"option",56),e.qZA()()()}if(2&t){const o=e.oxw();e.xp6(2),e.Q6J("ngModel",o.contactoProveedor.fk_ciudad),e.xp6(2),e.Q6J("ngForOf",o.ciudades)}}function ct(t,n){1&t&&(e.TgZ(0,"p",52),e._uU(1," Seleccionar ciudad. "),e.qZA())}function st(t,n){1&t&&(e.TgZ(0,"p",52),e._uU(1," Ingresar nombres. "),e.qZA())}function dt(t,n){1&t&&(e.TgZ(0,"p",52),e._uU(1," Ingresar cargo. "),e.qZA())}function lt(t,n){1&t&&(e.TgZ(0,"p",52),e._uU(1," Ingresar email. "),e.qZA())}function ut(t,n){1&t&&(e.TgZ(0,"p",52),e._uU(1," Email invalido "),e.qZA())}function _t(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",13)(1,"button",59),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.guardar())}),e._uU(2," \xa0\xa0\xa0\xa0\xa0\xa0"),e.TgZ(3,"strong",34),e._uU(4,"Guardar"),e.qZA(),e._uU(5,"\xa0\xa0\xa0\xa0\xa0\xa0 "),e.qZA()()}}function pt(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",13)(1,"button",59),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.guardar())}),e._uU(2," \xa0\xa0\xa0\xa0\xa0\xa0"),e.TgZ(3,"strong",34),e._uU(4,"Guardar"),e.qZA(),e._uU(5,"\xa0\xa0\xa0\xa0\xa0\xa0 "),e.qZA()()}}let mt=(()=>{class t{constructor(o,i,r,a,c,d,u,h,b,k,P){this.proveedoresCrud=o,this.contactoFinancieroCrud=i,this.sweetService=r,this.cargarSelectorPais=a,this.cargarSelectorCiudad=c,this.ciudadService=d,this.cargarSelect=u,this.contactosProveedorCrud=h,this.processSweetAlert=b,this.formBuilder=k,this.contactoProveedorFinancieroService=P,this.img=q.O.appImg,this.paises=[],this.ciudades=[],this.tipoProveedor=0,this.cambioTab=new e.vpe,this.contactoProveedor=new G,this.contactosFinancieroProveedor=[],this.form=new s.nJ({}),this.submitted=!1,this.isEmail=!1,this.tiposContacto=[]}ngOnInit(){this.cargarSelectores(),this.tipoProveedor=this.proveedoresCrud.obtenerProveedor().fk_tipo_proveedor,this.init(),this.initForm(),this.cargarListaTipoContacto()}init(){this.cargarListaContactoProveedor()}cargarSelectores(){this.paises=this.cargarSelectorPais.getCargoListaPais(),this.cargarSelectorCiudad.seCargoListaCiudad()?this.ciudades=this.cargarSelectorCiudad.getCargoListaCiudad():this.ciudadService.list().subscribe(o=>{this.ciudades=o.data,this.cargarSelectorCiudad.setCargoListaCiudad(this.ciudades),this.cargarSelectorCiudad.cargoListaCiudad(!0)})}esNumerico(o){return/^-?\d+$/.test(o)}cargarListaContactoProveedor(){this.contactoFinancieroCrud.seCargoContactosFinancieroProveedor()?this.contactosFinancieroProveedor=this.contactoFinancieroCrud.getCargoListaContactosFinancieroProveedor():this.contactoProveedorFinancieroService.listContactoFinanciero(this.proveedoresCrud.obtenerProveedor().id).subscribe(o=>{this.contactosFinancieroProveedor=o.data,this.contactoFinancieroCrud.editarListaContactosFinancieroProveedor(this.contactosFinancieroProveedor),this.contactoFinancieroCrud.setCargoListaContactosFinancieroProveedor(this.contactosFinancieroProveedor),this.contactoFinancieroCrud.cargoContactosFinancieroProveedor(!0)},o=>{this.contactosFinancieroProveedor=[],this.contactoFinancieroCrud.editarListaContactosFinancieroProveedor([]),this.contactoFinancieroCrud.setCargoListaContactosFinancieroProveedor([]),this.contactoFinancieroCrud.cargoContactosFinancieroProveedor(!0)})}emitirCambioTab(o,i){i?this.contactosFinancieroProveedor.length>0?this.cambioTab.emit(o):this.sweetService.alertMensajeError("Error","Registrar como minimo un contacto"):this.cambioTab.emit(o)}transferenciaDato(o){this.contactoProveedor=o}iniciarObjeto(){this.contactoProveedor=new G}borrar(o,i){this.sweetService.alertMessageEleccionOpcion("\xbfDesea borrar este registro?","Si borra este registro no se mostrara en este listado","Confirmar","Cancelar").then(r=>{r&&this.contactoProveedorFinancieroService.borrarContactoFinanciero(o).subscribe(a=>{this.contactosFinancieroProveedor.splice(i,1)})})}editarItem(o,i){o.index=i,this.contactoProveedor=o,this.contactoProveedor.fk_ciudad=Number(this.contactoProveedor.fk_ciudad),this.contactoProveedor.fk_pais=Number(this.contactoProveedor.fk_pais),this.contactoProveedor.usuario_registro_cof="pulpo",this.contactoProveedor.fk_proveedor=this.proveedoresCrud.obtenerProveedor().id,this.contactoProveedor.fk_tipo_contacto=Number(this.contactoProveedor.fk_tipo_contacto),this.contactoProveedor.pais=this.cargarSelectorPais.getCargoListaPais().find(r=>Number(r.id)===this.contactoProveedor.fk_pais),this.contactoProveedor.ciudad=this.cargarSelectorCiudad.getCargoListaCiudad().find(r=>Number(r.id)===this.contactoProveedor.fk_ciudad)}get f(){return this.form.controls}initForm(){this.form=this.formBuilder.group({nom:[this.contactoProveedor.nombre_cof,[s.kI.required]],car:[this.contactoProveedor.cargo_cof,[s.kI.required]],ema:[this.contactoProveedor.email_cont,[s.kI.required]],fkp:[this.contactoProveedor.fk_pais],fkc:[this.contactoProveedor.fk_ciudad],tic:[this.contactoProveedor.fk_tipo_contacto,[s.kI.required]],tel:[this.contactoProveedor.telefono_cof],cel:[this.contactoProveedor.celular_cof],dir:[this.contactoProveedor.direccion_cof],web:[this.contactoProveedor.web_cof],fax:[this.contactoProveedor.fax_cof],pai:[this.contactoProveedor.pais_cof],ciu:[this.contactoProveedor.ciudad_cof],dat:[this.contactoProveedor.datos_extra_cof]})}filtrarPais(o){if(""===o.target.value||null===o.target.value)return this.paises=this.cargarSelectorPais.getCargoListaPais(),this.contactoProveedor.fk_pais=0,this.contactoProveedor.pais=this.cargarSelectorPais.getCargoListaPais()[0],!1;if(this.esString(o.target.value)){let i=[];return 46==(o.keyCode||o.charCode||o.which)||8==(o.keyCode||o.charCode||o.which)?this.paises=this.cargarSelectorPais.getCargoListaPais():i=this.paises,i=this.cargarSelectorPais.getCargoListaPais(),this.paises=i.filter(r=>r.nombre_pai.toLowerCase().includes(o.target.value.toLowerCase())),null!=JSON.stringify(this.paises)&&0!=this.paises.length?(this.contactoProveedor.fk_pais=this.paises[0].id,!0):(this.paises=i,this.contactoProveedor.fk_pais=0,!1)}return!1}esString(o){return!!/^[a-zA-Z]+$/.test(o)}cargarListaTipoContacto(){this.cargarSelect.seCargoSelects()?(this.tiposContacto=this.cargarSelect.getCargoListaTiposContacto(),console.log("true: "+this.tiposContacto.length)):setTimeout(()=>{console.log("false: "+this.tiposContacto.length),this.cargarListaTipoContacto()},700)}mostrarEnInputPais(){const o=this.paises.find(i=>Number(i.id)===Number(this.contactoProveedor.fk_pais));this.contactoProveedor.pais=new x.b,this.contactoProveedor.pais=o,this.ciudades=this.cargarSelectorCiudad.getCargoListaCiudad().filter(i=>Number(i.fk_pais)===Number(this.contactoProveedor.pais.id))}filtrarCiudad(o){if(""===o.target.value)return this.ciudades=this.cargarSelectorCiudad.getCargoListaCiudad().filter(i=>Number(i.fk_pais)===Number(this.contactoProveedor.pais.id)),this.contactoProveedor.fk_ciudad=0,this.contactoProveedor.ciudad=this.cargarSelectorCiudad.getCargoListaCiudad()[0],!1;if(this.esString(o.target.value)){let i=[];if(i=46==(o.keyCode||o.charCode||o.which)||8==(o.keyCode||o.charCode||o.which)?this.cargarSelectorCiudad.getCargoListaCiudad().filter(r=>Number(r.fk_pais)===Number(this.contactoProveedor.pais.id)):this.ciudades,this.ciudades=i.filter(r=>r.nombre_ciu.toLowerCase().includes(o.target.value.toLowerCase())),null!=JSON.stringify(this.ciudades)&&0!=this.ciudades.length)return this.contactoProveedor.fk_ciudad=this.ciudades[0].id,!0;this.ciudades=i,this.contactoProveedor.fk_ciudad=0}return!1}mostrarEnInputCiudad(){const o=this.ciudades.find(i=>Number(i.id)===Number(this.contactoProveedor.fk_ciudad));this.contactoProveedor.ciudad=new I,this.contactoProveedor.ciudad=o}cargarLista(){this.contactoProveedorFinancieroService.listContactoFinanciero(this.proveedoresCrud.obtenerProveedor().id).subscribe(o=>{this.contactosFinancieroProveedor=o.data,this.contactoFinancieroCrud.editarListaContactosFinancieroProveedor(this.contactosFinancieroProveedor),this.contactoFinancieroCrud.setCargoListaContactosFinancieroProveedor(this.contactosFinancieroProveedor),this.contactoFinancieroCrud.cargoContactosFinancieroProveedor(!0)},o=>{this.contactosFinancieroProveedor=[],this.contactoFinancieroCrud.editarListaContactosFinancieroProveedor([]),this.contactoFinancieroCrud.setCargoListaContactosFinancieroProveedor([]),this.contactoFinancieroCrud.cargoContactosFinancieroProveedor(!0)})}guardar(){if(this.submitted=!0,this.contactoProveedor.fk_ciudad=Number(this.contactoProveedor.fk_ciudad),this.contactoProveedor.fk_pais=Number(this.contactoProveedor.fk_pais),this.contactoProveedor.usuario_registro_cof="pulpo",this.contactoProveedor.fk_proveedor=this.proveedoresCrud.obtenerProveedor().id,this.contactoProveedor.fk_tipo_contacto=Number(this.contactoProveedor.fk_tipo_contacto),this.form.invalid)console.log("Object: "+JSON.stringify(this.contactoProveedor));else if(this.isEmail=this.email(this.contactoProveedor.email_cont),this.isEmail){if(3===this.tipoProveedor){if(0===this.contactoProveedor.fk_tipo_contacto)return void this.processSweetAlert.alertMensajeError("Error en el formulario","Seleccionar el tipo de contacto.")}else this.contactoProveedor.fk_tipo_contacto=1;if(""===this.contactoProveedor.telefono_cof&&""===this.contactoProveedor.celular_cof)return null===this.contactoProveedor.celular_cof||this.esNumerico(this.contactoProveedor.celular_cof)?null===this.contactoProveedor.telefono_cof||this.esNumerico(this.contactoProveedor.telefono_cof)?void this.processSweetAlert.alertMensajeError("Error en el formulario","Debe ingresar por lo menos el n\xfamero de tel\xe9fono fijo o n\xfamero de celular."):void this.processSweetAlert.alertMensajeError("Error en el formulario","Ingresar n\xfamero telef\xf3nico."):void this.processSweetAlert.alertMensajeError("Error en el formulario","Ingresar n\xfamero de celular.");if(0===this.contactoProveedor.fk_pais||0===this.contactoProveedor.fk_ciudad)return void this.processSweetAlert.alertMensajeError("Error en el formulario","Los datos ingresados son inv\xe1lidos o hay campos vaci\xf3s.");this.contactoProveedorFinancieroService.crearContactoFinancieroProveedor(this.contactoProveedor).subscribe(o=>{0===this.contactoProveedor.id&&(this.contactoProveedor.id=Number(o.data),this.contactosFinancieroProveedor.push(this.contactoProveedor),this.contactoFinancieroCrud.setCargoListaContactosFinancieroProveedor(this.contactosFinancieroProveedor),this.onReset())},o=>{console.log(JSON.stringify(o));const i=o.error;console.log(JSON.stringify(o)),"The email cont has already been taken."===i.exception.email_cont[0]&&setTimeout(()=>{this.sweetService.alertMensajeError("Inconsistencia en la informaci\xf3n","Email repetido")},500)})}}editar(){this.submitted=!0,this.contactoProveedor.fk_ciudad=Number(this.contactoProveedor.fk_ciudad),this.contactoProveedor.fk_pais=Number(this.contactoProveedor.fk_pais),!this.form.invalid&&(this.isEmail=this.emailEdit(this.contactoProveedor),this.isEmail&&this.contactoProveedorFinancieroService.crearContactoFinancieroProveedor(this.contactoProveedor).subscribe())}onKeyUpEvent(){this.isEmail=this.email(this.contactoProveedor.email_cont)}emailEdit(o){return!!o.email_cont.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)}email(o){return!!o.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)}onReset(){this.submitted=!1,this.contactoProveedor=new G,this.form.reset()}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(F.p),e.Y36(re),e.Y36(Z.J),e.Y36(J),e.Y36(de),e.Y36(se),e.Y36(N.R),e.Y36(j),e.Y36(Z.J),e.Y36(s.QS),e.Y36(Yo))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-cont-fina"]],outputs:{cambioTab:"cambioTab"},decls:106,vars:32,consts:[[4,"ngIf"],["class","table table-condensed",4,"ngIf"],["type","button","class","btn btn-elegant","aria-controls","staticBackdrop","data-bs-toggle","offcanvas","data-bs-target","#staticBackdrop",3,"click",4,"ngIf"],[1,"d-flex","flex-row","bd-highlight","mb-3","justify-content-center"],["class","p-4 bd-highlight","style","padding-left: 0rem !important; padding-bottom: 0rem !important;",4,"ngIf"],["data-bs-backdrop","static","tabindex","-1","id","staticBackdrop","aria-labelledby","staticBackdropLabel",1,"offcanvas","offcanvas-end"],[1,"offcanvas-header"],["id","staticBackdropLabel",1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close",3,"click"],[1,"offcanvas-body"],[1,"d-grid","gap-3"],[3,"formGroup"],["class","p-2",4,"ngIf"],[1,"p-2"],[1,"form-group"],["for","inputsm",1,"tamano-texto"],[1,"input-group","select-group"],["list","encodings","id","floatingInputGrid","type","text","autocomplete","off",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"value","keyup"],["class","input-group select-group",4,"ngIf"],["class","text-danger",4,"ngIf"],["list","encodings","autocomplete","off","type","text",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"value","keyup"],["id","inputsm","type","text","formControlName","nom",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],["id","inputsm","type","text","formControlName","car",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],["id","inputsm","type","text","formControlName","ema",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","keyup","ngModelChange"],["onKeypress","if (event.keyCode < 45 || event.keyCode > 57) event.returnValue = false;","id","inputsm","type","text","formControlName","tel",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],["onKeypress","if (event.keyCode < 45 || event.keyCode > 57) event.returnValue = false;","id","inputsm","type","text","formControlName","cel",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],["id","inputsm","type","text","formControlName","dir",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],["id","inputsm","type","text","formControlName","web",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],["id","inputsm","type","text","formControlName","fax",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],["id","inputsm","type","text","formControlName","dat",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],[1,"offcanvas-footer"],[1,"d-flex","flex-row","justify-content-center"],[1,"p-1"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn","btn-outline-primary","btn-lg","btn-block","radio-del-boton",3,"click"],[1,"tamano-texto-boton"],[1,"table","table-condensed"],["scope","col"],["class","align-middle",4,"ngFor","ngForOf"],[1,"align-middle"],["type","button","aria-controls","staticBackdrop","data-bs-toggle","offcanvas","data-bs-target","#staticBackdrop",1,"custom-css","btn","btn-primary","text-dark","nuevo-color",3,"click"],["type","button",1,"custom-css","btn","btn-primary","nuevo-color",3,"click"],[1,"bi","bi-trash3"],["type","button","aria-controls","staticBackdrop","data-bs-toggle","offcanvas","data-bs-target","#staticBackdrop",1,"btn","btn-elegant",3,"click"],["alt","Bootstrap","width","52","height","52",1,"nav_icon",3,"src"],[1,"p-4","bd-highlight",2,"padding-left","0rem !important","padding-bottom","0rem !important"],[1,"col-md"],["role","button","aria-pressed","true",1,"btn","btn-primary","btn-lg","regresar",3,"click"],["role","button","aria-pressed","true",1,"btn","btn-primary","btn-lg","siguiente",3,"click"],["aria-label","Default select example","formControlName","tic",1,"form-select",3,"ngModel","ngModelChange"],["selected","","value","0"],["option","",3,"value",4,"ngFor","ngForOf"],["option","",3,"value"],[1,"text-danger"],[1,"position-relative"],["id","encodings","multiple","","formControlName","fkp","aria-label","multiple select example",1,"form-select","position-absolute",2,"z-index","2","width","348px",3,"ngModel","ngModelChange","change"],["value","0","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["id","encodings","multiple","","aria-label","multiple select example","formControlName","fkc",1,"form-select","position-absolute",2,"z-index","2","width","348px",3,"ngModel","ngModelChange","change"],["type","button",1,"btn","btn-primary","btn-lg","btn-block","radio-del-boton",3,"click"]],template:function(o,i){1&o&&(e.YNc(0,Oo,4,0,"div",0),e.YNc(1,Go,4,0,"div",0),e.YNc(2,Vo,4,0,"div",0),e.YNc(3,zo,15,1,"table",1),e._UZ(4,"br"),e.YNc(5,Bo,4,1,"button",2),e._UZ(6,"br"),e.TgZ(7,"div",3),e.YNc(8,Ho,4,0,"div",4),e.YNc(9,$o,4,0,"div",4),e.YNc(10,Ro,4,0,"div",4),e.YNc(11,Xo,4,0,"div",4),e.qZA(),e.TgZ(12,"div",5)(13,"div",6)(14,"h5",7),e._uU(15,"\xa0"),e.qZA(),e.TgZ(16,"button",8),e.NdJ("click",function(){return i.cargarLista()}),e.qZA()(),e.TgZ(17,"div",9)(18,"h5",7)(19,"strong"),e._uU(20,"Agregar contacto"),e.qZA()(),e._UZ(21,"br"),e.TgZ(22,"div",10)(23,"form",11),e.YNc(24,ot,8,3,"div",12),e.TgZ(25,"div",13)(26,"div",14)(27,"label",15),e._uU(28,"Pa\xeds*"),e.qZA(),e.TgZ(29,"div",16)(30,"input",17),e.NdJ("keyup",function(a){return i.filtrarPais(a)}),e.qZA()(),e.YNc(31,it,5,2,"div",18),e.YNc(32,rt,2,0,"p",19),e.qZA()(),e.TgZ(33,"div",13)(34,"div",14)(35,"label",15),e._uU(36,"Ciudad*"),e.qZA(),e.TgZ(37,"div",16)(38,"input",20),e.NdJ("keyup",function(a){return i.filtrarCiudad(a)}),e.qZA()(),e.YNc(39,at,5,2,"div",18),e.YNc(40,ct,2,0,"p",19),e.qZA()(),e.TgZ(41,"div",13)(42,"div",14)(43,"label",15),e._uU(44,"Nombre*"),e.qZA(),e.TgZ(45,"input",21),e.NdJ("ngModelChange",function(a){return i.contactoProveedor.nombre_cof=a}),e.qZA(),e.YNc(46,st,2,0,"p",19),e.qZA()(),e.TgZ(47,"div",13)(48,"div",14)(49,"label",15),e._uU(50,"Cargo*"),e.qZA(),e.TgZ(51,"input",22),e.NdJ("ngModelChange",function(a){return i.contactoProveedor.cargo_cof=a}),e.qZA(),e.YNc(52,dt,2,0,"p",19),e.qZA()(),e.TgZ(53,"div",13)(54,"div",14)(55,"label",15),e._uU(56,"Email*"),e.qZA(),e.TgZ(57,"input",23),e.NdJ("keyup",function(){return i.onKeyUpEvent()})("ngModelChange",function(a){return i.contactoProveedor.email_cont=a}),e.qZA(),e.YNc(58,lt,2,0,"p",19),e.YNc(59,ut,2,0,"p",19),e.qZA()(),e.TgZ(60,"div",13)(61,"div",14)(62,"label",15),e._uU(63,"Tel\xe9fono"),e.qZA(),e.TgZ(64,"input",24),e.NdJ("ngModelChange",function(a){return i.contactoProveedor.telefono_cof=a}),e.qZA()()(),e.TgZ(65,"div",13)(66,"div",14)(67,"label",15),e._uU(68,"Celular"),e.qZA(),e.TgZ(69,"input",25),e.NdJ("ngModelChange",function(a){return i.contactoProveedor.celular_cof=a}),e.qZA()()(),e.TgZ(70,"div",13)(71,"div",14)(72,"label",15),e._uU(73,"Direcci\xf3n"),e.qZA(),e.TgZ(74,"input",26),e.NdJ("ngModelChange",function(a){return i.contactoProveedor.direccion_cof=a}),e.qZA()()(),e.TgZ(75,"div",13)(76,"div",14)(77,"label",15),e._uU(78,"Web"),e.qZA(),e.TgZ(79,"input",27),e.NdJ("ngModelChange",function(a){return i.contactoProveedor.web_cof=a}),e.qZA()()(),e.TgZ(80,"div",13)(81,"div",14)(82,"label",15),e._uU(83,"Fax"),e.qZA(),e.TgZ(84,"input",28),e.NdJ("ngModelChange",function(a){return i.contactoProveedor.fax_cof=a}),e.qZA()()(),e.TgZ(85,"div",13)(86,"div",14)(87,"label",15),e._uU(88,"Datos extra"),e.qZA(),e.TgZ(89,"input",29),e.NdJ("ngModelChange",function(a){return i.contactoProveedor.datos_extra_cof=a}),e.qZA()()()()()(),e.TgZ(90,"div",30)(91,"div",31),e._UZ(92,"div",13),e.YNc(93,_t,6,0,"div",12),e.YNc(94,pt,6,0,"div",12),e._UZ(95,"div",32),e.TgZ(96,"div",13)(97,"button",33),e.NdJ("click",function(){return i.cargarLista()}),e._uU(98," \xa0\xa0\xa0\xa0\xa0\xa0"),e.TgZ(99,"strong",34),e._uU(100,"Cerrar"),e.qZA(),e._uU(101,"\xa0\xa0\xa0\xa0\xa0\xa0 "),e.qZA()(),e._UZ(102,"div",13),e.qZA(),e._UZ(103,"br")(104,"br")(105,"br"),e.qZA()()),2&o&&(e.Q6J("ngIf",1==i.tipoProveedor),e.xp6(1),e.Q6J("ngIf",2==i.tipoProveedor),e.xp6(1),e.Q6J("ngIf",3==i.tipoProveedor),e.xp6(1),e.Q6J("ngIf",i.contactosFinancieroProveedor.length>0),e.xp6(2),e.Q6J("ngIf",i.contactosFinancieroProveedor.length<3),e.xp6(3),e.Q6J("ngIf",3!=i.tipoProveedor),e.xp6(1),e.Q6J("ngIf",3==i.tipoProveedor),e.xp6(1),e.Q6J("ngIf",3!=i.tipoProveedor),e.xp6(1),e.Q6J("ngIf",3==i.tipoProveedor),e.xp6(12),e.Q6J("formGroup",i.form),e.xp6(1),e.Q6J("ngIf",3==i.tipoProveedor),e.xp6(6),e.s9C("value",i.contactoProveedor.pais.nombre_pai),e.xp6(1),e.Q6J("ngIf",i.contactoProveedor.fk_pais>0&&0==i.contactoProveedor.pais.nombre_pai.length),e.xp6(1),e.Q6J("ngIf",i.submitted&&0===i.contactoProveedor.fk_pais),e.xp6(6),e.s9C("value",i.contactoProveedor.ciudad.nombre_ciu),e.xp6(1),e.Q6J("ngIf",i.contactoProveedor.fk_ciudad>0&&0==i.contactoProveedor.ciudad.nombre_ciu.length),e.xp6(1),e.Q6J("ngIf",i.submitted&&0===i.contactoProveedor.fk_ciudad),e.xp6(5),e.Q6J("ngModel",i.contactoProveedor.nombre_cof),e.xp6(1),e.Q6J("ngIf",i.submitted&&""===i.contactoProveedor.nombre_cof||i.submitted&&(null==i.f.nom.errors?null:i.f.nom.errors.required)),e.xp6(5),e.Q6J("ngModel",i.contactoProveedor.cargo_cof),e.xp6(1),e.Q6J("ngIf",i.submitted&&""===i.contactoProveedor.cargo_cof||i.submitted&&(null==i.f.car.errors?null:i.f.car.errors.required)),e.xp6(5),e.Q6J("ngModel",i.contactoProveedor.email_cont),e.xp6(1),e.Q6J("ngIf",i.submitted&&""===i.contactoProveedor.email_cont||i.submitted&&(null==i.f.ema.errors?null:i.f.ema.errors.required)),e.xp6(1),e.Q6J("ngIf",i.submitted&&!i.isEmail),e.xp6(5),e.Q6J("ngModel",i.contactoProveedor.telefono_cof),e.xp6(5),e.Q6J("ngModel",i.contactoProveedor.celular_cof),e.xp6(5),e.Q6J("ngModel",i.contactoProveedor.direccion_cof),e.xp6(5),e.Q6J("ngModel",i.contactoProveedor.web_cof),e.xp6(5),e.Q6J("ngModel",i.contactoProveedor.fax_cof),e.xp6(5),e.Q6J("ngModel",i.contactoProveedor.datos_extra_cof),e.xp6(4),e.Q6J("ngIf",i.contactosFinancieroProveedor.length<3),e.xp6(1),e.Q6J("ngIf",i.contactoProveedor.id>0&&3===i.contactosFinancieroProveedor.length))},dependencies:[s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.K7,s.JJ,s.JL,s.sg,s.u,m.sg,m.O5],styles:[".negrita-en-value[_ngcontent-%COMP%]{font-weight:700}.tamano-texto[_ngcontent-%COMP%]{font-size:.8rem}.tamano-texto-boton[_ngcontent-%COMP%]{font-size:.9rem}.radio-del-boton[_ngcontent-%COMP%]{border-radius:25rem}div.d-grid.gap-3[_ngcontent-%COMP%]   .p-2[_ngcontent-%COMP%]{padding-top:.08rem!important}a.btn.btn-primary.btn-lg.regresar[_ngcontent-%COMP%]{background-color:#d8d9da;border-color:#d8d9da;border-radius:20px;color:#43454b}a.btn.btn-primary.btn-lg.siguiente[_ngcontent-%COMP%]{background-color:#0068c9;border-color:#0068c9;border-radius:20px}a.btn.btn-primary.btn-lg[_ngcontent-%COMP%]{background-color:#d8d9da}"]}),t})();var ht=l(2609),M=l(2107);let V=(()=>{class t{constructor(){this.listaDocumento=[],this.seCargoListaDoc=!1}setCargoListaDocumento(o){this.listaDocumento=o}getCargoListaDocumento(){return this.listaDocumento}seCargoListaDocumento(){return this.seCargoListaDoc}cargoListaDocumento(o){this.seCargoListaDoc=o}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var K=l(9085),ft=l(9959);let gt=(()=>{class t{constructor(o,i){this.http=o,this.router=i,this.baseUrl=g.N.urlGlobal+"send-email/",this.url=`${this.baseUrl}`,this.httpOptions={headers:new _.WM({"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("token")})}}sendEmail(o){return this.http.get(this.url+o,this.httpOptions).pipe((0,p.X)(1))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(_.eN),e.LFG(f.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),vt=(()=>{class t{constructor(o,i){this.http=o,this.router=i,this.baseUrl=g.N.urlGlobal+"lista-documentos-categoria-requeridos/",this.url=`${this.baseUrl}`,this.httpOptions={headers:new _.WM({"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("token")})}}list(o){return this.http.get(this.url+o,this.httpOptions).pipe((0,p.X)(1))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(_.eN),e.LFG(f.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var A=l(8997),bt=l(1481);let z=(()=>{class t{constructor(o){this.sanitizer=o}transform(o){return this.sanitizer.bypassSecurityTrustResourceUrl(o)}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(bt.H7,16))},t.\u0275pipe=e.Yjl({name:"safe",type:t,pure:!0}),t})();function Ct(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",52)(1,"div",53)(2,"div",54)(3,"div",55)(4,"div",56)(5,"div",57)(6,"h5",58),e._uU(7),e.qZA()(),e.TgZ(8,"div",57)(9,"button",59),e.NdJ("click",function(){const r=e.CHM(o),a=r.$implicit,c=r.index,d=e.oxw(2);return e.KtG(d.borrar(a.id,c))}),e._uU(10," \xa0\xa0"),e._UZ(11,"i",60),e._uU(12," \xa0\xa0Eliminar\xa0\xa0\xa0\xa0 "),e.qZA(),e._uU(13,"\xa0 "),e.TgZ(14,"a",61),e.NdJ("click",function(){const a=e.CHM(o).$implicit,c=e.oxw(2);return e.KtG(c.mostrarItem(a))}),e._UZ(15,"i",62),e.qZA()()()()()()()}if(2&t){const o=n.$implicit;e.xp6(7),e.hij(" ",o.nombre_doc,"\xa0\xa0\xa0\xa0 \xa0\xa0\xa0\xa0 ")}}function At(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,Ct,16,1,"div",51),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.documentosProveedor)}}function Zt(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",63)(1,"div",64)(2,"a",65),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.emitirCambioTab(3))}),e._uU(3," \xa0\xa0Regresar\xa0\xa0 "),e.qZA()()()}}function Tt(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",63)(1,"div",64)(2,"a",65),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.emitirCambioTab(5))}),e._uU(3," \xa0\xa0Regresar\xa0\xa0 "),e.qZA()()()}}function kt(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",63)(1,"div",64)(2,"a",65),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.emitirCambioTab(2))}),e._uU(3," \xa0\xa0Regresar\xa0\xa0 "),e.qZA()()()}}function Pt(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",63)(1,"div",64)(2,"a",66),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.finalizar())}),e._uU(3," \xa0\xa0Finalizar\xa0\xa0 "),e.qZA()()()}}function xt(t,n){if(1&t&&(e.TgZ(0,"option",67),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.nombre_lis_doc," ")}}function Ft(t,n){1&t&&(e.TgZ(0,"p",68),e._uU(1," Seleccionar tipo de documento. "),e.qZA())}function Nt(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"ngx-dropzone-preview",69),e.NdJ("removed",function(){const a=e.CHM(o).$implicit,c=e.oxw();return e.KtG(c.onRemove(a))}),e.TgZ(1,"ngx-dropzone-label"),e._uU(2),e.qZA()()}if(2&t){const o=n.$implicit;e.Q6J("removable",!0),e.xp6(2),e.AsE("",o.name," (",o.type,")")}}function qt(t,n){1&t&&(e.TgZ(0,"p",68),e._uU(1," Subir el archivo. "),e.qZA())}function Mt(t,n){1&t&&(e.TgZ(0,"label",70),e._uU(1,"Urgente"),e.qZA())}function It(t,n){1&t&&(e.TgZ(0,"label",71),e._uU(1,"No urgente"),e.qZA())}let wt=(()=>{class t{constructor(o,i,r,a,c,d,u,h,b,k,P,U){this.proveedorService=o,this.cargarSelectoresListaDocumentos=i,this.documentService=r,this.docCreacionProveedor=a,this.formBuilder=c,this.documentProv=d,this.provCrud=u,this.processSweetAlert=h,this.sendEmailService=b,this.cargarSelectoresProveedor=k,this.router=P,this.listaDocumentosCategoriaRequeridosService=U,this.img=q.O.appImg,this.pdfSrc="",this.tipoArchivo="",this.tipoContactoSelec=0,this.tipoDocumentoFilte=0,this.tipoContactoFilter=0,this.tipoProveedor=0,this.mostrarBotonFinalizar=!1,this.tituloDocument="",this.documentosProveedor=[],this.tiposProveedores=[],this.selecListaDocumentos=[],this.form=new s.nJ({}),this.prioridad=!1,this.comenzo=!1,this.submitted=!1,this.cambioTab=new e.vpe,this.document=new M.B,this.formData=new FormData,this.files=[]}ngOnInit(){this.tipoProveedor=this.provCrud.obtenerProveedor().fk_tipo_proveedor,this.listaDocumentosProveedor(),this.initFormProGen()}listaDocumentosProveedor(){this.documentosProveedor=[],this.documentProv.seCargoDocumentosProveedor()?(this.documentosProveedor=this.documentProv.getCargoListaDocumentosProveedor(),this.validarDocsObligatorios()):this.documentService.listDocumentosProveedor(this.provCrud.obtenerProveedor().id).subscribe(o=>{let i=o.data;i.forEach(d=>{const u=d.path_doc.split(/[#?]/)[0].split(".").pop().trim();3===(d.nombre_doc=d.lista_documentos[0].nombre_lis_doc,d.id=Number(d.id),d.fk_conductor=Number(d.fk_conductor),d.fk_contacto=Number(d.fk_contacto),d.fk_contacto_financiero=Number(d.fk_contacto_financiero),d.fk_estado=Number(d.fk_estado),d.fk_lista_doc=Number(d.fk_lista_doc),d.fk_proveedor=Number(d.fk_proveedor),d.fk_vehiculo=Number(d.fk_vehiculo),this.tipoProveedor)?"TAX ID(digital o f\xedsico)"===d.lista_documentos[0].nombre_lis_doc&&(d.nombre_doc="*"+d.nombre_doc):d.nombre_doc="*"+d.nombre_doc,d.tipoArchivo=u}),this.documentosProveedor=i,this.documentProv.editarListaDocumentosProveedor(this.documentosProveedor),this.documentProv.setCargoListaDocumentosProveedor(this.documentosProveedor),this.documentProv.cargoDocumentosProveedor(!0),new FormData;var c=new Blob([o.data[0].path_doc],{type:"application/pdf"});this.pdfSrc=window.URL.createObjectURL(c),this.validarDocsObligatorios()},o=>{console.log("Error: "+JSON.stringify(o)),this.documentosProveedor=[],this.documentProv.editarListaDocumentosProveedor([]),this.documentProv.setCargoListaDocumentosProveedor([]),this.documentProv.cargoDocumentosProveedor(!0)})}initFormProGen(){this.form=this.formBuilder.group({fld:[this.document.fk_lista_doc,[s.kI.required]]})}get f(){return this.form.controls}guardar(){this.submitted=!0,this.document.fk_lista_doc=Number(this.document.fk_lista_doc),!this.form.invalid&&0!==this.files.length&&0!==this.document.fk_lista_doc&&(this.formData.set("fk_proveedor",""+this.provCrud.obtenerProveedor().id),this.formData.set("fk_lista_doc",""+this.document.fk_lista_doc),this.formData.set("nombre_doc",""+this.document.nombre_doc),this.document.formData=this.formData,this.documentService.crearDocumento(this.document,1).subscribe(o=>{const i=o.data;this.document.id=Number(i.id),this.document.path_doc=i.url;let r=new ht.M;r=this.selecListaDocumentos.find(c=>c.id===this.document.fk_lista_doc),this.document.lista_documentos.push(r),this.document.nombre_doc=r.nombre_lis_doc,this.documentosProveedor.push(this.document),this.documentProv.setCargoListaDocumentosProveedor(this.documentosProveedor);const a=this.selecListaDocumentos.findIndex(c=>c.id===this.document.fk_lista_doc);a>-1&&this.selecListaDocumentos.splice(a,1),this.reset(),this.validarDocsObligatorios()},o=>{console.log("Error: "+JSON.stringify(o))}))}cargarSelect(){return new Promise(o=>{let i=0;switch(this.tipoProveedor){case 1:i=1;break;case 2:i=3;break;case 3:i=2}this.listaDocumentosCategoriaRequeridosService.list(i).subscribe(r=>{this.selecListaDocumentos=r.data;let c=[];this.selecListaDocumentos.forEach(d=>{switch(this.tipoProveedor){case 1:("RUC(digital o f\xedsico)"===d.nombre_lis_doc||"Certificado o n\xfamero de cuenta"===d.nombre_lis_doc||"Email de retenciones"===d.nombre_lis_doc)&&(d.nombre_lis_doc="*"+d.nombre_lis_doc);break;case 2:("RUC(digital o f\xedsico)"===d.nombre_lis_doc||"Email de retenciones"===d.nombre_lis_doc||"Nombramiento"===d.nombre_lis_doc||"Certificado o n\xfamero de cuenta"===d.nombre_lis_doc||"Copia de la c\xe9dula de identidad del representante legal"===d.nombre_lis_doc)&&(d.nombre_lis_doc="*"+d.nombre_lis_doc,c.push(d));break;case 3:"TAX ID(digital o f\xedsico)"===d.nombre_lis_doc&&(d.nombre_lis_doc="*"+d.nombre_lis_doc)}}),2===this.tipoProveedor&&(this.selecListaDocumentos=c),this.cargarSelectoresListaDocumentos.setCargoListaDocumento(this.selecListaDocumentos),this.cargarSelectoresListaDocumentos.cargoListaDocumento(!0),this.documentosProveedor.forEach(d=>{const u=this.selecListaDocumentos.findIndex(h=>Number(h.id)===Number(d.fk_lista_doc));u>-1&&this.selecListaDocumentos.splice(u,1)}),o(null)},r=>{this.cargarSelectoresListaDocumentos.cargoListaDocumento(!0),o(null)})})}finalizar(){}cambioUno(){let o=0;this.prioridad?(this.prioridad=!1,o=0):(this.prioridad=!0,o=1),this.provCrud.obtenerProveedor().urgente_pro=o}emitirCambioTab(o){this.cambioTab.emit(o)}onSelect(o){this.files=[],this.files.push(...o.addedFiles),this.formData=new FormData;const i=new FileReader;i.readAsArrayBuffer(this.files[0]),i.onload=r=>{var a=new Blob([this.files[0]],{type:"application/pdf"});this.formData.set("file",a,this.files[0].name),this.document.formData=this.formData}}borrar(o,i){this.processSweetAlert.alertMessageEleccionOpcion("\xbfDesea borrar este registro?","Si borra este registro no se mostrara en este listado","Confirmar","Cancelar").then(r=>{r&&this.documentService.borrarDocumento(o).subscribe(()=>{this.cargarSelect().then(()=>{this.docCreacionProveedor.listDocs().subscribe(a=>{let d=a.data.find(u=>Number(u.id)===Number(this.documentosProveedor[i].fk_lista_doc));this.selecListaDocumentos.push(d),this.documentosProveedor.splice(i,1),this.validarDocsObligatorios()})})})})}editar(o,i){this.files=[]}onRemove(o){this.files.splice(this.files.indexOf(o),1)}reset(){this.submitted=!1,this.files=[],this.document=new M.B,this.form.reset()}mostrarItem(o){this.pdfSrc=o.path_doc,this.tituloDocument=o.nombre_doc}salirALista(o){switch(o){case 1:this.proveedorService.crearProveedor(this.provCrud.obtenerProveedor()).subscribe(()=>{this.sendEmailService.sendEmail(this.provCrud.obtenerProveedor().id).subscribe(()=>{const i=this.cargarSelectoresProveedor.getCargoListaEstados();let r=new C.I;r=this.provCrud.obtenerProveedor(),r.estados=i.find(a=>"Solicitado"===a.nombre_est),r.fk_estado=Number(this.provCrud.obtenerProveedor().estados.id),this.provCrud.editarProveedor(r),this.router.navigate([""]).then(()=>{this.router.navigate(["administracion/proveedor"]).then(()=>{this.cambioTab.emit(-10)})})})});break;case 2:this.cambioTab.emit(-10)}}validarDocsObligatorios(){if(this.cargarSelectoresListaDocumentos.seCargoListaDocumento())switch(this.selecListaDocumentos=this.cargarSelectoresListaDocumentos.getCargoListaDocumento(),this.tipoProveedor){case 1:case 2:this.mostrarBotonFinalizar=0===this.selecListaDocumentos.length;break;case 3:const o=this.selecListaDocumentos.find(r=>"*TAX ID(digital o f\xedsico)"===r.nombre_lis_doc),i=this.documentosProveedor.find(r=>"*TAX ID(digital o f\xedsico)"===r.nombre_doc);this.mostrarBotonFinalizar=void 0===o&&null!=i}else this.cargarSelect().then(()=>{this.validarDocsObligatorios()})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(y.z),e.Y36(V),e.Y36(K.Z),e.Y36(ft.F),e.Y36(s.QS),e.Y36(ne),e.Y36(F.p),e.Y36(Z.J),e.Y36(gt),e.Y36(N.R),e.Y36(f.F0),e.Y36(vt))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-document"]],inputs:{document:"document"},outputs:{cambioTab:"cambioTab"},decls:106,vars:20,consts:[[4,"ngIf"],["type","button","aria-controls","staticBackdrop","data-bs-toggle","offcanvas","data-bs-target","#staticBackdrop",1,"btn","btn-elegant",3,"click"],["alt","Bootstrap","width","52","height","52",1,"nav_icon",3,"src"],[1,"d-flex","flex-row","bd-highlight","mb-3","justify-content-center"],["class","p-4 bd-highlight","style","padding-left: 0rem !important; padding-bottom: 0rem !important;",4,"ngIf"],["data-bs-backdrop","static","tabindex","-1","id","staticBackdrop","aria-labelledby","staticBackdropLabel",1,"offcanvas","offcanvas-end"],[1,"offcanvas-header"],["id","staticBackdropLabel",1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close"],[1,"offcanvas-body"],[1,"d-grid","gap-3"],[3,"formGroup"],[1,"p-2"],[1,"form-group"],["for","inputsm",1,"tamano-texto"],["aria-label","Default select example","formControlName","fld",1,"form-select",3,"ngModel","ngModelChange"],["value","0"],["option","",3,"value",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],["accept","application/pdf,image/jpeg,image/jpg,image/png",3,"multiple","change"],[3,"removable","removed",4,"ngFor","ngForOf"],[1,"offcanvas-footer"],[1,"d-flex","flex-row","justify-content-center"],["type","button",1,"btn","btn-primary","btn-lg","btn-block","radio-del-boton",3,"click"],[1,"tamano-texto-boton"],[1,"p-1"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn","btn-outline-primary","btn-lg","btn-block","radio-del-boton"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","text-danger"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["frameBorder","0","scrolling","auto","width","100%","height","580px","id","content_all","frameborder","0",3,"src"],["id","exampleModal3","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content","custom"],[1,"modal-header","border-0"],["id","exampleModalLabel",1,"modal-title"],[1,"form-group","row"],["for","staticEmail",1,"col-sm-3","col-form-label"],[1,"col-sm-9","row","align-items-center"],[1,"form-check","form-switch"],["type","checkbox","id","flexSwitchCheckDefault",1,"form-check-input",3,"checked","click"],["class","form-check-label","for","flexSwitchCheckDefault",4,"ngIf"],["class","form-check-label","for","flexSwitchCheckChecked",4,"ngIf"],[1,"d-flex","justify-content-center"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary","custom",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-primary","custom",3,"click"],[1,"modal-footer","border-0"],["class","row mb-3",4,"ngFor","ngForOf"],[1,"row","mb-3"],[1,"col-lg-11"],[1,"card","mb-3","color-custom"],[1,"card-body","personality-custom"],[1,"d-flex","justify-content-between","align-self-center"],[1,"p-3"],[1,"menos-lenght-texto"],[1,"tamano-custom","borrar",3,"click"],[1,"bi","bi-trash"],["data-bs-toggle","modal","data-bs-target","#exampleModal",3,"click"],[1,"bi","bi-chevron-right","tamano-custom"],[1,"p-4","bd-highlight",2,"padding-left","0rem !important","padding-bottom","0rem !important"],[1,"col-md"],["role","button","aria-pressed","true",1,"btn","btn-primary","btn-lg","regresar",3,"click"],["data-bs-toggle","modal","data-bs-target","#exampleModal3","role","button","aria-pressed","true",1,"btn","btn-primary","btn-lg","siguiente",3,"click"],["option","",3,"value"],[1,"text-danger"],[3,"removable","removed"],["for","flexSwitchCheckDefault",1,"form-check-label"],["for","flexSwitchCheckChecked",1,"form-check-label"]],template:function(o,i){1&o&&(e.TgZ(0,"h3"),e._uU(1,"Documentos del Proveedor"),e.qZA(),e._UZ(2,"br"),e.YNc(3,At,2,1,"div",0),e.TgZ(4,"button",1),e.NdJ("click",function(){return i.cargarSelect()}),e._UZ(5,"img",2),e.TgZ(6,"strong"),e._uU(7,"\xa0\xa0Agregar documento"),e.qZA()(),e._UZ(8,"br"),e.TgZ(9,"div",3),e.YNc(10,Zt,4,0,"div",4),e.YNc(11,Tt,4,0,"div",4),e.YNc(12,kt,4,0,"div",4),e.YNc(13,Pt,4,0,"div",4),e.qZA(),e.TgZ(14,"div",5)(15,"div",6)(16,"h5",7),e._uU(17,"\xa0"),e.qZA(),e._UZ(18,"button",8),e.qZA(),e.TgZ(19,"div",9)(20,"h5",7)(21,"strong"),e._uU(22,"Agregar documento"),e.qZA()(),e._UZ(23,"br"),e.TgZ(24,"div",10)(25,"form",11)(26,"div",12)(27,"div",13)(28,"label",14),e._uU(29,"Tipo de documento"),e.qZA(),e.TgZ(30,"select",15),e.NdJ("ngModelChange",function(a){return i.document.fk_lista_doc=a}),e.TgZ(31,"option",16),e._uU(32,"Seleccione un tipo de documento"),e.qZA(),e.YNc(33,xt,2,2,"option",17),e.qZA(),e.YNc(34,Ft,2,0,"p",18),e.qZA()()(),e.TgZ(35,"div",13)(36,"h6"),e._uU(37,"Sube el archivo"),e.qZA(),e.TgZ(38,"p"),e._uU(39,"Puedes subir un archivo PDF,JPG, PNG de hasta 100 MB."),e.qZA(),e.TgZ(40,"ngx-dropzone",19),e.NdJ("change",function(a){return i.onSelect(a)}),e.TgZ(41,"ngx-dropzone-label"),e._uU(42,"Arrastra y suelta un archivo para subirlo O elige archivos de tu dispositivo"),e.qZA(),e.YNc(43,Nt,3,3,"ngx-dropzone-preview",20),e.qZA(),e.YNc(44,qt,2,0,"p",18),e.qZA()()(),e.TgZ(45,"div",21)(46,"div",22),e._UZ(47,"div",12),e.TgZ(48,"div",12)(49,"button",23),e.NdJ("click",function(){return i.guardar()}),e._uU(50," \xa0\xa0\xa0\xa0\xa0\xa0"),e.TgZ(51,"strong",24),e._uU(52,"Guardar"),e.qZA(),e._uU(53,"\xa0\xa0\xa0\xa0\xa0\xa0 "),e.qZA()(),e._UZ(54,"div",25),e.TgZ(55,"div",12)(56,"button",26),e._uU(57," \xa0\xa0\xa0\xa0\xa0\xa0"),e.TgZ(58,"strong",24),e._uU(59,"Cerrar"),e.qZA(),e._uU(60,"\xa0\xa0\xa0\xa0\xa0\xa0 "),e.qZA()(),e._UZ(61,"div",12),e.qZA(),e._UZ(62,"br")(63,"br")(64,"br"),e.qZA()(),e.TgZ(65,"div",27)(66,"div",28)(67,"div",29)(68,"div",30)(69,"h5",31),e._uU(70),e.qZA(),e._UZ(71,"button",32),e.qZA(),e.TgZ(72,"div",33),e._UZ(73,"iframe",34),e.ALo(74,"safe"),e.qZA()()()(),e.TgZ(75,"div",35)(76,"div",36)(77,"div",37)(78,"div",38),e._UZ(79,"h5",39)(80,"button",32),e.qZA(),e.TgZ(81,"div",33)(82,"h2"),e._uU(83,"Enviar Proveedor"),e.qZA(),e.TgZ(84,"p"),e._uU(85,"Presione enviar para poder enviar la informaci\xf3n del proveddor nuevo, la notificaci\xf3n llegar\xe1 a cada uno de los correos registrados, despu\xe9s de ello deber\xe1 revisar las notificaciones y proceder con las acciones respectivas."),e.qZA(),e._UZ(86,"br"),e.TgZ(87,"div",40)(88,"label",41)(89,"h5"),e._uU(90,"Prioridad:\xa0\xa0\xa0\xa0"),e.qZA()(),e.TgZ(91,"div",42)(92,"div",43)(93,"input",44),e.NdJ("click",function(){return i.cambioUno()}),e.qZA(),e.YNc(94,Mt,2,0,"label",45),e.YNc(95,It,2,0,"label",46),e.qZA()()()(),e.TgZ(96,"div",47)(97,"button",48),e.NdJ("click",function(){return i.salirALista(1)}),e._uU(98," Solicitar "),e.qZA(),e._uU(99,"\xa0\xa0 "),e.TgZ(100,"button",49),e.NdJ("click",function(){return i.salirALista(2)}),e._uU(101," Guardar "),e.qZA(),e._UZ(102,"br")(103,"br"),e.qZA(),e.TgZ(104,"div",50),e._uU(105," \xa0 "),e.qZA()()()()),2&o&&(e.xp6(3),e.Q6J("ngIf",i.documentosProveedor.length>0),e.xp6(2),e.MGl("src","",i.img,"/assets/Paginas/more.svg",e.LSH),e.xp6(5),e.Q6J("ngIf",1==i.tipoProveedor),e.xp6(1),e.Q6J("ngIf",2==i.tipoProveedor),e.xp6(1),e.Q6J("ngIf",3==i.tipoProveedor),e.xp6(1),e.Q6J("ngIf",i.mostrarBotonFinalizar),e.xp6(12),e.Q6J("formGroup",i.form),e.xp6(5),e.Q6J("ngModel",i.document.fk_lista_doc),e.xp6(3),e.Q6J("ngForOf",i.selecListaDocumentos),e.xp6(1),e.Q6J("ngIf",i.submitted&&0==i.document.fk_lista_doc||i.submitted&&(null==i.f.fld.errors?null:i.f.fld.errors.required)),e.xp6(6),e.Q6J("multiple",!1),e.xp6(3),e.Q6J("ngForOf",i.files),e.xp6(1),e.Q6J("ngIf",i.submitted&&0==i.files.length),e.xp6(26),e.Oqu(i.tituloDocument),e.xp6(3),e.Q6J("src",e.lcZ(74,18,i.pdfSrc),e.uOi),e.xp6(20),e.Q6J("checked",i.prioridad),e.xp6(1),e.Q6J("ngIf",i.prioridad),e.xp6(1),e.Q6J("ngIf",!i.prioridad))},dependencies:[A._f,A.NP,A.dt,s._Y,s.YN,s.Kr,s.EJ,s.JJ,s.JL,s.sg,s.u,m.sg,m.O5,z],styles:[".negrita-en-value[_ngcontent-%COMP%]{font-weight:700}.tamano-texto[_ngcontent-%COMP%]{font-size:.8rem}.tamano-texto-boton[_ngcontent-%COMP%]{font-size:.9rem}.radio-del-boton[_ngcontent-%COMP%]{border-radius:25rem}div.d-grid.gap-3[_ngcontent-%COMP%]   .p-2[_ngcontent-%COMP%]{padding-top:.08rem!important}a.btn.btn-primary.btn-lg.regresar[_ngcontent-%COMP%]{background-color:#d8d9da;border-color:#d8d9da;border-radius:20px;color:#43454b}a.btn.btn-primary.btn-lg.siguiente[_ngcontent-%COMP%]{background-color:#0068c9;border-color:#0068c9;border-radius:20px}a.btn.btn-primary.btn-lg[_ngcontent-%COMP%]{background-color:#d8d9da}div.card.mb-3.color-custom[_ngcontent-%COMP%]{background-color:#f0f1f2;border-radius:16px;border-style:none}div.card-header.personality-custom[_ngcontent-%COMP%]{border-style:none;background-color:transparent;padding:0%;padding-top:.8rem}div.card-body.personality-custom[_ngcontent-%COMP%]{padding-top:0rem}div.card-header.personality-custom[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#dceae1;border-radius:16px}div.card-header.personality-custom[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   strong.aprobado[_ngcontent-%COMP%]{color:#78c462}div.card-header.personality-custom[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   strong.pendiente[_ngcontent-%COMP%]{color:#f36c21}a[_ngcontent-%COMP%]   i.tamano-custom[_ngcontent-%COMP%]{font-size:142%;color:#000}button.tamano-custom[_ngcontent-%COMP%]{color:#fff;border-color:transparent}button.borrar[_ngcontent-%COMP%]{background-color:#24c1f2;border-radius:16px}button.editar[_ngcontent-%COMP%]{background-color:#132036;border-radius:16px}button.custom[_ngcontent-%COMP%]{border-radius:28px;display:inline-block;cursor:pointer;font-family:Arial;font-size:17px;padding:3px 67px;text-decoration:none}div.modal-content.custom[_ngcontent-%COMP%]{border-radius:30px}.menos-lenght-texto[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:612px}"]}),t})();class L{constructor(){this.id=0,this.nombre_col="",this.descripcion_col=""}}class E{constructor(){this.id=0,this.nombre_mar="",this.descripcion_mar=""}}class le{constructor(){this.index=0,this.id=0,this.nombre_tip="",this.descripcion_tip=""}}class w{constructor(){this.index=0,this.id=0,this.placa_veh="",this.anio_veh="",this.color_veh="",this.marca_veh="",this.kilometraje_veh=0,this.fecha_revision_veh="",this.toneladas_veh=0,this.permiso_veh="",this.tipo_unidad_veh="",this.fecha_caducidad_veh="",this.nombre_propietario_veh="",this.permiso_operacion_veh="",this.fk_tipo_veh=0,this.fk_proveedor=0,this.documentos=[],this.documentoscali=[],this.check=!1,this.fk_marca_veh=0,this.fk_color_veh=0,this.fecha_caducidad_permiso_operaciones_veh="",this.fecha_caducidad_mtop_veh="",this.gps_veh=0,this.user_gps_veh="",this.passwor_gps_veh="",this.link_gps_veh="",this.color=new L,this.marca=new E,this.tipoVehiculo=new le}}let Ut=(()=>{class t{constructor(){this.listaCategoriaDocuments=[],this.seCargoProveedores=!1}setCargoListaCategoriasDocuments(o){this.listaCategoriaDocuments=o}getCargoListaCategoriasDocuments(){return this.listaCategoriaDocuments}seCargoListaCategoriasDocuments(){return this.seCargoProveedores}cargoListaCategoriasDocuments(o){this.seCargoProveedores=o}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),yt=(()=>{class t{constructor(o,i){this.http=o,this.router=i,this.baseUrl=g.N.urlGlobal+"vehiculos",this.url=`${this.baseUrl}`,this.httpOptions={headers:new _.WM({"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("token")})}}listVehiculo(o){return this.http.get(this.url+"-proveedor/"+o,this.httpOptions).pipe((0,p.X)(1))}crearVehiculo(o){return 0===o.id?this.http.post(this.url,o).pipe((0,p.X)(1)):this.http.put(this.url+"/"+o.id,o).pipe((0,p.X)(1))}borrarVehiculo(o){return this.http.delete(this.url+"/"+o).pipe((0,p.X)(1))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(_.eN),e.LFG(f.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Jt(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"tr",65)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"a",66),e.NdJ("click",function(){const r=e.CHM(o),a=r.$implicit,c=r.index,d=e.oxw(2);return e.KtG(d.editarItem(a,c))}),e.TgZ(15,"span"),e._uU(16,"Editar"),e.qZA()(),e._uU(17,"\xa0 "),e.TgZ(18,"a",67),e.NdJ("click",function(){const r=e.CHM(o),a=r.$implicit,c=r.index,d=e.oxw(2);return e.KtG(d.borrar(a.id,c))}),e._uU(19," \xa0\xa0"),e._UZ(20,"i",68),e._uU(21,"\xa0\xa0 "),e.qZA()()()}if(2&t){const o=n.$implicit;e.xp6(2),e.Oqu(o.nombre_propietario_veh),e.xp6(2),e.Oqu(o.placa_veh),e.xp6(2),e.Oqu(o.anio_veh),e.xp6(2),e.Oqu(o.color_veh),e.xp6(2),e.Oqu(o.fecha_revision_veh),e.xp6(2),e.Oqu(o.fecha_caducidad_veh)}}function St(t,n){if(1&t&&(e.TgZ(0,"table",62)(1,"thead")(2,"tr")(3,"th",63),e._uU(4,"Nombre del propietario"),e.qZA(),e.TgZ(5,"th",63),e._uU(6,"Placa de veh\xedculo"),e.qZA(),e.TgZ(7,"th",63),e._uU(8,"A\xf1o del veh\xedculo"),e.qZA(),e.TgZ(9,"th",63),e._uU(10,"Color"),e.qZA(),e.TgZ(11,"th",63),e._uU(12,"Fecha de RTV"),e.qZA(),e.TgZ(13,"th",63),e._uU(14,"Fecha de Caducidad Matricula"),e.qZA()()(),e.TgZ(15,"tbody"),e.YNc(16,Jt,22,6,"tr",64),e.qZA()()),2&t){const o=e.oxw();e.xp6(16),e.Q6J("ngForOf",o.vehiculos)}}function jt(t,n){if(1&t&&(e.TgZ(0,"option",71),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.nombre_tip," ")}}function Lt(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",18)(1,"div",69)(2,"select",70),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.vehiculo.fk_tipo_veh=r)})("change",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.mostrarEnInputTipoVehiculo())}),e._UZ(3,"option",52),e.YNc(4,jt,2,2,"option",53),e.qZA()()()}if(2&t){const o=e.oxw();e.xp6(2),e.Q6J("ngModel",o.vehiculo.fk_tipo_veh),e.xp6(2),e.Q6J("ngForOf",o.tiposVehiculos)}}function Et(t,n){1&t&&(e.TgZ(0,"p",72),e._uU(1," Seleccionar tipo veh\xedculo "),e.qZA())}function Qt(t,n){1&t&&(e.TgZ(0,"p",72),e._uU(1," Ingresar placa del veh\xedculo. "),e.qZA())}function Dt(t,n){1&t&&(e.TgZ(0,"p",72),e._uU(1," La placa del veh\xedculo ya se ha registrado. "),e.qZA())}function Yt(t,n){1&t&&(e.TgZ(0,"p",72),e._uU(1," Ingresar a\xf1o del veh\xedculo. "),e.qZA())}function Ot(t,n){if(1&t&&(e.TgZ(0,"option",71),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.nombre_col," ")}}function Gt(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",18)(1,"div",69)(2,"select",73),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.vehiculo.fk_color_veh=r)})("change",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.mostrarEnInputColor())}),e._UZ(3,"option",52),e.YNc(4,Ot,2,2,"option",53),e.qZA()()()}if(2&t){const o=e.oxw();e.xp6(2),e.Q6J("ngModel",o.vehiculo.fk_color_veh),e.xp6(2),e.Q6J("ngForOf",o.colores)}}function Vt(t,n){1&t&&(e.TgZ(0,"p",72),e._uU(1," Ingresar el color del veh\xedculo. "),e.qZA())}function Kt(t,n){if(1&t&&(e.TgZ(0,"option",71),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.nombre_mar," ")}}function zt(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",18)(1,"div",69)(2,"select",74),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.vehiculo.fk_marca_veh=r)})("change",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.mostrarMarcaVehiculo())}),e._UZ(3,"option",52),e.YNc(4,Kt,2,2,"option",53),e.qZA()()()}if(2&t){const o=e.oxw();e.xp6(2),e.Q6J("ngModel",o.vehiculo.fk_marca_veh),e.xp6(2),e.Q6J("ngForOf",o.marcas)}}function Bt(t,n){1&t&&(e.TgZ(0,"p",72),e._uU(1," Ingresar la marca del veh\xedculo. "),e.qZA())}function Ht(t,n){1&t&&(e.TgZ(0,"p",72),e._uU(1," Ingresar nombre del propietario del veh\xedculo. "),e.qZA())}function $t(t,n){1&t&&(e.TgZ(0,"p",72),e._uU(1," Ingresar permiso de la operacion del veh\xedculo. "),e.qZA())}function Rt(t,n){1&t&&(e.TgZ(0,"p",72),e._uU(1," Ingresar toneladas que soporta el veh\xedculo. "),e.qZA())}function Xt(t,n){1&t&&(e.TgZ(0,"p",72),e._uU(1," Ingresar la fecha de rtv. "),e.qZA())}function Wt(t,n){1&t&&(e.TgZ(0,"p",72),e._uU(1," Ingresar la fecha de caducidad matricula. "),e.qZA())}function ei(t,n){1&t&&(e.TgZ(0,"p",72),e._uU(1," Ingresar la fecha de caducidad permiso de operaciones. "),e.qZA())}function oi(t,n){1&t&&(e.TgZ(0,"p",72),e._uU(1," Ingresar la fecha de vencimiento MTOP. "),e.qZA())}function ti(t,n){1&t&&(e.TgZ(0,"p",72),e._uU(1," Ingresar al usuario gps. "),e.qZA())}function ii(t,n){1&t&&(e.TgZ(0,"p",72),e._uU(1," Ingresar el link gps. "),e.qZA())}function ri(t,n){1&t&&(e.TgZ(0,"p",72),e._uU(1," Ingresar la contrase\xf1a gps. "),e.qZA())}function ni(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div")(1,"div",15)(2,"div",16)(3,"label",17),e._uU(4,"Usuario gps: "),e.qZA(),e.TgZ(5,"input",75),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.vehiculo.user_gps_veh=r)}),e.qZA(),e.YNc(6,ti,2,0,"p",21),e.qZA()(),e.TgZ(7,"div",15)(8,"div",16)(9,"label",17),e._uU(10,"Link gps: "),e.qZA(),e.TgZ(11,"input",76),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.vehiculo.link_gps_veh=r)}),e.qZA(),e.YNc(12,ii,2,0,"p",21),e.qZA()(),e.TgZ(13,"div",15)(14,"div",16)(15,"label",17),e._uU(16,"Contrase\xf1a gps: "),e.qZA(),e.TgZ(17,"input",77),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.vehiculo.passwor_gps_veh=r)}),e.qZA(),e.YNc(18,ri,2,0,"p",21),e.qZA()()()}if(2&t){const o=e.oxw();e.xp6(5),e.Q6J("ngModel",o.vehiculo.user_gps_veh),e.xp6(1),e.Q6J("ngIf",o.submitted&&""===o.vehiculo.user_gps_veh),e.xp6(5),e.Q6J("ngModel",o.vehiculo.link_gps_veh),e.xp6(1),e.Q6J("ngIf",o.submitted&&""===o.vehiculo.link_gps_veh),e.xp6(5),e.Q6J("ngModel",o.vehiculo.passwor_gps_veh),e.xp6(1),e.Q6J("ngIf",o.submitted&&""===o.vehiculo.passwor_gps_veh)}}function ai(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",15)(1,"div",78)(2,"div",79),e.NdJ("click",function(){const a=e.CHM(o).$implicit,c=e.oxw();return e.KtG(c.mostrarItem(a.path_doc))}),e._uU(3),e.qZA(),e.TgZ(4,"div",80)(5,"button",81),e.NdJ("click",function(){const r=e.CHM(o),a=r.$implicit,c=r.index,d=e.oxw();return e.KtG(d.borrarDocument(a.id,c))}),e._uU(6,"Borrar"),e.qZA()()(),e._UZ(7,"hr"),e.qZA()}if(2&t){const o=n.$implicit;e.xp6(3),e.Oqu(o.nombre_doc)}}function ci(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",15)(1,"button",82),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.guardar())}),e._uU(2," \xa0\xa0\xa0\xa0\xa0\xa0"),e.TgZ(3,"strong",43),e._uU(4,"Guardar"),e.qZA(),e._uU(5,"\xa0\xa0\xa0\xa0\xa0\xa0 "),e.qZA()()}}function si(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",15)(1,"button",82),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.guardar())}),e._uU(2," \xa0\xa0\xa0\xa0\xa0\xa0"),e.TgZ(3,"strong",43),e._uU(4,"Guardar"),e.qZA(),e._uU(5,"\xa0\xa0\xa0\xa0\xa0\xa0 "),e.qZA()()}}function di(t,n){1&t&&e._UZ(0,"option",71),2&t&&e.Q6J("value",n.$implicit.id)}function li(t,n){1&t&&(e.TgZ(0,"p",72),e._uU(1," Seleccionar tipo de documento. "),e.qZA())}function ui(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"ngx-dropzone-preview",83),e.NdJ("removed",function(){const a=e.CHM(o).$implicit,c=e.oxw();return e.KtG(c.onRemove(a))}),e.TgZ(1,"ngx-dropzone-label"),e._uU(2),e.qZA()()}if(2&t){const o=n.$implicit;e.Q6J("removable",!0),e.xp6(2),e.AsE("",o.name," (",o.type,")")}}function _i(t,n){1&t&&(e.TgZ(0,"p",72),e._uU(1," Subir el archivo. "),e.qZA())}let pi=(()=>{class t{constructor(o,i,r,a,c,d,u,h){this.documentService=o,this.proveedoresCrud=i,this.vehiculosCrud=r,this.categoriaDocumentsCrud=a,this.cargarSelectoresListaDocumentos=c,this.sweetService=d,this.formBuilder=u,this.vehiculoService=h,this.img=q.O.appImg,this.cambioTab=new e.vpe,this.vehiculo=new w,this.repetidoPlaca=!1,this.vehiculos=[],this.tiposVehiculos=[],this.documentosProveedor=[],this.selecListaDocumentos=[],this.marcas=[],this.colores=[],this.form=new s.nJ({}),this.submitted=!1,this.tiposContacto=[],this.document=new M.B,this.submittedDocument=!1,this.formData=new FormData,this.pdfSrc="",this.files=[],this.formDoc=new s.nJ({})}ngOnInit(){this.init(),this.cargarSelectorTipoVehiculo(),this.cargarSelectoresColor(),this.cargarSelectoresMarca(),this.initForm(),this.initFormVehiculo()}cargarSelectorTipoVehiculo(){return this.tiposVehiculos=[{index:0,id:0,nombre_tip:"",descripcion_tip:""},{index:0,id:1,nombre_tip:"Cami\xf3n Cabezal",descripcion_tip:"N/A"},{index:0,id:2,nombre_tip:"Cami\xf3n Furgon",descripcion_tip:"N/A"},{index:0,id:3,nombre_tip:"Cami\xf3n Cajon",descripcion_tip:"N/A"},{index:0,id:4,nombre_tip:"Cami\xf3n Tractor",descripcion_tip:"N/A"},{index:0,id:5,nombre_tip:"Cami\xf3n Plataforma",descripcion_tip:"N/A"},{index:0,id:6,nombre_tip:"Cami\xf3n Trailer",descripcion_tip:"N/A"},{index:0,id:7,nombre_tip:"Camioneta",descripcion_tip:"N/A"},{index:0,id:8,nombre_tip:"Equipo",descripcion_tip:"N/A"},{index:0,id:9,nombre_tip:"Furgoneta",descripcion_tip:"N/A"},{index:0,id:10,nombre_tip:"Tracto Cami\xf3n",descripcion_tip:"N/A"},{index:0,id:11,nombre_tip:"Tracto Cabezal",descripcion_tip:"N/A"}],this.tiposVehiculos}cargarSelectoresColor(){return this.colores=[{id:0,nombre_col:"",descripcion_col:""},{id:1,nombre_col:"Blanco",descripcion_col:""},{id:2,nombre_col:"Negro",descripcion_col:""},{id:3,nombre_col:"Plata",descripcion_col:""},{id:4,nombre_col:"Gris",descripcion_col:""},{id:5,nombre_col:"Azul",descripcion_col:""},{id:6,nombre_col:"Rojo",descripcion_col:""},{id:7,nombre_col:"Beige",descripcion_col:""},{id:8,nombre_col:"Amarillo",descripcion_col:""},{id:9,nombre_col:"Verde",descripcion_col:""},{id:10,nombre_col:"Otros",descripcion_col:""}],this.colores}cargarSelectoresMarca(){return this.marcas=[{id:0,nombre_mar:"",descripcion_mar:""},{id:1,nombre_mar:"Abarth",descripcion_mar:""},{id:2,nombre_mar:"Alfa Romeo",descripcion_mar:""},{id:3,nombre_mar:"Aston Martin",descripcion_mar:""},{id:4,nombre_mar:"Audi",descripcion_mar:""},{id:5,nombre_mar:"Bentley",descripcion_mar:""},{id:6,nombre_mar:"BMW",descripcion_mar:""},{id:7,nombre_mar:"Cadillac",descripcion_mar:""},{id:8,nombre_mar:"Caterham",descripcion_mar:""},{id:9,nombre_mar:"Chevrolet",descripcion_mar:""},{id:10,nombre_mar:"Citroen",descripcion_mar:""},{id:11,nombre_mar:"Dacia",descripcion_mar:""},{id:12,nombre_mar:"Ferrari",descripcion_mar:""},{id:13,nombre_mar:"Fiat",descripcion_mar:""},{id:14,nombre_mar:"Ford",descripcion_mar:""},{id:15,nombre_mar:"Honda",descripcion_mar:""}],this.marcas}init(){this.cargarListaVehiculos()}cargarCategoriaDocument(){return this.categoriaDocumentsCrud.getCargoListaCategoriasDocuments().find(i=>"Veh\xedculo"===i.nombre_cat)}cargarListaVehiculos(){this.vehiculosCrud.seCargoVehiculo()?this.vehiculos=this.vehiculosCrud.getCargoListaVehiculo():this.vehiculoService.listVehiculo(this.proveedoresCrud.obtenerProveedor().id).subscribe(o=>{this.vehiculos=o.data,this.vehiculos.forEach(i=>{i.color=new L,i.color=this.colores.find(r=>Number(r.id)===Number(i.fk_color_veh)),i.color_veh=i.color.nombre_col,i.marca=new E,i.marca=this.marcas.find(r=>Number(r.id)===Number(i.fk_marca_veh)),i.marca_veh=i.marca.nombre_mar}),this.vehiculosCrud.editarListaVehiculo(this.vehiculos),this.vehiculosCrud.setCargoListaVehiculo(this.vehiculos),this.vehiculosCrud.cargoVehiculo(!0)},o=>{this.vehiculos=[],this.vehiculosCrud.editarListaVehiculo([]),this.vehiculosCrud.setCargoListaVehiculo([]),this.vehiculosCrud.cargoVehiculo(!0)})}emitirCambioTab(o,i){i?this.vehiculos.length>0?this.cambioTab.emit(o):this.sweetService.alertMensajeError("Error","Registrar como minimo un vehiculo"):this.cambioTab.emit(o)}transferenciaDato(o){this.vehiculo=o}iniciarObjeto(){this.vehiculo=new w}borrar(o,i){this.sweetService.alertMessageEleccionOpcion("\xbfDesea borrar este registro?","Si borra este registro no se mostrara en este listado","Confirmar","Cancelar").then(r=>{r&&this.vehiculoService.borrarVehiculo(o).subscribe(a=>{this.vehiculos.splice(i,1)})})}editarItem(o,i){o.index=i,this.vehiculo=o,this.document.fk_vehiculo=o.id,this.documentosProveedor=[],this.vehiculo.fk_tipo_veh=Number(this.vehiculo.fk_tipo_veh),this.vehiculo.fk_marca_veh=Number(this.vehiculo.fk_marca_veh),this.vehiculo.fk_color_veh=Number(this.vehiculo.fk_color_veh),this.vehiculo.tipoVehiculo=this.tiposVehiculos.find(r=>Number(r.id)===o.fk_tipo_veh)}cargarSelect(){this.documentosProveedor.forEach(o=>{const i=this.selecListaDocumentos.findIndex(r=>r.id===o.fk_lista_doc);i>-1&&this.selecListaDocumentos.splice(i,1)})}get f(){return this.form.controls}initForm(){this.form=this.formBuilder.group({fti:[this.vehiculo.fk_tipo_veh],pla:[this.vehiculo.placa_veh,[s.kI.required]],ani:[this.vehiculo.anio_veh,[s.kI.required]],npv:[this.vehiculo.nombre_propietario_veh,[s.kI.required]],pov:[this.vehiculo.permiso_operacion_veh,[s.kI.required]],pev:[this.vehiculo.permiso_veh],tuv:[this.vehiculo.tipo_unidad_veh],fcp:[this.vehiculo.fecha_caducidad_permiso_operaciones_veh,[s.kI.required]],fcm:[this.vehiculo.fecha_caducidad_mtop_veh,[s.kI.required]],kil:[this.vehiculo.kilometraje_veh],tov:[this.vehiculo.toneladas_veh,[s.kI.required]],fre:[this.vehiculo.fecha_revision_veh,[s.kI.required]],fca:[this.vehiculo.fecha_caducidad_veh,[s.kI.required]],fmv:[this.vehiculo.fk_marca_veh],fcv:[this.vehiculo.fk_color_veh],gv:[this.vehiculo.gps_veh],ug:[this.vehiculo.user_gps_veh],pg:[this.vehiculo.passwor_gps_veh],lg:[this.vehiculo.link_gps_veh]})}guardar(){return this.submitted=!0,this.vehiculo.fk_proveedor=this.proveedoresCrud.obtenerProveedor().id,this.vehiculo.fk_tipo_veh=Number(this.vehiculo.fk_tipo_veh),this.vehiculo.fk_marca_veh=Number(this.vehiculo.fk_marca_veh),this.vehiculo.fk_color_veh=Number(this.vehiculo.fk_color_veh),this.vehiculo.anio_veh=""+this.vehiculo.anio_veh,this.form.invalid||0===this.vehiculo.fk_tipo_veh?(this.sweetService.alertMensajeError("Error en el formulario","Los datos ingresados son inv\xe1lidos o hay campos vaci\xf3s."),void console.log("1")):this.esNumerico(this.vehiculo.anio_veh)?0==this.vehiculo.toneladas_veh||0==this.vehiculo.toneladas_veh?(this.sweetService.alertMensajeError("Inconsistencia en la informaci\xf3n","Ingresar las toneladas del veh\xedculo."),this.vehiculo.toneladas_veh=0,void console.log("4")):!this.vehiculo.gps_veh||""!==this.vehiculo.user_gps_veh&&""!==this.vehiculo.link_gps_veh&&""!==this.vehiculo.passwor_gps_veh?(this.vehiculo.gps_veh&&(this.vehiculo.gps_veh=1),void this.vehiculoService.crearVehiculo(this.vehiculo).subscribe(o=>{this.vehiculo.id=Number(this.vehiculo.id),0===this.vehiculo.id&&(this.vehiculo.id=Number(o.data),this.vehiculo.color=this.colores.find(i=>i.id===Number(this.vehiculo.fk_color_veh)),this.vehiculo.color_veh=this.vehiculo.color.nombre_col,this.vehiculo.marca=this.marcas.find(i=>i.id===Number(this.vehiculo.fk_marca_veh)),this.vehiculo.marca_veh=this.vehiculo.marca.nombre_mar,this.vehiculos.push(this.vehiculo),this.vehiculosCrud.setCargoListaVehiculo(this.vehiculos),this.onReset())},o=>{const i=o.error;console.log("error: "+JSON.stringify(i)),400===i.code?null!=JSON.stringify(i.exception.placa_veh[0])&&"The placa veh has already been taken."===i.exception.placa_veh[0]&&setTimeout(()=>{this.sweetService.alertMensajeError("Inconsistencia en la informaci\xf3n","La placa del veh\xedculo ya se ha registrado."),this.repetidoPlaca=!0},500):setTimeout(()=>{this.sweetService.alertMensajeError("Error desconocido","Error en el servidor")},500)})):(this.sweetService.alertMensajeError("Error en el formulario","Los datos ingresados son inv\xe1lidos o hay campos vaci\xf3s."),void console.log("5")):(this.sweetService.alertMensajeError("Inconsistencia en la informaci\xf3n","Ingresar el A\xf1o del veh\xedculo."),this.vehiculo.anio_veh="",void console.log("3"))}esNumerico(o){return/^-?\d+$/.test(o)}onKeyUpEvent(){}controlPegadoTonelada(o){o.ctrlKey&&(this.vehiculo.toneladas_veh=0)}controlPegadoKilometraje(o){o.ctrlKey&&(this.vehiculo.kilometraje_veh=0)}onReset(){this.submitted=!1,this.vehiculo=new w,this.form.reset()}initFormVehiculo(){this.formDoc=this.formBuilder.group({fld:[this.document.fk_lista_doc,[s.kI.required]]})}get fDoc(){return this.formDoc.controls}onSelect(o){this.files=[],this.files.push(...o.addedFiles),this.formData=new FormData;const i=new FileReader;i.readAsArrayBuffer(this.files[0]),i.onload=r=>{var a=new Blob([this.files[0]],{type:"application/pdf"});this.formData.set("file",a,this.files[0].name),this.document.formData=this.formData}}guardarDoc(){this.submittedDocument=!0,!this.formDoc.invalid&&0!==this.files.length&&0!==this.document.fk_vehiculo&&0!==Number(this.document.fk_lista_doc)&&(this.formData.set("fk_vehiculo",""+this.document.fk_vehiculo),this.formData.set("fk_lista_doc",""+this.document.fk_lista_doc),this.document.formData=this.formData,this.documentService.crearDocumento(this.document,4).subscribe(o=>{const i=o.data;this.document.id=i.id,this.document.path_doc=i.url,this.documentosProveedor.push(this.document);const r=this.selecListaDocumentos.findIndex(a=>a.id===Number(this.document.fk_lista_doc));r>-1&&this.selecListaDocumentos.splice(r,1),this.resetDoc(this.document.fk_vehiculo)}))}resetDoc(o){this.submittedDocument=!1,this.files=[],this.document=new M.B,this.document.fk_vehiculo=o,this.formDoc.reset()}mostrarItem(o){this.pdfSrc=o.replace("http","https")}borrarDocument(o,i){this.sweetService.alertMessageEleccionOpcion("\xbfDesea borrar este registro?","Si borra este registro no se mostrara en este listado","Confirmar","Cancelar").then(r=>{r&&this.documentService.borrarDocumento(o).subscribe(()=>{const c=this.cargarSelectoresListaDocumentos.getCargoListaDocumento().find(d=>Number(d.id)===Number(this.documentosProveedor[i].fk_lista_doc));this.selecListaDocumentos.push(c),this.documentosProveedor.splice(i,1)})})}onRemove(o){this.files.splice(this.files.indexOf(o),1)}filtrarTipoVehiculo(o){if(""===o.target.value)this.tiposVehiculos=this.cargarSelectorTipoVehiculo(),this.vehiculo.fk_tipo_veh=0,this.vehiculo.tipoVehiculo=this.cargarSelectorTipoVehiculo()[0];else{let i=[];this.esString(o.target.value)&&(i=46==(o.keyCode||o.charCode||o.which)||8==(o.keyCode||o.charCode||o.which)?this.cargarSelectorTipoVehiculo():this.tiposVehiculos,this.tiposVehiculos=i.filter(r=>r.nombre_tip.toLowerCase().includes(o.target.value.toLowerCase())),null!=JSON.stringify(this.tiposVehiculos)&&0!=this.tiposVehiculos.length?this.vehiculo.fk_tipo_veh=this.tiposVehiculos[0].id:(this.tiposVehiculos=i,this.vehiculo.fk_tipo_veh=0))}}esString(o){return!!/^[a-zA-Z]+$/.test(o)}mostrarEnInputTipoVehiculo(){const o=this.tiposVehiculos.find(i=>Number(i.id)===Number(this.vehiculo.fk_tipo_veh));this.vehiculo.tipoVehiculo=new le,this.vehiculo.tipoVehiculo=o}filtrarMarcaVehiculo(o){if(""===o.target.value)this.marcas=this.cargarSelectoresMarca(),this.vehiculo.fk_marca_veh=0,this.vehiculo.marca=this.cargarSelectoresMarca()[0];else{const i=this.cargarSelectoresMarca();this.marcas=i.filter(r=>r.nombre_mar.toLowerCase().includes(o.target.value.toLowerCase())),null!=JSON.stringify(this.marcas)&&0!=this.marcas.length?this.vehiculo.fk_marca_veh=this.marcas[0].id:(this.marcas=i,this.vehiculo.fk_marca_veh=0)}}mostrarMarcaVehiculo(){const o=this.cargarSelectoresMarca().find(i=>Number(i.id)===Number(this.vehiculo.fk_marca_veh));this.vehiculo.marca=new E,this.vehiculo.marca=o}filtrarColor(o){if(""===o.target.value)this.colores=this.cargarSelectoresColor(),this.vehiculo.fk_color_veh=0,this.vehiculo.color=this.cargarSelectoresColor()[0];else{const i=this.cargarSelectoresColor();this.colores=i.filter(r=>r.nombre_col.toLowerCase().includes(o.target.value.toLowerCase())),null!=JSON.stringify(this.colores)&&0!=this.colores.length?this.vehiculo.fk_color_veh=this.colores[0].id:(this.colores=i,this.vehiculo.fk_color_veh=0)}}mostrarEnInputColor(){const o=this.colores.find(i=>Number(i.id)===Number(this.vehiculo.fk_color_veh));this.vehiculo.color=new L,this.vehiculo.color=o}cargarListaVehiculosBack(){this.vehiculo.id>0&&this.vehiculoService.listVehiculo(this.proveedoresCrud.obtenerProveedor().id).subscribe(o=>{this.vehiculos=o.data,this.vehiculos.forEach(i=>{i.color=new L,i.color=this.colores.find(r=>Number(r.id)===Number(i.fk_color_veh)),i.color_veh=i.color.nombre_col,i.marca=new E,i.marca=this.marcas.find(r=>Number(r.id)===Number(i.fk_marca_veh)),i.marca_veh=i.marca.nombre_mar}),this.vehiculosCrud.editarListaVehiculo(this.vehiculos),this.vehiculosCrud.setCargoListaVehiculo(this.vehiculos),this.vehiculosCrud.cargoVehiculo(!0)},o=>{this.vehiculos=[],this.vehiculosCrud.editarListaVehiculo([]),this.vehiculosCrud.setCargoListaVehiculo([]),this.vehiculosCrud.cargoVehiculo(!0)})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(K.Z),e.Y36(F.p),e.Y36(Y),e.Y36(Ut),e.Y36(V),e.Y36(Z.J),e.Y36(s.QS),e.Y36(yt))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-info-vehi"]],inputs:{document:"document"},outputs:{cambioTab:"cambioTab"},decls:190,vars:49,consts:[["class","table table-condensed",4,"ngIf"],["type","button","aria-controls","staticBackdrop","data-bs-toggle","offcanvas","data-bs-target","#staticBackdrop",1,"btn","btn-elegant",3,"click"],["alt","Bootstrap","width","52","height","52",1,"nav_icon",3,"src"],[1,"d-flex","flex-row","bd-highlight","mb-3","justify-content-center"],[1,"p-4","bd-highlight",2,"padding-left","0rem !important","padding-bottom","0rem !important"],[1,"col-md"],["role","button","aria-pressed","true",1,"btn","btn-primary","btn-lg","regresar",3,"click"],["role","button","aria-pressed","true",1,"btn","btn-primary","btn-lg","siguiente",3,"click"],["data-bs-backdrop","static","tabindex","-1","id","staticBackdrop","aria-labelledby","staticBackdropLabel",1,"offcanvas","offcanvas-end"],[1,"offcanvas-header"],["id","staticBackdropLabel",1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close",3,"click"],[1,"offcanvas-body"],[1,"d-grid","gap-3"],[3,"formGroup"],[1,"p-2"],[1,"form-group"],["for","inputsm",1,"tamano-texto"],[1,"input-group","select-group"],["list","encodings","id","floatingInputGrid","type","text","autocomplete","off",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"value","keyup"],["class","input-group select-group",4,"ngIf"],["class","text-danger",4,"ngIf"],["id","inputsm","type","text","formControlName","pla",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],["maxlength","4","onKeypress","if (event.keyCode < 45 || event.keyCode > 57) event.returnValue = false;","id","inputsm","type","text","formControlName","ani",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],["id","inputsm","type","text","formControlName","npv",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],["id","inputsm","type","text","formControlName","pov",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],["onKeypress","if (event.keyCode < 45 || event.keyCode > 57) event.returnValue = false;","id","inputsm","type","text","formControlName","tov",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","keydown","ngModelChange"],["onKeypress","if (event.keyCode < 45 || event.keyCode > 57) event.returnValue = false;","id","inputsm","type","text","formControlName","kil",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","keydown","ngModelChange"],["id","inputsm","type","date","formControlName","fre",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","click","ngModelChange"],["id","inputsm","type","date","formControlName","fca",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","keyup","ngModelChange"],["id","inputsm","type","date","formControlName","fcp",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","click","ngModelChange"],["id","inputsm","type","date","formControlName","fcm",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","click","ngModelChange"],["id","inputsm","type","text","formControlName","pev",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],["id","inputsm","type","text","formControlName","tuv",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],[1,"form-check","form-switch"],["type","checkbox","formControlName","gv","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],[4,"ngIf"],["class","p-2",4,"ngFor","ngForOf"],[1,"offcanvas-footer"],[1,"d-flex","flex-row","justify-content-center"],["class","p-2",4,"ngIf"],[1,"p-1"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn","btn-outline-primary","btn-lg","btn-block","radio-del-boton",3,"click"],[1,"tamano-texto-boton"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["aria-label","Default select example","formControlName","fld",1,"form-select",3,"ngModel","ngModelChange"],["value","0","selected",""],[3,"value",4,"ngFor","ngForOf"],["accept","application/pdf,image/jpeg,image/jpg,image/png",3,"multiple","change"],[3,"removable","removed",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["id","exampleModal2","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],["id","exampleModalLabel",1,"modal-title","text-danger"],["frameBorder","0","scrolling","auto","width","100%","height","580px","id","content_all","frameborder","0",3,"src"],[1,"table","table-condensed"],["scope","col"],["class","align-middle",4,"ngFor","ngForOf"],[1,"align-middle"],["type","button","aria-controls","staticBackdrop","data-bs-toggle","offcanvas","data-bs-target","#staticBackdrop",1,"custom-css","btn","btn-primary","text-dark","nuevo-color",3,"click"],["type","button",1,"custom-css","btn","btn-primary","nuevo-color",3,"click"],[1,"bi","bi-trash3"],[1,"position-relative"],["id","encodings","multiple","","formControlName","fti","aria-label","multiple select example",1,"form-select","position-absolute",2,"z-index","2","width","348px",3,"ngModel","ngModelChange","change"],[3,"value"],[1,"text-danger"],["id","encodings","multiple","","formControlName","fcv","aria-label","multiple select example",1,"form-select","position-absolute",2,"z-index","2","width","348px",3,"ngModel","ngModelChange","change"],["id","encodings","multiple","","formControlName","fmv","aria-label","multiple select example",1,"form-select","position-absolute",2,"z-index","2","width","348px",3,"ngModel","ngModelChange","change"],["id","inputsm","type","text","formControlName","ug",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],["id","inputsm","type","text","formControlName","lg",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],["id","inputsm","type","password","formControlName","pg",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],[1,"row","align-items-center"],["align","left","data-bs-toggle","modal","data-bs-target","#exampleModal2",1,"col-md-6",3,"click"],["align","right",1,"col-md-6"],["type","button",1,"btn","btn-light",3,"click"],["type","button",1,"btn","btn-primary","btn-lg","btn-block","radio-del-boton",3,"click"],[3,"removable","removed"]],template:function(o,i){1&o&&(e.TgZ(0,"h3"),e._uU(1,"Administrar veh\xedculos"),e.qZA(),e._UZ(2,"br"),e.YNc(3,St,17,1,"table",0),e._UZ(4,"br"),e.TgZ(5,"button",1),e.NdJ("click",function(){return i.iniciarObjeto()}),e._UZ(6,"img",2),e.TgZ(7,"strong"),e._uU(8,"\xa0\xa0Agregar veh\xedculo"),e.qZA()(),e._UZ(9,"br"),e.TgZ(10,"div",3)(11,"div",4)(12,"div",5)(13,"a",6),e.NdJ("click",function(){return i.emitirCambioTab(3,!1)}),e._uU(14," \xa0\xa0Regresar\xa0\xa0 "),e.qZA()()(),e.TgZ(15,"div",4)(16,"div",5)(17,"a",7),e.NdJ("click",function(){return i.emitirCambioTab(5,!0)}),e._uU(18," \xa0\xa0Siguiente\xa0\xa0 "),e.qZA()()()(),e.TgZ(19,"div",8)(20,"div",9)(21,"h5",10),e._uU(22,"\xa0"),e.qZA(),e.TgZ(23,"button",11),e.NdJ("click",function(){return i.cargarListaVehiculosBack()}),e.qZA()(),e.TgZ(24,"div",12)(25,"h5",10)(26,"strong"),e._uU(27,"Agregar veh\xedculo"),e.qZA()(),e._UZ(28,"br"),e.TgZ(29,"div",13)(30,"form",14)(31,"div",15)(32,"div",16)(33,"label",17),e._uU(34,"Tipo veh\xedculo *"),e.qZA(),e.TgZ(35,"div",18)(36,"input",19),e.NdJ("keyup",function(a){return i.filtrarTipoVehiculo(a)}),e.qZA()(),e.YNc(37,Lt,5,2,"div",20),e.YNc(38,Et,2,0,"p",21),e.qZA()(),e.TgZ(39,"div",15)(40,"div",16)(41,"label",17),e._uU(42,"Placa del veh\xedculo *"),e.qZA(),e.TgZ(43,"input",22),e.NdJ("ngModelChange",function(a){return i.vehiculo.placa_veh=a}),e.qZA(),e.YNc(44,Qt,2,0,"p",21),e.YNc(45,Dt,2,0,"p",21),e.qZA()(),e.TgZ(46,"div",15)(47,"div",16)(48,"label",17),e._uU(49,"A\xf1o del veh\xedculo *"),e.qZA(),e.TgZ(50,"input",23),e.NdJ("ngModelChange",function(a){return i.vehiculo.anio_veh=a}),e.qZA(),e.YNc(51,Yt,2,0,"p",21),e.qZA()(),e.TgZ(52,"div",15)(53,"div",16)(54,"label",17),e._uU(55,"Color del veh\xedculo *"),e.qZA(),e.TgZ(56,"div",18)(57,"input",19),e.NdJ("keyup",function(a){return i.filtrarColor(a)}),e.qZA()(),e.YNc(58,Gt,5,2,"div",20),e.YNc(59,Vt,2,0,"p",21),e.qZA()(),e.TgZ(60,"div",15)(61,"div",16)(62,"label",17),e._uU(63,"Marca del veh\xedculo *"),e.qZA(),e.TgZ(64,"div",18)(65,"input",19),e.NdJ("keyup",function(a){return i.filtrarMarcaVehiculo(a)}),e.qZA()(),e.YNc(66,zt,5,2,"div",20),e.YNc(67,Bt,2,0,"p",21),e.qZA()(),e.TgZ(68,"div",15)(69,"div",16)(70,"label",17),e._uU(71,"Nombre del propietario del veh\xedculo *"),e.qZA(),e.TgZ(72,"input",24),e.NdJ("ngModelChange",function(a){return i.vehiculo.nombre_propietario_veh=a}),e.qZA(),e.YNc(73,Ht,2,0,"p",21),e.qZA()(),e.TgZ(74,"div",15)(75,"div",16)(76,"label",17),e._uU(77,"Permiso de la operacion del veh\xedculo *"),e.qZA(),e.TgZ(78,"input",25),e.NdJ("ngModelChange",function(a){return i.vehiculo.permiso_operacion_veh=a}),e.qZA(),e.YNc(79,$t,2,0,"p",21),e.qZA()(),e.TgZ(80,"div",15)(81,"div",16)(82,"label",17),e._uU(83,"Toneladas que soporta el veh\xedculo *"),e.qZA(),e.TgZ(84,"input",26),e.NdJ("keydown",function(a){return i.controlPegadoTonelada(a)})("ngModelChange",function(a){return i.vehiculo.toneladas_veh=a}),e.qZA(),e.YNc(85,Rt,2,0,"p",21),e.qZA()(),e.TgZ(86,"div",15)(87,"div",16)(88,"label",17),e._uU(89,"Kilometraje inicial del veh\xedculo"),e.qZA(),e.TgZ(90,"input",27),e.NdJ("keydown",function(a){return i.controlPegadoKilometraje(a)})("ngModelChange",function(a){return i.vehiculo.kilometraje_veh=a}),e.qZA()()(),e.TgZ(91,"div",15)(92,"div",16)(93,"label",17),e._uU(94,"Fecha de RTV *"),e.qZA(),e.TgZ(95,"input",28),e.NdJ("click",function(){return i.onKeyUpEvent()})("ngModelChange",function(a){return i.vehiculo.fecha_revision_veh=a}),e.qZA(),e.YNc(96,Xt,2,0,"p",21),e.qZA()(),e.TgZ(97,"div",15)(98,"div",16)(99,"label",17),e._uU(100,"Fecha de Caducidad Matricula *"),e.qZA(),e.TgZ(101,"input",29),e.NdJ("keyup",function(){return i.onKeyUpEvent()})("ngModelChange",function(a){return i.vehiculo.fecha_caducidad_veh=a}),e.qZA(),e.YNc(102,Wt,2,0,"p",21),e.qZA()(),e.TgZ(103,"div",15)(104,"div",16)(105,"label",17),e._uU(106,"Fecha de caducidad permiso de operaciones *"),e.qZA(),e.TgZ(107,"input",30),e.NdJ("click",function(){return i.onKeyUpEvent()})("ngModelChange",function(a){return i.vehiculo.fecha_caducidad_permiso_operaciones_veh=a}),e.qZA(),e.YNc(108,ei,2,0,"p",21),e.qZA()(),e.TgZ(109,"div",15)(110,"div",16)(111,"label",17),e._uU(112,"Fecha de vencimiento MTOP *"),e.qZA(),e.TgZ(113,"input",31),e.NdJ("click",function(){return i.onKeyUpEvent()})("ngModelChange",function(a){return i.vehiculo.fecha_caducidad_mtop_veh=a}),e.qZA(),e.YNc(114,oi,2,0,"p",21),e.qZA()(),e.TgZ(115,"div",15)(116,"div",16)(117,"label",17),e._uU(118,"Informaci\xf3n Adicional"),e.qZA(),e.TgZ(119,"input",32),e.NdJ("ngModelChange",function(a){return i.vehiculo.permiso_veh=a}),e.qZA()()(),e.TgZ(120,"div",15)(121,"div",16)(122,"label",17),e._uU(123,"Tipo de la unidad del veh\xedculo"),e.qZA(),e.TgZ(124,"input",33),e.NdJ("ngModelChange",function(a){return i.vehiculo.tipo_unidad_veh=a}),e.qZA()()(),e.TgZ(125,"div",15)(126,"div",16)(127,"label",17),e._uU(128,"GPS:"),e.qZA(),e.TgZ(129,"div",34)(130,"input",35),e.NdJ("ngModelChange",function(a){return i.vehiculo.gps_veh=a}),e.qZA()()()(),e.YNc(131,ni,19,6,"div",36),e.YNc(132,ai,8,1,"div",37),e.qZA()()(),e.TgZ(133,"div",38)(134,"div",39),e._UZ(135,"div",15),e.YNc(136,ci,6,0,"div",40),e.YNc(137,si,6,0,"div",40),e._UZ(138,"div",41),e.TgZ(139,"div",15)(140,"button",42),e.NdJ("click",function(){return i.cargarListaVehiculosBack()}),e._uU(141," \xa0\xa0\xa0\xa0\xa0\xa0"),e.TgZ(142,"strong",43),e._uU(143,"Cerrar"),e.qZA(),e._uU(144,"\xa0\xa0\xa0\xa0\xa0\xa0 "),e.qZA()(),e._UZ(145,"div",15),e.qZA(),e._UZ(146,"br")(147,"br")(148,"br"),e.qZA()(),e.TgZ(149,"div",44)(150,"div",45)(151,"div",46)(152,"div",47)(153,"h5",48),e._uU(154,"Ingresar Documentos"),e.qZA(),e._UZ(155,"button",49),e.qZA(),e.TgZ(156,"div",50)(157,"form",14)(158,"div",15)(159,"div",16)(160,"label",17),e._uU(161,"Tipo de documento *"),e.qZA(),e.TgZ(162,"select",51),e.NdJ("ngModelChange",function(a){return i.document.fk_lista_doc=a}),e.TgZ(163,"option",52),e._uU(164,"Seleccione el tipo de documento"),e.qZA(),e.YNc(165,di,1,1,"option",53),e.qZA(),e.YNc(166,li,2,0,"p",21),e.qZA()()(),e.TgZ(167,"div",16)(168,"h6"),e._uU(169,"Sube el archivo *"),e.qZA(),e.TgZ(170,"p"),e._uU(171,"Puedes subir un archivo PDF,JPG, PNG de hasta 100 MB."),e.qZA(),e.TgZ(172,"ngx-dropzone",54),e.NdJ("change",function(a){return i.onSelect(a)}),e.TgZ(173,"ngx-dropzone-label"),e._uU(174,"Arrastra y suelta un archivo para subirlo O elige archivos de tu dispositivo"),e.qZA(),e.YNc(175,ui,3,3,"ngx-dropzone-preview",55),e.qZA(),e.YNc(176,_i,2,0,"p",21),e.qZA()(),e.TgZ(177,"div",56)(178,"button",57),e.NdJ("click",function(){return i.guardarDoc()}),e._uU(179,"Guardar"),e.qZA()()()()(),e.TgZ(180,"div",58)(181,"div",59)(182,"div",46)(183,"div",47)(184,"h5",60),e._uU(185,"Archivo"),e.qZA(),e._UZ(186,"button",49),e.qZA(),e.TgZ(187,"div",50),e._UZ(188,"iframe",61),e.ALo(189,"safe"),e.qZA()()()()),2&o&&(e.xp6(3),e.Q6J("ngIf",i.vehiculos.length>0),e.xp6(3),e.MGl("src","",i.img,"/assets/Paginas/more.svg",e.LSH),e.xp6(24),e.Q6J("formGroup",i.form),e.xp6(6),e.s9C("value",i.vehiculo.tipoVehiculo.nombre_tip),e.xp6(1),e.Q6J("ngIf",i.vehiculo.fk_tipo_veh>0&&0==i.vehiculo.tipoVehiculo.nombre_tip.length),e.xp6(1),e.Q6J("ngIf",i.submitted&&0==i.vehiculo.fk_tipo_veh),e.xp6(5),e.Q6J("ngModel",i.vehiculo.placa_veh),e.xp6(1),e.Q6J("ngIf",i.submitted&&""===i.vehiculo.placa_veh||i.submitted&&(null==i.f.pla.errors?null:i.f.pla.errors.required)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.repetidoPlaca),e.xp6(5),e.Q6J("ngModel",i.vehiculo.anio_veh),e.xp6(1),e.Q6J("ngIf",i.submitted&&""===i.vehiculo.anio_veh),e.xp6(6),e.s9C("value",i.vehiculo.color.nombre_col),e.xp6(1),e.Q6J("ngIf",i.vehiculo.fk_color_veh>0&&0==i.vehiculo.color.nombre_col.length),e.xp6(1),e.Q6J("ngIf",i.submitted&&0===i.vehiculo.fk_color_veh),e.xp6(6),e.s9C("value",i.vehiculo.marca.nombre_mar),e.xp6(1),e.Q6J("ngIf",i.vehiculo.fk_marca_veh>0&&0==i.vehiculo.marca.nombre_mar.length),e.xp6(1),e.Q6J("ngIf",i.submitted&&0===i.vehiculo.fk_marca_veh),e.xp6(5),e.Q6J("ngModel",i.vehiculo.nombre_propietario_veh),e.xp6(1),e.Q6J("ngIf",i.submitted&&""===i.vehiculo.nombre_propietario_veh||i.submitted&&(null==i.f.npv.errors?null:i.f.npv.errors.required)),e.xp6(5),e.Q6J("ngModel",i.vehiculo.permiso_operacion_veh),e.xp6(1),e.Q6J("ngIf",i.submitted&&""===i.vehiculo.permiso_operacion_veh||i.submitted&&(null==i.f.pov.errors?null:i.f.pov.errors.required)),e.xp6(5),e.Q6J("ngModel",i.vehiculo.toneladas_veh),e.xp6(1),e.Q6J("ngIf",i.submitted&&0===i.vehiculo.toneladas_veh||i.submitted&&(null==i.f.tov.errors?null:i.f.tov.errors.required)),e.xp6(5),e.Q6J("ngModel",i.vehiculo.kilometraje_veh),e.xp6(5),e.Q6J("ngModel",i.vehiculo.fecha_revision_veh),e.xp6(1),e.Q6J("ngIf",i.submitted&&""===i.vehiculo.fecha_revision_veh||i.submitted&&(null==i.f.fre.errors?null:i.f.fre.errors.required)),e.xp6(5),e.Q6J("ngModel",i.vehiculo.fecha_caducidad_veh),e.xp6(1),e.Q6J("ngIf",i.submitted&&""===i.vehiculo.fecha_caducidad_veh||i.submitted&&(null==i.f.fca.errors?null:i.f.fca.errors.required)),e.xp6(5),e.Q6J("ngModel",i.vehiculo.fecha_caducidad_permiso_operaciones_veh),e.xp6(1),e.Q6J("ngIf",i.submitted&&""===i.vehiculo.fecha_caducidad_permiso_operaciones_veh||i.submitted&&(null==i.f.fcp.errors?null:i.f.fcp.errors.required)),e.xp6(5),e.Q6J("ngModel",i.vehiculo.fecha_caducidad_mtop_veh),e.xp6(1),e.Q6J("ngIf",i.submitted&&""===i.vehiculo.fecha_caducidad_mtop_veh||i.submitted&&(null==i.f.fcm.errors?null:i.f.fcm.errors.required)),e.xp6(5),e.Q6J("ngModel",i.vehiculo.permiso_veh),e.xp6(5),e.Q6J("ngModel",i.vehiculo.tipo_unidad_veh),e.xp6(6),e.Q6J("ngModel",i.vehiculo.gps_veh),e.xp6(1),e.Q6J("ngIf",i.vehiculo.gps_veh),e.xp6(1),e.Q6J("ngForOf",i.documentosProveedor),e.xp6(4),e.Q6J("ngIf",0==i.vehiculo.id),e.xp6(1),e.Q6J("ngIf",i.vehiculo.id>0),e.xp6(20),e.Q6J("formGroup",i.formDoc),e.xp6(5),e.Q6J("ngModel",i.document.fk_lista_doc),e.xp6(3),e.Q6J("ngForOf",i.selecListaDocumentos),e.xp6(1),e.Q6J("ngIf",i.submitted&&0==i.document.fk_lista_doc),e.xp6(6),e.Q6J("multiple",!1),e.xp6(3),e.Q6J("ngForOf",i.files),e.xp6(1),e.Q6J("ngIf",i.submittedDocument&&0==i.files.length),e.xp6(12),e.Q6J("src",e.lcZ(189,47,i.pdfSrc),e.uOi))},dependencies:[A._f,A.NP,A.dt,s._Y,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s.K7,s.JJ,s.JL,s.nD,s.sg,s.u,m.sg,m.O5,z],styles:[".negrita-en-value[_ngcontent-%COMP%]{font-weight:700}.tamano-texto[_ngcontent-%COMP%]{font-size:.8rem}.tamano-texto-boton[_ngcontent-%COMP%]{font-size:.9rem}.radio-del-boton[_ngcontent-%COMP%]{border-radius:25rem}div.d-grid.gap-3[_ngcontent-%COMP%]   .p-2[_ngcontent-%COMP%]{padding-top:.08rem!important}a.btn.btn-primary.btn-lg.regresar[_ngcontent-%COMP%]{background-color:#d8d9da;border-color:#d8d9da;border-radius:20px;color:#43454b}a.btn.btn-primary.btn-lg.siguiente[_ngcontent-%COMP%]{background-color:#0068c9;border-color:#0068c9;border-radius:20px}a.btn.btn-primary.btn-lg[_ngcontent-%COMP%]{background-color:#d8d9da}"]}),t})();class B{constructor(){this.index=0,this.id=0,this.nombre_cond="",this.cedula_cond="",this.fecha_caducidad_lic_cond="",this.fk_vehiculo=0,this.fk_tipo_lic=0,this.fk_proveedor=0,this.vehiculos=[],this.documentos=[],this.check=!1,this.documentoscali=[]}}var mi=l(8598);function hi(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"tr",53)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"a",54),e.NdJ("click",function(){const r=e.CHM(o),a=r.$implicit,c=r.index,d=e.oxw(2);return e.KtG(d.editarItem(a,c))}),e.TgZ(11,"span"),e._uU(12,"Editar"),e.qZA()(),e._uU(13,"\xa0 "),e.TgZ(14,"a",55),e.NdJ("click",function(){const r=e.CHM(o),a=r.$implicit,c=r.index,d=e.oxw(2);return e.KtG(d.borrar(a.id,c))}),e._uU(15," \xa0\xa0"),e._UZ(16,"i",56),e._uU(17,"\xa0\xa0 "),e.qZA()()()}if(2&t){const o=n.$implicit;e.xp6(2),e.Oqu(o.nombre_cond),e.xp6(2),e.Oqu(o.cedula_cond),e.xp6(2),e.Oqu(o.fecha_caducidad_lic_cond),e.xp6(2),e.Oqu(o.vehiculos[0].placa_veh)}}function fi(t,n){if(1&t&&(e.TgZ(0,"table",50)(1,"thead")(2,"tr")(3,"th",51),e._uU(4,"Nombre"),e.qZA(),e.TgZ(5,"th",51),e._uU(6,"C\xe9dula"),e.qZA(),e.TgZ(7,"th",51),e._uU(8,"Fecha de caducidad de la licenci\xe1 de conducir"),e.qZA(),e.TgZ(9,"th",51),e._uU(10,"Placa del veh\xedculo"),e.qZA()()(),e.TgZ(11,"tbody"),e.YNc(12,hi,18,4,"tr",52),e.qZA()()),2&t){const o=e.oxw();e.xp6(12),e.Q6J("ngForOf",o.conductores)}}function gi(t,n){1&t&&(e.TgZ(0,"p",57),e._uU(1," Ingresar nombres. "),e.qZA())}function vi(t,n){1&t&&(e.TgZ(0,"p",57),e._uU(1," Ingresar c\xe9dula. "),e.qZA())}function bi(t,n){1&t&&(e.TgZ(0,"p",57),e._uU(1," Deber ingresar 10 digitos. "),e.qZA())}function Ci(t,n){1&t&&(e.TgZ(0,"p",57),e._uU(1," Ingresar la fecha de caducidad de la licencia. "),e.qZA())}function Ai(t,n){if(1&t&&(e.TgZ(0,"option",58),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.nombre_lic)}}function Zi(t,n){1&t&&(e.TgZ(0,"p",57),e._uU(1," Seleccionar tipo de licencia. "),e.qZA())}function Ti(t,n){if(1&t&&(e.TgZ(0,"option",58),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.placa_veh)}}function ki(t,n){1&t&&(e.TgZ(0,"p",57),e._uU(1," Seleccionar veh\xedculo. "),e.qZA())}function Pi(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",15)(1,"button",59),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.guardar())}),e._uU(2," \xa0\xa0\xa0\xa0\xa0\xa0"),e.TgZ(3,"strong",60),e._uU(4,"Guardar"),e.qZA(),e._uU(5,"\xa0\xa0\xa0\xa0\xa0\xa0 "),e.qZA()()}}function xi(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",15)(1,"button",59),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.editar())}),e._uU(2," \xa0\xa0\xa0\xa0\xa0\xa0"),e.TgZ(3,"strong",60),e._uU(4,"Guardar"),e.qZA(),e._uU(5,"\xa0\xa0\xa0\xa0\xa0\xa0 "),e.qZA()()}}function Fi(t,n){1&t&&e._UZ(0,"option",61),2&t&&e.Q6J("value",n.$implicit.id)}function Ni(t,n){1&t&&(e.TgZ(0,"p",57),e._uU(1," Seleccionar tipo de documento. "),e.qZA())}function qi(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"ngx-dropzone-preview",62),e.NdJ("removed",function(){const a=e.CHM(o).$implicit,c=e.oxw();return e.KtG(c.onRemove(a))}),e.TgZ(1,"ngx-dropzone-label"),e._uU(2),e.qZA()()}if(2&t){const o=n.$implicit;e.Q6J("removable",!0),e.xp6(2),e.AsE("",o.name," (",o.type,")")}}function Mi(t,n){1&t&&(e.TgZ(0,"p",57),e._uU(1," Subir el archivo. "),e.qZA())}let Ii=(()=>{class t{constructor(o,i,r,a,c,d,u,h){this.proveedoresCrud=o,this.conductoresCrud=i,this.cargarSelectoresListaDocumentos=r,this.conductorService=a,this.sweetService=c,this.documentService=d,this.formBuilder=u,this.vehiculosCrud=h,this.img=q.O.appImg,this.cambioTab=new e.vpe,this.conductor=new B,this.vehiculos=[],this.conductores=[],this.tiposLicencias=[],this.documentosProveedor=[],this.selecListaDocumentos=[],this.form=new s.nJ({}),this.tiposContacto=[],this.submitted=!1,this.object=new e.vpe,this.document=new M.B,this.submittedDocument=!1,this.formData=new FormData,this.pdfSrc="",this.files=[],this.formDoc=new s.nJ({})}ngOnInit(){this.init(),this.cargarSelectores(),this.initForm(),this.initFormVehiculo()}conductorEdit(){Number(this.conductor.id)>0&&(this.conductor.fk_vehiculo=Number(this.conductor.vehiculos[0].id))}init(){this.cargarListaContactoProveedor()}cargarSelectores(){this.tiposLicencias=[{index:0,id:1,nombre_lic:"Tipo A1",observacion_lic:"N/A"},{index:0,id:2,nombre_lic:"Tipo C",observacion_lic:"N/A"},{index:0,id:3,nombre_lic:"Tipo C1",observacion_lic:"N/A"},{index:0,id:4,nombre_lic:"Tipo D",observacion_lic:"N/A"},{index:0,id:5,nombre_lic:"Tipo D1",observacion_lic:"N/A"},{index:0,id:6,nombre_lic:"Tipo E",observacion_lic:"N/A"},{index:0,id:7,nombre_lic:"Tipo E1",observacion_lic:"N/A"},{index:0,id:8,nombre_lic:"Tipo G",observacion_lic:"N/A"}],this.vehiculos=this.vehiculosCrud.getCargoListaVehiculo()}cargarListaContactoProveedor(){if(this.conductoresCrud.seCargoConductor()){this.conductores=this.conductoresCrud.getCargoListaConductor();let o=new w;this.conductores.length>0&&this.conductores.forEach(i=>{i.vehiculos.push(o)})}else this.conductorService.listConductores(this.proveedoresCrud.obtenerProveedor().id).subscribe(o=>{this.conductores=o.data;let i=new w;this.conductores.length>0&&this.conductores.forEach(r=>{r.vehiculos.push(i)}),this.conductoresCrud.editarListaConductor(this.conductores),this.conductoresCrud.setCargoListaConductor(this.conductores),this.conductoresCrud.cargoConductor(!0)},o=>{this.conductores=[],this.conductoresCrud.editarListaConductor([]),this.conductoresCrud.setCargoListaConductor([]),this.conductoresCrud.cargoConductor(!0)})}emitirCambioTab(o,i){i?this.conductores.length>0?this.cambioTab.emit(o):this.sweetService.alertMensajeError("Error","Registrar como minimo un conductor"):this.cambioTab.emit(o)}transferenciaDato(o){this.conductor=o}iniciarObjeto(){this.conductor=new B}borrar(o,i){this.sweetService.alertMessageEleccionOpcion("\xbfDesea borrar este registro?","Si borra este registro no se mostrara en este listado","Confirmar","Cancelar").then(r=>{r&&this.conductorService.borrarConductor(o).subscribe(a=>{this.conductores.splice(i,1)})})}editarItem(o,i){o.index=i,this.conductor=o,this.document.fk_conductor=o.id,this.documentosProveedor=[],this.conductorEdit()}get f(){return this.form.controls}initForm(){this.form=this.formBuilder.group({nom:[this.conductor.nombre_cond,[s.kI.required]],ced:[this.conductor.cedula_cond,[s.kI.required]],fcl:[this.conductor.fecha_caducidad_lic_cond,[s.kI.required]],ft:[this.conductor.fk_tipo_lic,[s.kI.required]],fv:[this.conductor.fk_vehiculo,[s.kI.required]]})}guardar(){this.submitted=!0,!this.form.invalid&&0!==this.conductor.fk_tipo_lic&&0!==this.conductor.fk_vehiculo&&10===this.conductor.cedula_cond.length&&(this.conductor.fk_proveedor=this.proveedoresCrud.obtenerProveedor().id,this.conductorService.crearConductor(this.conductor).subscribe(o=>{this.conductor.id=Number(o.data),this.conductor.vehiculos=this.vehiculosCrud.getCargoListaVehiculo().filter(i=>Number(i.id)===Number(this.conductor.fk_vehiculo)),this.conductores.push(this.conductor),this.conductoresCrud.setCargoListaConductor(this.conductores),this.onReset()},o=>{"The cedula cond has already been taken."===o.error.exception.cedula_cond[0]&&setTimeout(()=>{this.sweetService.alertMensajeError("Inconsistencia en la informaci\xf3n","La c\xe9dula ya se encuentra registrada")},500)}))}editar(){this.submitted=!0,!this.form.invalid&&(0===this.conductor.fk_tipo_lic||0===this.conductor.fk_vehiculo||10!==this.conductor.cedula_cond.length||(this.conductor.fk_vehiculo=Number(this.conductor.fk_vehiculo),this.conductor.fk_tipo_lic=Number(this.conductor.fk_tipo_lic),this.conductor.fk_proveedor=Number(this.conductor.fk_proveedor),console.log("conductor: "+JSON.stringify(this.conductor)),this.conductorService.crearConductor(this.conductor).subscribe(()=>{this.conductor.vehiculos=this.vehiculosCrud.getCargoListaVehiculo().filter(o=>Number(o.id)===Number(this.conductor.fk_vehiculo))})))}onReset(){this.submitted=!1,this.conductor=new B,this.form.reset()}initFormVehiculo(){this.formDoc=this.formBuilder.group({fld:[this.document.fk_lista_doc,[s.kI.required]]})}get fDoc(){return this.formDoc.controls}onSelect(o){this.files=[],this.files.push(...o.addedFiles),this.formData=new FormData;const i=new FileReader;i.readAsArrayBuffer(this.files[0]),i.onload=r=>{var a=new Blob([this.files[0]],{type:"application/pdf"});this.formData.set("file",a,this.files[0].name),this.document.formData=this.formData}}guardarDoc(){this.submittedDocument=!0,!this.formDoc.invalid&&0!==this.files.length&&0!==this.document.fk_conductor&&0!==Number(this.document.fk_lista_doc)&&(this.formData.set("fk_conductor",""+this.document.fk_conductor),this.formData.set("fk_lista_doc",""+this.document.fk_lista_doc),this.document.formData=this.formData,this.documentService.crearDocumento(this.document,3).subscribe(o=>{const i=o.data;this.document.id=i.id,this.document.path_doc=i.url,this.documentosProveedor.push(this.document);const r=this.selecListaDocumentos.findIndex(a=>a.id===Number(this.document.fk_lista_doc));r>-1&&this.selecListaDocumentos.splice(r,1),this.resetDoc(this.document.fk_conductor)}))}resetDoc(o){this.submittedDocument=!1,this.files=[],this.document=new M.B,this.document.fk_conductor=o,this.formDoc.reset()}mostrarItem(o){this.pdfSrc=o.replace("http","https")}borrarDocument(o,i){this.sweetService.alertMessageEleccionOpcion("\xbfDesea borrar este registro?","Si borra este registro no se mostrara en este listado","Confirmar","Cancelar").then(r=>{r&&this.documentService.borrarDocumento(o).subscribe(()=>{const c=this.cargarSelectoresListaDocumentos.getCargoListaDocumento().find(d=>Number(d.id)===Number(this.documentosProveedor[i].fk_lista_doc));this.selecListaDocumentos.push(c),this.documentosProveedor.splice(i,1)})})}onRemove(o){this.files.splice(this.files.indexOf(o),1)}cargarSelect(){this.documentosProveedor.forEach(o=>{const i=this.selecListaDocumentos.findIndex(r=>r.id===o.fk_lista_doc);i>-1&&this.selecListaDocumentos.splice(i,1)})}cargarListaVehiculosBack(){}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(F.p),e.Y36(ae),e.Y36(V),e.Y36(mi.z),e.Y36(Z.J),e.Y36(K.Z),e.Y36(s.QS),e.Y36(Y))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-info-cond"]],inputs:{document:"document"},outputs:{cambioTab:"cambioTab",object:"object"},decls:122,vars:28,consts:[["class","table table-condensed",4,"ngIf"],["type","button","aria-controls","staticBackdrop","data-bs-toggle","offcanvas","data-bs-target","#staticBackdrop",1,"btn","btn-elegant",3,"click"],["alt","Bootstrap","width","52","height","52",1,"nav_icon",3,"src"],[1,"d-flex","flex-row","bd-highlight","mb-3","justify-content-center"],[1,"p-4","bd-highlight",2,"padding-left","0rem !important","padding-bottom","0rem !important"],[1,"col-md"],["role","button","aria-pressed","true",1,"btn","btn-primary","btn-lg","regresar",3,"click"],["role","button","aria-pressed","true",1,"btn","btn-primary","btn-lg","siguiente",3,"click"],["data-bs-backdrop","static","tabindex","-1","id","staticBackdrop","aria-labelledby","staticBackdropLabel",1,"offcanvas","offcanvas-end"],[1,"offcanvas-header"],["id","staticBackdropLabel",1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close",3,"click"],[1,"offcanvas-body"],[1,"d-grid","gap-3"],[3,"formGroup"],[1,"p-2"],[1,"form-group"],["for","inputsm",1,"tamano-texto"],["id","inputsm","type","text","formControlName","nom",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],["class","text-danger",4,"ngIf"],["onKeypress","if (event.keyCode < 45 || event.keyCode > 57) event.returnValue = false;","id","inputsm","type","text","formControlName","ced",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],["id","inputsm","type","date","formControlName","fcl",1,"negrita-en-value","form-control","input-sm","form-control","input-sm","border-0","border-bottom",3,"ngModel","ngModelChange"],["aria-label","Default select example","formControlName","ft",1,"form-select",3,"ngModel","ngModelChange"],["selected","","value","0"],["option","",3,"value",4,"ngFor","ngForOf"],["aria-label","Default select example","formControlName","fv",1,"form-select",3,"ngModel","ngModelChange"],[1,"offcanvas-footer"],[1,"d-flex","flex-row","justify-content-center"],["class","p-2",4,"ngIf"],[1,"p-1"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn","btn-outline-primary","btn-lg","btn-block","radio-del-boton"],[1,"tamano-texto-boton",3,"click"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["aria-label","Default select example","formControlName","fld",1,"form-select",3,"ngModel","ngModelChange"],["value","0","selected",""],[3,"value",4,"ngFor","ngForOf"],["accept","application/pdf,image/jpeg,image/jpg,image/png",3,"multiple","change"],[3,"removable","removed",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["id","exampleModal2","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],["id","exampleModalLabel",1,"modal-title","text-danger"],["frameBorder","0","scrolling","auto","width","100%","height","580px","id","content_all","frameborder","0",3,"src"],[1,"table","table-condensed"],["scope","col"],["class","align-middle",4,"ngFor","ngForOf"],[1,"align-middle"],["type","button","aria-controls","staticBackdrop","data-bs-toggle","offcanvas","data-bs-target","#staticBackdrop",1,"custom-css","btn","btn-primary","text-dark","nuevo-color",3,"click"],["type","button",1,"custom-css","btn","btn-primary","nuevo-color",3,"click"],[1,"bi","bi-trash3"],[1,"text-danger"],["option","",3,"value"],["type","button",1,"btn","btn-primary","btn-lg","btn-block","radio-del-boton",3,"click"],[1,"tamano-texto-boton"],[3,"value"],[3,"removable","removed"]],template:function(o,i){1&o&&(e.TgZ(0,"h3"),e._uU(1,"Administrar conductor"),e.qZA(),e._UZ(2,"br"),e.YNc(3,fi,13,1,"table",0),e.TgZ(4,"button",1),e.NdJ("click",function(){return i.iniciarObjeto()}),e._UZ(5,"img",2),e.TgZ(6,"strong"),e._uU(7,"\xa0\xa0Agregar conductor"),e.qZA()(),e._UZ(8,"br"),e.TgZ(9,"div",3)(10,"div",4)(11,"div",5)(12,"a",6),e.NdJ("click",function(){return i.emitirCambioTab(4,!1)}),e._uU(13," \xa0\xa0Regresar\xa0\xa0 "),e.qZA()()(),e.TgZ(14,"div",4)(15,"div",5)(16,"a",7),e.NdJ("click",function(){return i.emitirCambioTab(6,!0)}),e._uU(17," \xa0\xa0Siguiente\xa0\xa0 "),e.qZA()()()(),e.TgZ(18,"div",8)(19,"div",9)(20,"h5",10),e._uU(21,"\xa0"),e.qZA(),e.TgZ(22,"button",11),e.NdJ("click",function(){return i.cargarListaVehiculosBack()}),e.qZA()(),e.TgZ(23,"div",12)(24,"h5",10)(25,"strong"),e._uU(26,"Agregar conductor"),e.qZA()(),e._UZ(27,"br"),e.TgZ(28,"div",13)(29,"form",14)(30,"div",15)(31,"div",16)(32,"label",17),e._uU(33,"Nombre"),e.qZA(),e.TgZ(34,"input",18),e.NdJ("ngModelChange",function(a){return i.conductor.nombre_cond=a}),e.qZA(),e.YNc(35,gi,2,0,"p",19),e.qZA()(),e.TgZ(36,"div",15)(37,"div",16)(38,"label",17),e._uU(39,"C\xe9dula"),e.qZA(),e.TgZ(40,"input",20),e.NdJ("ngModelChange",function(a){return i.conductor.cedula_cond=a}),e.qZA(),e.YNc(41,vi,2,0,"p",19),e.YNc(42,bi,2,0,"p",19),e.qZA()(),e.TgZ(43,"div",15)(44,"div",16)(45,"label",17),e._uU(46,"Fecha de caducidad de la licencia"),e.qZA(),e.TgZ(47,"input",21),e.NdJ("ngModelChange",function(a){return i.conductor.fecha_caducidad_lic_cond=a}),e.qZA(),e.YNc(48,Ci,2,0,"p",19),e.qZA()(),e.TgZ(49,"div",15)(50,"label",17),e._uU(51,"Tipo de licencia"),e.qZA(),e.TgZ(52,"select",22),e.NdJ("ngModelChange",function(a){return i.conductor.fk_tipo_lic=a}),e.TgZ(53,"option",23),e._uU(54,"Tipo de licencia"),e.qZA(),e.YNc(55,Ai,2,2,"option",24),e.qZA(),e.YNc(56,Zi,2,0,"p",19),e.qZA(),e.TgZ(57,"div",15)(58,"label",17),e._uU(59,"Veh\xedculo"),e.qZA(),e.TgZ(60,"select",25),e.NdJ("ngModelChange",function(a){return i.conductor.fk_vehiculo=a}),e.TgZ(61,"option",23),e._uU(62,"Veh\xedculo"),e.qZA(),e.YNc(63,Ti,2,2,"option",24),e.qZA(),e.YNc(64,ki,2,0,"p",19),e.qZA()()()(),e.TgZ(65,"div",26)(66,"div",27),e._UZ(67,"div",15),e.YNc(68,Pi,6,0,"div",28),e.YNc(69,xi,6,0,"div",28),e._UZ(70,"div",29),e.TgZ(71,"div",15)(72,"button",30),e._uU(73," \xa0\xa0\xa0\xa0\xa0\xa0"),e.TgZ(74,"strong",31),e.NdJ("click",function(){return i.cargarListaVehiculosBack()}),e._uU(75,"Cerrar"),e.qZA(),e._uU(76,"\xa0\xa0\xa0\xa0\xa0\xa0 "),e.qZA()(),e._UZ(77,"div",15),e.qZA(),e._UZ(78,"br")(79,"br")(80,"br"),e.qZA()(),e.TgZ(81,"div",32)(82,"div",33)(83,"div",34)(84,"div",35)(85,"h5",36),e._uU(86,"Ingresar Documentos"),e.qZA(),e._UZ(87,"button",37),e.qZA(),e.TgZ(88,"div",38)(89,"form",14)(90,"div",15)(91,"div",16)(92,"label",17),e._uU(93,"Tipo de documento"),e.qZA(),e.TgZ(94,"select",39),e.NdJ("ngModelChange",function(a){return i.document.fk_lista_doc=a}),e.TgZ(95,"option",40),e._uU(96,"Seleccione el tipo de documento"),e.qZA(),e.YNc(97,Fi,1,1,"option",41),e.qZA(),e.YNc(98,Ni,2,0,"p",19),e.qZA()()(),e.TgZ(99,"div",16)(100,"h6"),e._uU(101,"Sube el archivo"),e.qZA(),e.TgZ(102,"p"),e._uU(103,"Puedes subir un archivo PDF,JPG, PNG de hasta 100 MB."),e.qZA(),e.TgZ(104,"ngx-dropzone",42),e.NdJ("change",function(a){return i.onSelect(a)}),e.TgZ(105,"ngx-dropzone-label"),e._uU(106,"Arrastra y suelta un archivo para subirlo O elige archivos de tu dispositivo"),e.qZA(),e.YNc(107,qi,3,3,"ngx-dropzone-preview",43),e.qZA(),e.YNc(108,Mi,2,0,"p",19),e.qZA()(),e.TgZ(109,"div",44)(110,"button",45),e.NdJ("click",function(){return i.guardarDoc()}),e._uU(111,"Guardar"),e.qZA()()()()(),e.TgZ(112,"div",46)(113,"div",47)(114,"div",34)(115,"div",35)(116,"h5",48),e._uU(117,"Archivo"),e.qZA(),e._UZ(118,"button",37),e.qZA(),e.TgZ(119,"div",38),e._UZ(120,"iframe",49),e.ALo(121,"safe"),e.qZA()()()()),2&o&&(e.xp6(3),e.Q6J("ngIf",i.conductores.length>0),e.xp6(2),e.MGl("src","",i.img,"/assets/Paginas/more.svg",e.LSH),e.xp6(24),e.Q6J("formGroup",i.form),e.xp6(5),e.Q6J("ngModel",i.conductor.nombre_cond),e.xp6(1),e.Q6J("ngIf",i.submitted&&""===i.conductor.nombre_cond||i.submitted&&(null==i.f.nom.errors?null:i.f.nom.errors.required)),e.xp6(5),e.Q6J("ngModel",i.conductor.cedula_cond),e.xp6(1),e.Q6J("ngIf",i.submitted&&""===i.conductor.cedula_cond||i.submitted&&(null==i.f.ced.errors?null:i.f.ced.errors.required)),e.xp6(1),e.Q6J("ngIf",i.submitted&&10!==i.conductor.cedula_cond.length),e.xp6(5),e.Q6J("ngModel",i.conductor.fecha_caducidad_lic_cond),e.xp6(1),e.Q6J("ngIf",i.submitted&&""===i.conductor.fecha_caducidad_lic_cond||i.submitted&&(null==i.f.fcl.errors?null:i.f.fcl.errors.required)),e.xp6(4),e.Q6J("ngModel",i.conductor.fk_tipo_lic),e.xp6(3),e.Q6J("ngForOf",i.tiposLicencias),e.xp6(1),e.Q6J("ngIf",i.submitted&&0==i.conductor.fk_tipo_lic||i.submitted&&(null==i.f.ft.errors?null:i.f.ft.errors.required)),e.xp6(4),e.Q6J("ngModel",i.conductor.fk_vehiculo),e.xp6(3),e.Q6J("ngForOf",i.vehiculos),e.xp6(1),e.Q6J("ngIf",i.submitted&&0==i.conductor.fk_vehiculo||i.submitted&&(null==i.f.fv.errors?null:i.f.fv.errors.required)),e.xp6(4),e.Q6J("ngIf",0==i.conductor.id),e.xp6(1),e.Q6J("ngIf",i.conductor.id>0),e.xp6(20),e.Q6J("formGroup",i.formDoc),e.xp6(5),e.Q6J("ngModel",i.document.fk_lista_doc),e.xp6(3),e.Q6J("ngForOf",i.selecListaDocumentos),e.xp6(1),e.Q6J("ngIf",i.submitted&&0==i.document.fk_lista_doc),e.xp6(6),e.Q6J("multiple",!1),e.xp6(3),e.Q6J("ngForOf",i.files),e.xp6(1),e.Q6J("ngIf",i.submittedDocument&&0==i.files.length),e.xp6(12),e.Q6J("src",e.lcZ(121,26,i.pdfSrc),e.uOi))},dependencies:[A._f,A.NP,A.dt,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.sg,s.u,m.sg,m.O5,z],styles:[".negrita-en-value[_ngcontent-%COMP%]{font-weight:700}.tamano-texto[_ngcontent-%COMP%]{font-size:.8rem}.tamano-texto-boton[_ngcontent-%COMP%]{font-size:.9rem}.radio-del-boton[_ngcontent-%COMP%]{border-radius:25rem}div.d-grid.gap-3[_ngcontent-%COMP%]   .p-2[_ngcontent-%COMP%]{padding-top:.08rem!important}a.btn.btn-primary.btn-lg.regresar[_ngcontent-%COMP%]{background-color:#d8d9da;border-color:#d8d9da;border-radius:20px;color:#43454b}a.btn.btn-primary.btn-lg.siguiente[_ngcontent-%COMP%]{background-color:#0068c9;border-color:#0068c9;border-radius:20px}a.btn.btn-primary.btn-lg[_ngcontent-%COMP%]{background-color:#d8d9da}"]}),t})();function wi(t,n){1&t&&(e.TgZ(0,"label",18),e._uU(1," Detalles de un nuevo proveedor GENERAL "),e.qZA())}function Ui(t,n){1&t&&(e.TgZ(0,"label",18),e._uU(1," Detalles de un nuevo proveedor TRANSPORTE TERRESTRE "),e.qZA())}function yi(t,n){1&t&&(e.TgZ(0,"label",18),e._uU(1," Detalles de un nuevo AGENTE DE CARGA "),e.qZA())}function Ji(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"a",19),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.onSubmitProve())}),e._uU(1," Guardar "),e.qZA()}}function Si(t,n){1&t&&(e.TgZ(0,"strong"),e._uU(1,"Informaci\xf3n b\xe1sica"),e.qZA())}function ji(t,n){1&t&&(e.TgZ(0,"span"),e._uU(1,"Informaci\xf3n b\xe1sica"),e.qZA())}function Li(t,n){1&t&&(e.TgZ(0,"strong"),e._uU(1,"Contactos del Proveedor"),e.qZA())}function Ei(t,n){1&t&&(e.TgZ(0,"label"),e._uU(1,"Contactos del Proveedor"),e.qZA())}function Qi(t,n){1&t&&(e.TgZ(0,"strong"),e._uU(1,"Contacto Financiero"),e.qZA())}function Di(t,n){1&t&&(e.TgZ(0,"label"),e._uU(1,"Contacto Financiero"),e.qZA())}function Yi(t,n){1&t&&(e.TgZ(0,"strong"),e._uU(1,"Documentos"),e.qZA())}function Oi(t,n){1&t&&(e.TgZ(0,"label"),e._uU(1,"Documentos"),e.qZA())}const v=function(t){return{"selected-custom":t}};function Gi(t,n){if(1&t&&(e.TgZ(0,"div",2)(1,"button",20),e.YNc(2,Si,2,0,"strong",21),e.YNc(3,ji,2,0,"span",21),e.qZA(),e._uU(4,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),e.TgZ(5,"button",20),e.YNc(6,Li,2,0,"strong",21),e.YNc(7,Ei,2,0,"label",21),e.qZA(),e._uU(8,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),e.TgZ(9,"button",20),e.YNc(10,Qi,2,0,"strong",21),e.YNc(11,Di,2,0,"label",21),e.qZA(),e._uU(12,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),e.TgZ(13,"button",20),e.YNc(14,Yi,2,0,"strong",21),e.YNc(15,Oi,2,0,"label",21),e.qZA()()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(12,v,1==o.tipoFormGeneral)),e.xp6(1),e.Q6J("ngIf",1==o.tipoFormGeneral),e.xp6(1),e.Q6J("ngIf",1!=o.tipoFormGeneral),e.xp6(2),e.Q6J("ngClass",e.VKq(14,v,2==o.tipoFormGeneral)),e.xp6(1),e.Q6J("ngIf",2==o.tipoFormGeneral),e.xp6(1),e.Q6J("ngIf",2!=o.tipoFormGeneral),e.xp6(2),e.Q6J("ngClass",e.VKq(16,v,3==o.tipoFormGeneral)),e.xp6(1),e.Q6J("ngIf",3==o.tipoFormGeneral),e.xp6(1),e.Q6J("ngIf",3!=o.tipoFormGeneral),e.xp6(2),e.Q6J("ngClass",e.VKq(18,v,4==o.tipoFormGeneral)),e.xp6(1),e.Q6J("ngIf",4==o.tipoFormGeneral),e.xp6(1),e.Q6J("ngIf",4!=o.tipoFormGeneral)}}function Vi(t,n){1&t&&(e.TgZ(0,"strong"),e._uU(1,"Informaci\xf3n b\xe1sica"),e.qZA())}function Ki(t,n){1&t&&(e.TgZ(0,"span"),e._uU(1,"Informaci\xf3n b\xe1sica"),e.qZA())}function zi(t,n){1&t&&(e.TgZ(0,"strong"),e._uU(1,"Contactos del Operador"),e.qZA())}function Bi(t,n){1&t&&(e.TgZ(0,"label"),e._uU(1,"Contactos del Operador"),e.qZA())}function Hi(t,n){1&t&&(e.TgZ(0,"strong"),e._uU(1,"Contacto "),e.qZA())}function $i(t,n){1&t&&(e.TgZ(0,"label"),e._uU(1,"Contacto "),e.qZA())}function Ri(t,n){1&t&&(e.TgZ(0,"strong"),e._uU(1,"Veh\xedculos"),e.qZA())}function Xi(t,n){1&t&&(e.TgZ(0,"label"),e._uU(1,"Veh\xedculos"),e.qZA())}function Wi(t,n){1&t&&(e.TgZ(0,"strong"),e._uU(1,"Conductores"),e.qZA())}function er(t,n){1&t&&(e.TgZ(0,"label"),e._uU(1,"Conductores"),e.qZA())}function or(t,n){1&t&&(e.TgZ(0,"strong"),e._uU(1,"Documentos"),e.qZA())}function tr(t,n){1&t&&(e.TgZ(0,"label"),e._uU(1,"Documentos"),e.qZA())}function ir(t,n){if(1&t&&(e.TgZ(0,"div",2)(1,"button",20),e.YNc(2,Vi,2,0,"strong",21),e.YNc(3,Ki,2,0,"span",21),e.qZA(),e._uU(4,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),e.TgZ(5,"button",20),e.YNc(6,zi,2,0,"strong",21),e.YNc(7,Bi,2,0,"label",21),e.qZA(),e._uU(8,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),e.TgZ(9,"button",20),e.YNc(10,Hi,2,0,"strong",21),e.YNc(11,$i,2,0,"label",21),e.qZA(),e._uU(12,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),e.TgZ(13,"button",20),e.YNc(14,Ri,2,0,"strong",21),e.YNc(15,Xi,2,0,"label",21),e.qZA(),e._uU(16,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),e.TgZ(17,"button",20),e.YNc(18,Wi,2,0,"strong",21),e.YNc(19,er,2,0,"label",21),e.qZA(),e._uU(20,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),e.TgZ(21,"button",20),e.YNc(22,or,2,0,"strong",21),e.YNc(23,tr,2,0,"label",21),e.qZA()()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(18,v,1==o.tipoFormGeneral)),e.xp6(1),e.Q6J("ngIf",1==o.tipoFormGeneral),e.xp6(1),e.Q6J("ngIf",1!=o.tipoFormGeneral),e.xp6(2),e.Q6J("ngClass",e.VKq(20,v,2==o.tipoFormGeneral)),e.xp6(1),e.Q6J("ngIf",2==o.tipoFormGeneral),e.xp6(1),e.Q6J("ngIf",2!=o.tipoFormGeneral),e.xp6(2),e.Q6J("ngClass",e.VKq(22,v,3==o.tipoFormGeneral)),e.xp6(1),e.Q6J("ngIf",3==o.tipoFormGeneral),e.xp6(1),e.Q6J("ngIf",3!=o.tipoFormGeneral),e.xp6(2),e.Q6J("ngClass",e.VKq(24,v,4==o.tipoFormGeneral)),e.xp6(1),e.Q6J("ngIf",4==o.tipoFormGeneral),e.xp6(1),e.Q6J("ngIf",4!=o.tipoFormGeneral),e.xp6(2),e.Q6J("ngClass",e.VKq(26,v,5==o.tipoFormGeneral)),e.xp6(1),e.Q6J("ngIf",5==o.tipoFormGeneral),e.xp6(1),e.Q6J("ngIf",5!=o.tipoFormGeneral),e.xp6(2),e.Q6J("ngClass",e.VKq(28,v,6==o.tipoFormGeneral)),e.xp6(1),e.Q6J("ngIf",6==o.tipoFormGeneral),e.xp6(1),e.Q6J("ngIf",6!=o.tipoFormGeneral)}}function rr(t,n){1&t&&(e.TgZ(0,"strong"),e._uU(1,"Informaci\xf3n b\xe1sica"),e.qZA())}function nr(t,n){1&t&&(e.TgZ(0,"span"),e._uU(1,"Informaci\xf3n b\xe1sica"),e.qZA())}function ar(t,n){1&t&&(e.TgZ(0,"strong"),e._uU(1,"Contactos"),e.qZA())}function cr(t,n){1&t&&(e.TgZ(0,"label"),e._uU(1,"Contactos"),e.qZA())}function sr(t,n){1&t&&(e.TgZ(0,"strong"),e._uU(1,"Documentos"),e.qZA())}function dr(t,n){1&t&&(e.TgZ(0,"label"),e._uU(1,"Documentos"),e.qZA())}function lr(t,n){if(1&t&&(e.TgZ(0,"div",2)(1,"button",20),e.YNc(2,rr,2,0,"strong",21),e.YNc(3,nr,2,0,"span",21),e.qZA(),e._uU(4,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),e.TgZ(5,"button",20),e.YNc(6,ar,2,0,"strong",21),e.YNc(7,cr,2,0,"label",21),e.qZA(),e._uU(8,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),e.TgZ(9,"button",20),e.YNc(10,sr,2,0,"strong",21),e.YNc(11,dr,2,0,"label",21),e.qZA()()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(9,v,1==o.tipoFormGeneral)),e.xp6(1),e.Q6J("ngIf",1==o.tipoFormGeneral),e.xp6(1),e.Q6J("ngIf",1!=o.tipoFormGeneral),e.xp6(2),e.Q6J("ngClass",e.VKq(11,v,2==o.tipoFormGeneral)),e.xp6(1),e.Q6J("ngIf",2==o.tipoFormGeneral),e.xp6(1),e.Q6J("ngIf",2!=o.tipoFormGeneral),e.xp6(2),e.Q6J("ngClass",e.VKq(13,v,3==o.tipoFormGeneral)),e.xp6(1),e.Q6J("ngIf",3==o.tipoFormGeneral),e.xp6(1),e.Q6J("ngIf",3!=o.tipoFormGeneral)}}function ur(t,n){1&t&&(e.TgZ(0,"label",46),e._uU(1,"Si"),e.qZA())}function _r(t,n){1&t&&(e.TgZ(0,"label",47),e._uU(1,"No"),e.qZA())}function pr(t,n){if(1&t&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.nombre_pai," ")}}function mr(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",50)(1,"select",51),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw(4);return e.KtG(a.object.fk_pais=r)})("click",function(){e.CHM(o);const r=e.oxw(4);return e.KtG(r.cambioDatoFormSelects())})("change",function(){e.CHM(o);const r=e.oxw(4);return e.KtG(r.mostrarEnInput())}),e.TgZ(2,"option",52),e._uU(3,"\u29e9"),e.qZA(),e.YNc(4,pr,2,2,"option",30),e.qZA()()}if(2&t){const o=e.oxw(4);e.xp6(1),e.Q6J("ngModel",o.object.fk_pais),e.xp6(3),e.Q6J("ngForOf",o.paises)}}function hr(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",31)(1,"div",28)(2,"input",48),e.NdJ("keyup",function(r){e.CHM(o);const a=e.oxw(3);return e.KtG(a.filtrarPais(r))}),e.qZA()(),e.YNc(3,mr,5,2,"div",49),e.qZA()}if(2&t){const o=e.oxw(3);e.xp6(2),e.s9C("value",o.object.pais.nombre_pai),e.xp6(1),e.Q6J("ngIf",o.object.fk_pais>0&&0==o.object.pais.nombre_pai.length)}}function fr(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",25)(1,"div",26),e._uU(2," \xa0\xa0\xa0\xa0\xa0\xa0"),e.TgZ(3,"strong"),e._uU(4,"Nacional:"),e.qZA()(),e.TgZ(5,"div",26)(6,"div",42)(7,"input",43),e.NdJ("click",function(){e.CHM(o);const r=e.oxw(2);return e.KtG(r.cambioDos())}),e.qZA(),e.YNc(8,ur,2,0,"label",44),e.YNc(9,_r,2,0,"label",45),e.qZA()(),e.YNc(10,hr,4,2,"div",34),e.qZA()}if(2&t){const o=e.oxw(2);e.xp6(7),e.Q6J("checked",!o.nacionalidad),e.xp6(1),e.Q6J("ngIf",!o.nacionalidad),e.xp6(1),e.Q6J("ngIf",o.nacionalidad),e.xp6(1),e.Q6J("ngIf",o.nacionalidad&&3==o.object.fk_tipo_proveedor)}}function gr(t,n){if(1&t&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.nombre_emp,"")}}function vr(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",25)(1,"div",31)(2,"div",27)(3,"div",28)(4,"select",54),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw(2);return e.KtG(a.object.fk_empresa=r)})("click",function(){e.CHM(o);const r=e.oxw(2);return e.KtG(r.cambioDatoFormSelects())}),e.YNc(5,gr,2,2,"option",30),e.qZA()()()()()}if(2&t){const o=e.oxw(2);e.xp6(4),e.Q6J("ngModel",o.object.fk_empresa),e.xp6(1),e.Q6J("ngForOf",o.empresaArray)}}function br(t,n){if(1&t&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.nombre_ide,"")}}function Cr(t,n){if(1&t&&(e.TgZ(0,"div")(1,"small",55),e._UZ(2,"br"),e._uU(3),e.qZA()()),2&t){const o=e.oxw(2);e.xp6(3),e.hij(" Ingresar ",o.object.identificacion.nombre_ide,".")}}function Ar(t,n){1&t&&(e.TgZ(0,"small",55),e._uU(1," El n\xfamero de caracteres debe ser 10."),e.qZA())}function Zr(t,n){1&t&&(e.TgZ(0,"small",55),e._UZ(1,"br"),e._uU(2," Ingresar solo numeros."),e.qZA())}function Tr(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,Ar,2,0,"small",38),e.YNc(2,Zr,3,0,"small",38),e.qZA()),2&t){const o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.object.ruc_pro.length!=o.tamanoRuc&&o.submitted),e.xp6(1),e.Q6J("ngIf",!o.esNumerico(o.object.ruc_pro)&&o.submitted)}}function kr(t,n){1&t&&(e.TgZ(0,"small",55),e._uU(1," El n\xfamero de caracteres debe ser 13. "),e.qZA())}function Pr(t,n){1&t&&(e.TgZ(0,"small",55),e._UZ(1,"br"),e._uU(2," Ingresar solo numeros. "),e.qZA())}function xr(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,kr,2,0,"small",38),e.YNc(2,Pr,3,0,"small",38),e.qZA()),2&t){const o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.object.ruc_pro.length!=o.tamanoRuc&&o.submitted),e.xp6(1),e.Q6J("ngIf",!o.esNumerico(o.object.ruc_pro)&&o.submitted)}}function Fr(t,n){1&t&&e._UZ(0,"div")}function Nr(t,n){1&t&&e._UZ(0,"div")}function qr(t,n){if(1&t&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.nombre_emp,"")}}function Mr(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",31)(1,"div",27)(2,"div",28)(3,"select",54),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw(2);return e.KtG(a.object.fk_empresa=r)})("click",function(){e.CHM(o);const r=e.oxw(2);return e.KtG(r.cambioDatoFormSelects())}),e.YNc(4,qr,2,2,"option",30),e.qZA()()()()}if(2&t){const o=e.oxw(2);e.xp6(3),e.Q6J("ngModel",o.object.fk_empresa),e.xp6(1),e.Q6J("ngForOf",o.empresaArray)}}function Ir(t,n){if(1&t&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.nombre_tip,"")}}function wr(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",31)(1,"div",27)(2,"div",28)(3,"select",56),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw(2);return e.KtG(a.object.fk_tipo_compania=r)})("click",function(){e.CHM(o);const r=e.oxw(2);return e.KtG(r.cambioDatoFormSelects())}),e.TgZ(4,"option",57),e._uU(5,"Tipo compa\xf1ia"),e.qZA(),e.YNc(6,Ir,2,2,"option",30),e.qZA()()()()}if(2&t){const o=e.oxw(2);e.xp6(3),e.Q6J("ngModel",o.object.fk_tipo_compania),e.xp6(1),e.Q6J("value",0),e.xp6(2),e.Q6J("ngForOf",o.tipoCompanias)}}function Ur(t,n){1&t&&(e.TgZ(0,"small",55),e._uU(1," Ingrese la raz\xf3n social. "),e.qZA())}function yr(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",40)(1,"div",26)(2,"div",28)(3,"input",58),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw(2);return e.KtG(a.object.razon_social_pro=r)})("keyup",function(){e.CHM(o);const r=e.oxw(2);return e.KtG(r.cambioDatoFormSelects())}),e.qZA(),e.TgZ(4,"label",33),e._uU(5,"Raz\xf3n social"),e.qZA()(),e.YNc(6,Ur,2,0,"small",38),e.qZA()()}if(2&t){const o=e.oxw(2);e.xp6(3),e.Q6J("ngModel",o.object.razon_social_pro),e.xp6(3),e.Q6J("ngIf",o.submitted&&""===o.object.razon_social_pro)}}function Jr(t,n){1&t&&(e.TgZ(0,"label",33),e._uU(1,"Nombre Comercial"),e.qZA())}function Sr(t,n){1&t&&(e.TgZ(0,"label",33),e._uU(1,"Nombre"),e.qZA())}function jr(t,n){1&t&&(e.TgZ(0,"small",55),e._uU(1," Ingrese el nombre Comercial. "),e.qZA())}function Lr(t,n){if(1&t&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.nombre_pai," ")}}function Er(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",50)(1,"select",51),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw(3);return e.KtG(a.object.fk_pais=r)})("click",function(){e.CHM(o);const r=e.oxw(3);return e.KtG(r.cambioDatoFormSelects())})("change",function(){e.CHM(o);const r=e.oxw(3);return e.KtG(r.mostrarEnInput())}),e.TgZ(2,"option",52),e._uU(3,"\u29e9"),e.qZA(),e.YNc(4,Lr,2,2,"option",30),e.qZA()()}if(2&t){const o=e.oxw(3);e.xp6(1),e.Q6J("ngModel",o.object.fk_pais),e.xp6(3),e.Q6J("ngForOf",o.paises)}}function Qr(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",31)(1,"div",28)(2,"input",48),e.NdJ("keyup",function(r){e.CHM(o);const a=e.oxw(2);return e.KtG(a.filtrarPais(r))}),e.qZA(),e.TgZ(3,"label",33),e._uU(4,"Pais"),e.qZA()(),e.YNc(5,Er,5,2,"div",49),e.qZA()}if(2&t){const o=e.oxw(2);e.xp6(2),e.s9C("value",o.object.pais.nombre_pai),e.xp6(3),e.Q6J("ngIf",o.object.fk_pais>0&&0==o.object.pais.nombre_pai.length)}}function Dr(t,n){if(1&t&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.nombre_cat," ")}}function Yr(t,n){1&t&&(e.TgZ(0,"small",55),e._uU(1," Seleccione la categor\xeda del Proveedor. "),e.qZA())}function Or(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",25)(1,"div",59)(2,"div",27)(3,"div",28)(4,"select",60),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw(2);return e.KtG(a.object.fk_categoria=r)})("click",function(){e.CHM(o);const r=e.oxw(2);return e.KtG(r.cambioDatoFormSelects())}),e.TgZ(5,"option",52),e._uU(6,"Categor\xeda del Proveedor"),e.qZA(),e.YNc(7,Dr,2,2,"option",30),e.qZA()(),e.YNc(8,Yr,2,0,"small",38),e.qZA()()()}if(2&t){const o=e.oxw(2);e.xp6(4),e.Q6J("ngModel",o.object.fk_categoria),e.xp6(3),e.Q6J("ngForOf",o.categoriasProveedor),e.xp6(1),e.Q6J("ngIf",o.submitted&&0===o.object.fk_categoria)}}function Gr(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",65)(1,"input",66),e.NdJ("click",function(){const a=e.CHM(o).index,c=e.oxw(4);return e.KtG(c.seleccionTiposServicio(a))})("keyup",function(){e.CHM(o);const r=e.oxw(4);return e.KtG(r.cambioDatoFormSelects())}),e.qZA(),e.TgZ(2,"label",67),e._uU(3),e.qZA()()}if(2&t){const o=n.$implicit,i=n.index,r=e.oxw(4);e.xp6(1),e.Q6J("checked",o.checked),e.uIk("id",r.checkBoxTipoServicio[i])("value",r.checkBoxTipoServicioOption[i]),e.xp6(2),e.hij(" ",o.nombre_ser," ")}}function Vr(t,n){1&t&&(e.TgZ(0,"small",55),e._uU(1," Seleccione los tipos de servicio. "),e.qZA())}function Kr(t,n){if(1&t&&(e.TgZ(0,"div",31)(1,"div",27)(2,"div",61)(3,"div",62)(4,"p"),e._uU(5,"Seleccione los tipos de servicio"),e.qZA()(),e.TgZ(6,"div",63),e.YNc(7,Gr,4,4,"div",64),e.qZA()(),e.YNc(8,Vr,2,0,"small",38),e.qZA()()),2&t){const o=e.oxw(3);e.xp6(7),e.Q6J("ngForOf",o.tipoServiciorArray),e.xp6(1),e.Q6J("ngIf",o.submitted&&0===o.object.fk_tipo_servicio)}}function zr(t,n){if(1&t&&(e.TgZ(0,"div",40),e.YNc(1,Kr,9,2,"div",34),e.qZA()),2&t){const o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",3==o.object.fk_tipo_proveedor)}}function Br(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",65)(1,"input",68),e.NdJ("click",function(){const a=e.CHM(o).index,c=e.oxw(3);return e.KtG(c.seleccionNetworks(a))}),e.qZA(),e.TgZ(2,"label",67),e._uU(3),e.qZA()()}if(2&t){const o=n.$implicit,i=n.index,r=e.oxw(3);e.xp6(1),e.Q6J("checked",o.checked),e.uIk("id",r.checkBoxNetwork[i])("value",r.checkBoxNetworkOption[i]),e.xp6(2),e.hij(" ",o.nombre_net," ")}}function Hr(t,n){1&t&&(e.TgZ(0,"small",55),e._uU(1," Seleccione el network. "),e.qZA())}function $r(t,n){if(1&t&&(e.TgZ(0,"div",40)(1,"div",26)(2,"div",27)(3,"div",61)(4,"div",62)(5,"p"),e._uU(6,"Seleccione los respectivos network"),e.qZA()(),e.TgZ(7,"div",63),e.YNc(8,Br,4,4,"div",64),e.qZA()(),e.YNc(9,Hr,2,0,"small",38),e.qZA()()()),2&t){const o=e.oxw(2);e.xp6(8),e.Q6J("ngForOf",o.networks),e.xp6(1),e.Q6J("ngIf",o.submitted&&0===o.object.fk_network.length)}}function Rr(t,n){1&t&&(e.TgZ(0,"label",46),e._uU(1,"Si"),e.qZA())}function Xr(t,n){1&t&&(e.TgZ(0,"label",47),e._uU(1,"No"),e.qZA())}function Wr(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",59)(1,"div",28)(2,"input",71),e.NdJ("keyup",function(){e.CHM(o);const r=e.oxw(3);return e.KtG(r.cambioDatoFormSelects())})("ngModelChange",function(r){e.CHM(o);const a=e.oxw(3);return e.KtG(a.object.certificado_IATA_pro=r)}),e.qZA(),e.TgZ(3,"label",33),e._uU(4,"Certificado IATA"),e.qZA()()()}if(2&t){const o=e.oxw(3);e.xp6(2),e.Q6J("ngModel",o.object.certificado_IATA_pro)}}function en(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",25)(1,"div",26),e._uU(2," \xa0\xa0\xa0\xa0\xa0\xa0"),e.TgZ(3,"strong"),e._uU(4,"Certificado IATA (Obligatorio):"),e.qZA()(),e.TgZ(5,"div",26)(6,"div",42)(7,"input",69),e.NdJ("click",function(){e.CHM(o);const r=e.oxw(2);return e.KtG(r.checkCertificadoIata())})("keyup",function(){e.CHM(o);const r=e.oxw(2);return e.KtG(r.cambioDatoFormSelects())})("ngModelChange",function(r){e.CHM(o);const a=e.oxw(2);return e.KtG(a.obligatorioCertifIata=r)}),e.qZA(),e.YNc(8,Rr,2,0,"label",44),e.YNc(9,Xr,2,0,"label",45),e.qZA()(),e.YNc(10,Wr,5,1,"div",70),e.qZA()}if(2&t){const o=e.oxw(2);e.xp6(7),e.Q6J("ngModel",o.obligatorioCertifIata),e.xp6(1),e.Q6J("ngIf",1==o.object.iata_pro),e.xp6(1),e.Q6J("ngIf",0==o.object.iata_pro),e.xp6(1),e.Q6J("ngIf",1==o.object.iata_pro)}}function on(t,n){1&t&&(e.TgZ(0,"label",46),e._uU(1,"Si"),e.qZA())}function tn(t,n){1&t&&(e.TgZ(0,"label",47),e._uU(1,"No"),e.qZA())}function rn(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",59)(1,"div",28)(2,"input",73),e.NdJ("click",function(){e.CHM(o);const r=e.oxw(3);return e.KtG(r.cambioDatoFormSelects())})("ngModelChange",function(r){e.CHM(o);const a=e.oxw(3);return e.KtG(a.object.certificado_BASC_pro=r)}),e.qZA(),e.TgZ(3,"label",33),e._uU(4,"Certificado BASC"),e.qZA()()()}if(2&t){const o=e.oxw(3);e.xp6(2),e.Q6J("ngModel",o.object.certificado_BASC_pro)}}function nn(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",25)(1,"div",31),e._uU(2," \xa0\xa0\xa0\xa0\xa0\xa0"),e.TgZ(3,"strong"),e._uU(4,"Certificado BASC (Obligatorio):"),e.qZA()(),e.TgZ(5,"div",26)(6,"div",42)(7,"input",72),e.NdJ("click",function(){e.CHM(o);const r=e.oxw(2);return e.KtG(r.checkCertificadoBasc())})("ngModelChange",function(r){e.CHM(o);const a=e.oxw(2);return e.KtG(a.obligatorioCertifBasc=r)}),e.qZA(),e.YNc(8,on,2,0,"label",44),e.YNc(9,tn,2,0,"label",45),e.qZA()(),e.YNc(10,rn,5,1,"div",70),e.qZA()}if(2&t){const o=e.oxw(2);e.xp6(7),e.Q6J("ngModel",o.obligatorioCertifBasc),e.xp6(1),e.Q6J("ngIf",1==o.object.basc_pro),e.xp6(1),e.Q6J("ngIf",0==o.object.basc_pro),e.xp6(1),e.Q6J("ngIf",1==o.object.basc_pro)}}function an(t,n){1&t&&(e.TgZ(0,"small",55),e._uU(1," Ingresar solo numeros. "),e.qZA())}function cn(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",25)(1,"div",31)(2,"div",28)(3,"input",74),e.NdJ("keyUp",function(){e.CHM(o);const r=e.oxw(2);return e.KtG(r.cambioDatoForm())})("ngModelChange",function(r){e.CHM(o);const a=e.oxw(2);return e.KtG(a.object.telefono_pro=r)}),e.qZA(),e.TgZ(4,"label",33),e._uU(5,"Tel\xe9fono fijo"),e.qZA()(),e.YNc(6,an,2,0,"small",38),e.qZA(),e.TgZ(7,"div",31)(8,"div",28)(9,"input",75),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw(2);return e.KtG(a.object.celular_pro=r)})("keyUp",function(){e.CHM(o);const r=e.oxw(2);return e.KtG(r.cambioDatoForm())}),e.qZA(),e.TgZ(10,"label",33),e._uU(11,"Tel\xe9fono celular"),e.qZA()()()()}if(2&t){const o=e.oxw(2);e.xp6(3),e.Q6J("ngModel",o.object.telefono_pro),e.xp6(3),e.Q6J("ngIf",1==o.tipoIngresoTelf&&(o.submitted&&!o.esNumerico(o.object.telefono_pro)||o.submitted&&""==o.object.telefono_pro)),e.xp6(3),e.Q6J("ngModel",o.object.celular_pro)}}function sn(t,n){if(1&t&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.nombre_catc,"")}}function dn(t,n){1&t&&(e.TgZ(0,"small",55),e._uU(1," Seleccione la categoria. "),e.qZA())}function ln(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",31)(1,"div",27)(2,"div",28)(3,"select",76),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw(2);return e.KtG(a.object.fk_categoria_criticidad=r)})("change",function(){e.CHM(o);const r=e.oxw(2);return e.KtG(r.selectCategoria())}),e.TgZ(4,"option",52),e._uU(5,"Categor\xedas"),e.qZA(),e.YNc(6,sn,2,2,"option",30),e.qZA()(),e.YNc(7,dn,2,0,"small",38),e.qZA()()}if(2&t){const o=e.oxw(2);e.xp6(3),e.Q6J("ngModel",o.object.fk_categoria_criticidad),e.xp6(3),e.Q6J("ngForOf",o.categoriasCriticidad),e.xp6(1),e.Q6J("ngIf",o.submitted&&0===o.object.fk_categoria_criticidad)}}function un(t,n){if(1&t&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.nombre_cla," ")}}function _n(t,n){1&t&&(e.TgZ(0,"small",55),e._uU(1," Seleccione la sub categoria. "),e.qZA())}function pn(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",26)(1,"div",27)(2,"div",28)(3,"select",77),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw(2);return e.KtG(a.object.fk_clasificacion=r)})("click",function(){e.CHM(o);const r=e.oxw(2);return e.KtG(r.cambioDatoFormSelects())}),e.TgZ(4,"option",52),e._uU(5,"Sub categoria"),e.qZA(),e.YNc(6,un,2,2,"option",30),e.qZA()(),e.YNc(7,_n,2,0,"small",38),e.qZA()()}if(2&t){const o=e.oxw(2);e.xp6(3),e.Q6J("ngModel",o.object.fk_clasificacion),e.xp6(3),e.Q6J("ngForOf",o.clasificaciones),e.xp6(1),e.Q6J("ngIf",o.submitted&&0===o.object.fk_clasificacion)}}function mn(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",25)(1,"div",31)(2,"div",28)(3,"input",78),e.NdJ("keyUp",function(){e.CHM(o);const r=e.oxw(2);return e.KtG(r.cambioDatoForm())})("ngModelChange",function(r){e.CHM(o);const a=e.oxw(2);return e.KtG(a.object.datos_extra_pro=r)}),e.qZA(),e.TgZ(4,"label",33),e._uU(5,"Informaci\xf3n adicional"),e.qZA()()()()}if(2&t){const o=e.oxw(2);e.xp6(3),e.Q6J("ngModel",o.object.datos_extra_pro)}}function hn(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",25)(1,"div",26)(2,"div",28)(3,"input",79),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw(2);return e.KtG(a.object.dias_credito_pro=r)})("keyUp",function(){e.CHM(o);const r=e.oxw(2);return e.KtG(r.cambioDatoForm())}),e.qZA(),e.TgZ(4,"label",33),e._uU(5,"D\xedas de cr\xe9dito"),e.qZA()()(),e.TgZ(6,"div",59)(7,"div",28)(8,"input",80),e.NdJ("keyUp",function(){e.CHM(o);const r=e.oxw(2);return e.KtG(r.cambioDatoForm())})("ngModelChange",function(r){e.CHM(o);const a=e.oxw(2);return e.KtG(a.object.monto_credito_pro=r)}),e.qZA(),e.TgZ(9,"label",33),e._uU(10,"Monto de cr\xe9dito"),e.qZA()()()()}if(2&t){const o=e.oxw(2);e.xp6(3),e.Q6J("ngModel",o.object.dias_credito_pro),e.xp6(5),e.Q6J("ngModel",o.object.monto_credito_pro)}}function fn(t,n){1&t&&(e.TgZ(0,"small",55),e._uU(1," Ingrese direccion. "),e.qZA())}function gn(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",40)(1,"div",26)(2,"div",28)(3,"input",81),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw(2);return e.KtG(a.object.direccion_pro=r)})("keyup",function(){e.CHM(o);const r=e.oxw(2);return e.KtG(r.cambioDatoFormSelects())}),e.qZA(),e.TgZ(4,"label",33),e._uU(5,"Direccion"),e.qZA()(),e.YNc(6,fn,2,0,"small",38),e.qZA()()}if(2&t){const o=e.oxw(2);e.xp6(3),e.Q6J("ngModel",o.object.direccion_pro),e.xp6(3),e.Q6J("ngIf",o.submitted&&""===o.object.direccion_pro)}}function vn(t,n){1&t&&(e.TgZ(0,"label",46),e._uU(1,"Si"),e.qZA())}function bn(t,n){1&t&&(e.TgZ(0,"label",47),e._uU(1,"No"),e.qZA())}function Cn(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",25)(1,"div",26),e._uU(2," \xa0\xa0\xa0\xa0\xa0\xa0"),e.TgZ(3,"strong"),e._uU(4,"Nacional:"),e.qZA()(),e.TgZ(5,"div",26)(6,"div",42)(7,"input",43),e.NdJ("click",function(){e.CHM(o);const r=e.oxw(2);return e.KtG(r.cambioDos())}),e.qZA(),e.YNc(8,vn,2,0,"label",44),e.YNc(9,bn,2,0,"label",45),e.qZA()()()}if(2&t){const o=e.oxw(2);e.xp6(7),e.Q6J("checked",!o.nacionalidad),e.xp6(1),e.Q6J("ngIf",!o.nacionalidad),e.xp6(1),e.Q6J("ngIf",o.nacionalidad)}}function An(t,n){1&t&&(e.TgZ(0,"label",46),e._uU(1,"Si"),e.qZA())}function Zn(t,n){1&t&&(e.TgZ(0,"label",47),e._uU(1,"No"),e.qZA())}function Tn(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",25)(1,"div",26),e._uU(2," \xa0\xa0\xa0\xa0\xa0\xa0"),e.TgZ(3,"strong"),e._uU(4,"Tiene contrato:"),e.qZA()(),e.TgZ(5,"div",26)(6,"div",42)(7,"input",82),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw(2);return e.KtG(a.object.contrato_pro=r)})("click",function(){e.CHM(o);const r=e.oxw(2);return e.KtG(r.cambioTres())}),e.qZA(),e.YNc(8,An,2,0,"label",44),e.YNc(9,Zn,2,0,"label",45),e.qZA()()()}if(2&t){const o=e.oxw(2);e.xp6(7),e.Q6J("ngModel",o.object.contrato_pro)("checked",o.object.contrato_pro),e.xp6(1),e.Q6J("ngIf",o.object.contrato_pro),e.xp6(1),e.Q6J("ngIf",!o.object.contrato_pro)}}function kn(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",26)(1,"div",27)(2,"a",83),e.NdJ("click",function(){e.CHM(o);const r=e.oxw(2);return e.KtG(r.cambioTipoFormGeneral(2))}),e._uU(3," \xa0\xa0Siguiente\xa0\xa0 "),e.qZA()()()}}const Pn=function(t){return{width:t}};function xn(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"form",22),e.YNc(1,fr,11,4,"div",23),e.YNc(2,vr,6,2,"div",24),e.TgZ(3,"div",25)(4,"div",26)(5,"div",27)(6,"div",28)(7,"select",29),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.object.fk_identificacion=r)})("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.cambioDatoFormSelects())})("change",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.datosAObject())}),e.YNc(8,br,2,2,"option",30),e.qZA()()()(),e.TgZ(9,"div",31)(10,"div",28)(11,"input",32),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.object.ruc_pro=r)})("keyup",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.revisionValidacionInputRuc())}),e.qZA(),e.TgZ(12,"label",33),e._uU(13),e.qZA()(),e.YNc(14,Cr,4,1,"div",21),e.TgZ(15,"div"),e.YNc(16,Tr,3,2,"div",21),e.YNc(17,xr,3,2,"div",21),e.YNc(18,Fr,1,0,"div",21),e.YNc(19,Nr,1,0,"div",21),e.qZA()()(),e.TgZ(20,"div",25),e.YNc(21,Mr,5,2,"div",34),e.YNc(22,wr,7,3,"div",34),e.qZA(),e.YNc(23,yr,7,2,"div",35),e.TgZ(24,"div",25)(25,"div",31)(26,"div",28)(27,"input",36),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.object.nombre_pro=r)})("keyup",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.cambioDatoForm())}),e.qZA(),e.YNc(28,Jr,2,0,"label",37),e.YNc(29,Sr,2,0,"label",37),e.qZA(),e.YNc(30,jr,2,0,"small",38),e.qZA(),e.YNc(31,Qr,6,2,"div",34),e.qZA(),e.YNc(32,Or,9,3,"div",24),e.YNc(33,zr,2,1,"div",35),e.YNc(34,$r,10,2,"div",35),e.YNc(35,en,11,4,"div",23),e.YNc(36,nn,11,4,"div",23),e.YNc(37,cn,12,3,"div",23),e.TgZ(38,"div",25),e.YNc(39,ln,8,3,"div",34),e.YNc(40,pn,8,3,"div",39),e.qZA(),e.YNc(41,mn,6,1,"div",24),e.YNc(42,hn,11,2,"div",24),e.YNc(43,gn,7,2,"div",35),e.YNc(44,Cn,10,3,"div",23),e.YNc(45,Tn,10,4,"div",23),e.TgZ(46,"div",40)(47,"div",26)(48,"div",27)(49,"a",41),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.eliminar())}),e._uU(50," \xa0\xa0Regresar\xa0\xa0 "),e.qZA()()(),e.YNc(51,kn,4,0,"div",39),e.qZA()()}if(2&t){const o=e.oxw();e.Q6J("formGroup",o.form),e.xp6(1),e.Q6J("ngIf",3==o.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",3==o.object.fk_tipo_proveedor),e.xp6(5),e.Q6J("ngModel",o.object.fk_identificacion),e.xp6(1),e.Q6J("ngForOf",o.identificaciones),e.xp6(3),e.s9C("maxlength",o.tamanoRuc),e.Q6J("ngModel",o.object.ruc_pro),e.xp6(2),e.Oqu(o.object.identificacion.nombre_ide),e.xp6(1),e.Q6J("ngIf",o.submitted&&""===o.object.ruc_pro),e.xp6(2),e.Q6J("ngIf",o.submitted&&"C\xe9dula"==o.object.identificacion.nombre_ide),e.xp6(1),e.Q6J("ngIf",o.submitted&&"RUC"==o.object.identificacion.nombre_ide),e.xp6(1),e.Q6J("ngIf",o.submitted&&"Pasaporte"==o.object.identificacion.nombre_ide),e.xp6(1),e.Q6J("ngIf",o.submitted&&"TAX ID"==o.object.identificacion.nombre_ide),e.xp6(2),e.Q6J("ngIf",3!=o.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",2==o.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",3==o.object.fk_tipo_proveedor),e.xp6(4),e.Q6J("ngStyle",e.VKq(36,Pn,o.nacionalidad||3==o.object.fk_tipo_proveedor?"25.1rem":"51.75rem"))("ngModel",o.object.nombre_pro),e.xp6(1),e.Q6J("ngIf",3==o.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",3!=o.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",o.submitted&&""===o.object.nombre_pro),e.xp6(1),e.Q6J("ngIf",o.nacionalidad&&3!=o.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",3==o.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",3==o.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",3==o.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",3==o.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",3==o.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",3==o.object.fk_tipo_proveedor),e.xp6(2),e.Q6J("ngIf",1==o.object.fk_tipo_proveedor||2==o.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",1==o.object.fk_tipo_proveedor||2==o.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",3==o.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",3==o.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",3==o.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",3!=o.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",2==o.object.fk_tipo_proveedor),e.xp6(6),e.Q6J("ngIf",o.object.id>0)}}function Fn(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"app-cont-prov",84),e.NdJ("cambioTab",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.cambioTipoFormGeneral(r))}),e.qZA()}}function Nn(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"app-cont-fina",84),e.NdJ("cambioTab",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.cambioTipoFormGeneral(r))}),e.qZA()}}function qn(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"app-document",84),e.NdJ("cambioTab",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.cambioTipoFormGeneral(r))}),e.qZA()}}function Mn(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"app-cont-prov",84),e.NdJ("cambioTab",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.cambioTipoFormGeneral(r))}),e.qZA()}}function In(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"app-cont-fina",84),e.NdJ("cambioTab",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.cambioTipoFormGeneral(r))}),e.qZA()}}function wn(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"app-info-vehi",84),e.NdJ("cambioTab",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.cambioTipoFormGeneral(r))}),e.qZA()}}function Un(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"app-info-cond",84),e.NdJ("cambioTab",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.cambioTipoFormGeneral(r))}),e.qZA()}}function yn(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"app-document",84),e.NdJ("cambioTab",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.cambioTipoFormGeneral(r))}),e.qZA()}}function Jn(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"app-cont-fina",84),e.NdJ("cambioTab",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.cambioTipoFormGeneral(r))}),e.qZA()}}function Sn(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"app-document",84),e.NdJ("cambioTab",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.cambioTipoFormGeneral(r))}),e.qZA()}}let jn=(()=>{class t{constructor(o,i,r,a,c,d,u,h,b,k,P,U,$){this.actividadService=o,this.categoriaProveedorService=i,this.networkService=r,this.formBuilder=a,this.proveedorService=c,this.processSweetAlert=d,this.proveedoresCrud=u,this.cargarSelectoresProveedor=h,this.cargarSelectoresAgent=b,this.cargarSelectorCategoriaCriticidad=k,this.cargarSelectorClasificacion=P,this.cargarSelectorIdentificacion=U,this.cargarSelectorPais=$,this.objectEmit=new e.vpe,this.regresarAEleccionTipoProveedor=new e.vpe,this.object=new C.I,this.userAuth=new no._,this.form=new s.nJ({}),this.tipoFormGeneral=1,this.checkBoxNetwork=[],this.checkBoxNetworkOption=[],this.checkBoxTipoServicio=[],this.checkBoxTipoServicioOption=[],this.seleccionado=!1,this.submitted=!1,this.mostrarAlerta=!1,this.nacionalidad=!1,this.siguienteComponente=!1,this.validacionInputRuc=!1,this.obligatorioCertifBasc=!1,this.obligatorioCertifIata=!1,this.hizoCambiosForm=!1,this.tamanoRuc=13,this.tipoServiciorArray=[],this.estadoArray=[],this.tipoEstadoArray=[],this.empresaArray=[],this.listaProveedores=[],this.paises=[],this.identificaciones=[],this.clasificaciones=[],this.categoriasCriticidad=[],this.tipoCompanias=[],this.actividades=[],this.categoriasProveedor=[],this.networks=[],this.tiposContacto=[],this.serviciosProveedorCarga=[],this.tipoIngresoTelf=0}ngOnInit(){switch(this.listaProveedores=this.proveedoresCrud.getCargoListaProveedores(),this.cargarSelectores(),this.cargarSelectoresInfBasic(),this.cargarTipoEstado(),this.object.fk_tipo_proveedor){case 1:this.initFormProv();break;case 2:this.initFormTran(),this.cargarSelectorCompania();break;case 3:this.initFormAgen(),this.cargarSelectActividadIniciar(),this.edicionProveedorAgenteCarga()}this.cargarSelecEmpresaIniciar()}edicionProveedorAgenteCarga(){if(this.cargarSelectoresAgent.seCargoSelects()){if(this.object.id>0&&(this.obligatorioCertifIata=Number(this.object.iata_pro)>0,this.obligatorioCertifBasc=Number(this.object.basc_pro)>0,this.object.networks.length>0)){this.object.networks.forEach(a=>{this.networks.forEach(c=>{Number(a.id)===Number(c.id)&&(c.checked=!0)})}),this.networks.forEach((a,c)=>{a.checked||(a.checked=!1),this.checkBoxNetwork[c]="inlineCheckbox"+c,this.checkBoxNetworkOption[c]="option"+c});const i=this.object.tipo_servicio;let r=[];this.tipoServiciorArray.forEach((a,c)=>{const d=i.filter(u=>Number(u.id)===Number(a.id));"[]"!=JSON.stringify(d)&&(r.push(d[0]),a.checked=!0)}),this.object.fk_network=[]}}else setTimeout(()=>{this.edicionProveedorAgenteCarga()},200)}cargarSelectActividadIniciar(){this.cargarSelectoresAgent.seCargoSelects()?0===this.object.id&&(this.object.fk_actividad=this.actividades.find(o=>"Servicio"===o.nombre_act).id):setTimeout(()=>{this.cargarSelectActividadIniciar()},200)}cargarSelecEmpresaIniciar(){if(this.cargarSelectoresProveedor.seCargoSelects()){if(0===this.object.id){let o="";switch(this.object.fk_tipo_proveedor){case 1:o="Torres & Torres";break;case 2:o="Ciateite";break;case 3:o="Tolepu"}this.object.fk_empresa=this.empresaArray.find(i=>i.nombre_emp===o).id}}else setTimeout(()=>{this.cargarSelecEmpresaIniciar()},200)}get f(){return this.form.controls}cargarSelectorCompania(){this.tipoCompanias=[{id:0,nombre_tip:"",descripcion_tip:""},{id:1,nombre_tip:"Activo",descripcion_tip:""},{id:2,nombre_tip:"Compa\xf1\xeda de transporte",descripcion_tip:""},{id:3,nombre_tip:"Jur\xeddico",descripcion_tip:""}]}cargarSelectoresInfBasic(){this.paises=this.cargarSelectorPais.getCargoListaPais(),this.identificaciones=this.cargarSelectorIdentificacion.getCargoListaIdentificacion(),this.categoriasCriticidad=this.cargarSelectorCategoriaCriticidad.getCargoListaCategoriaCriticidad(),0===this.object.id?(this.object.fk_identificacion=this.identificaciones.find(o=>"RUC"===o.nombre_ide).id,this.object.identificacion=new ce.K,this.object.identificacion=this.identificaciones.find(o=>"RUC"===o.nombre_ide)):this.selectCategoria()}cargarSelectores(){3===this.object.fk_tipo_proveedor&&(this.tiposContacto=this.cargarSelectoresProveedor.getCargoListaTiposContacto(),this.cargarSelectoresAgent.seCargoSelects()?(this.actividades=this.cargarSelectoresAgent.getCargoListaActividades(),this.categoriasProveedor=this.cargarSelectoresAgent.getCargoListaCategoriaProveedor(),this.networks=this.cargarSelectoresAgent.getCargoListaNetwork()):this.actividadService.listActividades().subscribe(o=>{this.categoriaProveedorService.listCategoriaProveedor().subscribe(i=>{this.networkService.listNetwork().subscribe(r=>{this.actividades=o.data,this.categoriasProveedor=i.data,this.networks=r.data,this.cargarSelectoresAgent.setCargoListaActividades(this.actividades),this.cargarSelectoresAgent.setCargoListaCategoriaProveedor(this.categoriasProveedor),this.cargarSelectoresAgent.setCargoListaNetwork(this.networks),this.cargarSelectoresAgent.cargoSelects(!0)})})})),this.cargarSelectoresProveedor.seCargoSelects()?(this.tipoServiciorArray=this.cargarSelectoresProveedor.getCargoListaTipoServicios(),this.estadoArray=this.cargarSelectoresProveedor.getCargoListaEstados(),this.empresaArray=this.cargarSelectoresProveedor.getCargoListaEmpresas()):this.cargarSelectoresProveedor.obtenerListaTipoServicio().subscribe(o=>{this.cargarSelectoresProveedor.obtenerListaEstado().subscribe(i=>{this.cargarSelectoresProveedor.obtenerListaEmpresa().subscribe(r=>{this.empresaArray=r,this.tipoServiciorArray=o,this.estadoArray=i,this.cargarSelectoresProveedor.cargoSelects(!0)})})})}cargarTipoEstado(){this.tipoEstadoArray=[],this.tipoEstadoArray=this.estadoArray.filter(o=>o.fk_categoria==this.object.fk_tipo_proveedor)}initFormProv(){this.form=this.formBuilder.group({ruc:[this.object.ruc_pro,[s.kI.required]],nom:[this.object.nombre_pro,[s.kI.required]],ts:[this.object.fk_tipo_servicio,[s.kI.required]],em:[this.object.fk_empresa,[s.kI.required]],fki:[this.object.fk_identificacion,[s.kI.required]],fkc:[this.object.fk_categoria_criticidad,[s.kI.required]],fkcl:[this.object.fk_clasificacion,[s.kI.required]],fkp:[this.object.fk_pais]})}initFormTran(){this.form=this.formBuilder.group({fki:[this.object.fk_identificacion,[s.kI.required]],fkc:[this.object.fk_categoria_criticidad,[s.kI.required]],fkt:[this.object.fk_tipo_compania,[s.kI.required]],fkcl:[this.object.fk_clasificacion,[s.kI.required]],ruc:[this.object.ruc_pro,[s.kI.required]],nom:[this.object.nombre_pro,[s.kI.required]],ts:[this.object.fk_tipo_servicio,[s.kI.required]],em:[this.object.fk_empresa,[s.kI.required]],co:[this.object.contrato_pro]})}initFormAgen(){this.form=this.formBuilder.group({fki:[this.object.fk_identificacion,[s.kI.required]],ruc:[this.object.ruc_pro,[s.kI.required]],ts:[this.object.fk_tipo_servicio,[s.kI.required]],nom:[this.object.nombre_pro,[s.kI.required]],em:[this.object.fk_empresa,[s.kI.required]],tel:[this.object.telefono_pro],cel:[this.object.celular_pro],raz:[this.object.razon_social_pro,[s.kI.required]],dep:[this.object.datos_extra_pro],dcp:[this.object.dias_credito_pro],mcp:[this.object.monto_credito_pro],fca:[this.object.fk_categoria,[s.kI.required]],fad:[this.object.fk_actividad,[s.kI.required]],fnk:[this.object.fk_network],ftc:[this.object.fk_tipo_contacto,[s.kI.required]],fkc:[this.object.fk_categoria_criticidad,[s.kI.required]],dip:[this.object.direccion_pro],act:[this.object.cat],cat:[this.object.act],ip:[this.object.iata_pro],bp:[this.object.basc_pro],cip:[this.object.certificado_IATA_pro],cbp:[this.object.certificado_BASC_pro],co:[this.object.contrato_pro]})}fechaActual(){var o=new Date;return o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate()+" "+o.getHours()+":"+o.getMinutes()+":"+o.getSeconds()}validacionObjectRepetido(o){const i=this.listaProveedores.find(r=>r.ruc_pro===o);return!(void 0===i||this.object.index>0&&i.ruc_pro===o||-10===this.object.index&&i.ruc_pro===o)}agregarDatosAObject(o,i){const r=this.empresaArray.find(c=>c.id===this.object.fk_empresa),a=this.estadoArray.find(c=>"Guardado"===c.nombre_est);if(1===this.object.fk_tipo_proveedor||3===this.object.fk_tipo_proveedor){const c=this.tipoServiciorArray.find(d=>d.id===this.object.fk_tipo_servicio);this.object.tipo_servicio=c}this.object.empresas=r,this.object.estados=new S.G,this.object.estados=a,this.object.fk_estado=a.id,i&&(this.object.id=o,this.object.fecha_creacion_pro=this.fechaActual(),this.listaProveedores.push(this.object))}transformacionDatosTipoProveedor(){if(this.submitted=!0,0===this.object.fk_empresa)switch(this.object.fk_tipo_proveedor){case 1:this.object.fk_empresa=1;break;case 2:this.object.fk_empresa=3;break;case 3:this.object.fk_empresa=2}this.object.id<0&&(this.object.id=0),this.object.fk_tipo_proveedor=this.object.fk_tipo_proveedor,this.object.fk_tipo_servicio=Number(this.object.fk_tipo_servicio),this.object.fk_empresa=Number(this.object.fk_empresa),this.object.prioridad_pro=!1}cambioTipoFormGeneral(o){-10===o&&this.eliminar(),this.object.id>0?(this.agregarDatosAObject(this.object.id,!1),this.proveedoresCrud.editarProveedor(this.object),this.tipoFormGeneral=o):this.processSweetAlert.alertMensajeError("Error en el formulario","Los datos ingresados son inv\xe1lidos o hay campos vaci\xf3s.")}onSubmitProve(){this.object.fk_empresa=Number(this.object.fk_empresa),this.object.usuario_pro="Pulpo",this.object.deleted_at="",this.object.fk_identificacion=Number(this.object.fk_identificacion),2==this.object.fk_tipo_proveedor&&(this.object.fk_tipo_compania=Number(this.object.fk_tipo_compania),this.object.fk_clasificacion=Number(this.object.fk_clasificacion));let o=!0;if(this.object.fk_network=[],this.networks.forEach(i=>{i.checked&&this.object.fk_network.push(Number(i.id))}),this.serviciosProveedorCarga=[],this.tipoServiciorArray.forEach(i=>{i.checked&&(this.serviciosProveedorCarga.push(Number(i.id)),o&&(this.object.fk_tipo_servicio=Number(i.id),o=!1))}),this.hizoCambiosForm){if(this.transformacionDatosTipoProveedor(),this.empresaArray=this.cargarSelectoresProveedor.getCargoListaEmpresas(),(1===this.object.fk_tipo_proveedor||3===this.object.fk_tipo_proveedor)&&0===this.object.fk_tipo_servicio&&3===this.object.fk_tipo_proveedor)return this.processSweetAlert.alertMensajeError("Error en el formulario","Los datos ingresados son inv\xe1lidos o hay campos vaci\xf3s."),void console.log("1");if(0===this.object.fk_empresa)return this.processSweetAlert.alertMensajeError("Error en el formulario","Los datos ingresados son inv\xe1lidos o hay campos vaci\xf3s."),void console.log("2");if(!this.esNumerico(this.object.ruc_pro)&&"C\xe9dula"==this.object.identificacion.nombre_ide)return this.processSweetAlert.alertMensajeError("Error en el formulario","Los datos ingresados son inv\xe1lidos o hay campos vaci\xf3s."),void console.log("3");if(""===this.object.ruc_pro&&"Pasaporte"==this.object.identificacion.nombre_ide)return this.processSweetAlert.alertMensajeError("Error en el formulario","Los datos ingresados son inv\xe1lidos o hay campos vaci\xf3s."),void console.log("5");switch(Number(this.object.fk_tipo_proveedor)){case 1:case 2:if(!this.esNumerico(this.object.ruc_pro)&&"RUC"==this.object.identificacion.nombre_ide)return this.processSweetAlert.alertMensajeError("Error en el formulario","Los datos ingresados son inv\xe1lidos o hay campos vaci\xf3s."),void console.log("4");break;case 3:if(""===this.object.ruc_pro&&"TAX ID"==this.object.identificacion.nombre_ide)return this.processSweetAlert.alertMensajeError("Error en el formulario","Los datos ingresados son inv\xe1lidos o hay campos vaci\xf3s."),void console.log("6")}if(1===this.object.fk_tipo_proveedor&&(0===this.object.fk_pais&&this.nacionalidad||0===this.object.fk_categoria_criticidad||0===this.object.fk_clasificacion))return this.processSweetAlert.alertMensajeError("Error en el formulario","Los datos ingresados son inv\xe1lidos o hay campos vaci\xf3s."),void console.log("7");if((2===this.object.fk_tipo_proveedor||1===this.object.fk_tipo_proveedor)&&(this.object.fk_tipo_servicio=1),3===this.object.fk_tipo_proveedor){if(0===this.object.fk_network.length)return this.processSweetAlert.alertMensajeError("Error en el formulario","Hay campos vaci\xf3s."),void console.log("9");if(0===this.object.fk_categoria)return this.processSweetAlert.alertMensajeError("Error en el formulario","Ingresar categor\xeda del Proveedor"),void console.log("10");if(""===this.object.telefono_pro&&""===this.object.celular_pro)return this.processSweetAlert.alertMensajeError("Error en el formulario","Debe ingresar por lo menos el n\xfamero de tel\xe9fono fijo o n\xfamero de celular."),void console.log("10");""==this.object.telefono_pro&&(this.tipoIngresoTelf=1),""==this.object.celular_pro&&(this.tipoIngresoTelf=2)}this.nacionalidad||(this.object.fk_pais=51);const i=JSON.parse(localStorage.getItem("userAuth"));if(this.object.usuario_pro=i.name,console.log(this.object.usuario_pro),3===Number(this.object.fk_tipo_proveedor)){let r=new _o;r=this.object,r.fk_tipo_servicio=this.serviciosProveedorCarga,this.proveedorService.crearProveedor(r).subscribe(c=>{this.empresaArray=this.cargarSelectoresProveedor.getCargoListaEmpresas(),0===this.object.id?this.agregarDatosAObject(Number(c.data),!0):this.agregarDatosAObject(0,!1),this.processSweetAlert.procesoExitoso(),this.hizoCambiosForm=!1},c=>{console.log("error: "+JSON.stringify(c));const d=c.error;setTimeout(()=>{null!=JSON.stringify(d.exception.ruc_pro)?("The ruc pro must be at least 20 characters."===d.exception.ruc_pro[0]&&this.processSweetAlert.alertMensajeError("Error","TAX ID"==this.object.identificacion.nombre_ide?"El n\xfamero de caracteres debe ser por lo menos menor a 20 caracteres.":"El n\xfamero de caracteres debe ser por lo menos menor a "+this.tamanoRuc+" caracteres."),this.processSweetAlert.alertMensajeError("Error","The ruc pro has already been taken."===d.exception.ruc_pro[0]?"Ruc repetido":"Surgieron problemas en el servidor")):this.processSweetAlert.alertMensajeError("Error","Surgieron problemas en el servidor")},1200),this.object.id=-1,this.eliminar()})}else this.proveedorService.crearProveedor(this.object).subscribe(r=>{this.empresaArray=this.cargarSelectoresProveedor.getCargoListaEmpresas(),0===this.object.id?this.agregarDatosAObject(Number(r.data),!0):this.agregarDatosAObject(0,!1),this.processSweetAlert.procesoExitoso(),this.hizoCambiosForm=!1},r=>{console.log("error: "+JSON.stringify(r));const a=r.error;setTimeout(()=>{null!=JSON.stringify(a.exception.ruc_pro)?("The ruc pro must be at least 20 characters."===a.exception.ruc_pro[0]&&this.processSweetAlert.alertMensajeError("Error","TAX ID"==this.object.identificacion.nombre_ide?"El n\xfamero de caracteres debe ser por lo menos menor a 20 caracteres.":"El n\xfamero de caracteres debe ser por lo menos menor a "+this.tamanoRuc+" caracteres."),this.processSweetAlert.alertMensajeError("Error","The ruc pro has already been taken."===a.exception.ruc_pro[0]?"Ruc repetido":"Surgieron problemas en el servidor")):this.processSweetAlert.alertMensajeError("Error","Surgieron problemas en el servidor")},1200),this.object.id=-1,this.eliminar()})}}eliminar(){this.hizoCambiosForm?this.processSweetAlert.alertMessageEleccionOpcion("\xbfDesea salir?","Si da click en confirmar no se guardaran los cambios","Confirmar","Cancelar").then(o=>{o&&(this.regresarAEleccionTipoProveedor.emit(!0),location.reload())}):(this.regresarAEleccionTipoProveedor.emit(!0),location.reload())}regresar(){}cambioDos(){this.hizoCambiosForm=!0,this.nacionalidad?(this.object.nacionalidad_pro="NACIONAL",this.nacionalidad=!1):(this.object.nacionalidad_pro="EXTRANJERO",this.nacionalidad=!0),this.hizoCambiosForm=!0}cambioTres(){this.hizoCambiosForm=!0,this.object.contrato_pro=!this.object.contrato_pro}cambioDatoForm(){this.hizoCambiosForm=!0}filtrarPais(o){if(this.hizoCambiosForm=!0,""===o.target.value)this.paises=this.cargarSelectorPais.getCargoListaPais(),this.object.fk_pais=0,this.object.pais=this.cargarSelectorPais.getCargoListaPais()[0];else if(this.esString(o.target.value)){let i=[];i=46==(o.keyCode||o.charCode||o.which)||8==(o.keyCode||o.charCode||o.which)?this.cargarSelectorPais.getCargoListaPais():this.paises,this.paises=i.filter(r=>r.nombre_pai.toLowerCase().includes(o.target.value.toLowerCase())),null!=JSON.stringify(this.paises)&&0!=this.paises.length?this.object.fk_pais=this.paises[0].id:(this.paises=this.cargarSelectorPais.getCargoListaPais(),this.object.fk_pais=0)}}selectCategoria(){this.hizoCambiosForm=!0,this.clasificaciones=this.cargarSelectorClasificacion.getCargoListaClasificacion().filter(o=>Number(o.fk_categoria)===Number(this.object.fk_categoria_criticidad))}revisionValidacionInputRuc(){switch(this.hizoCambiosForm=!0,this.validacionInputRuc=!0,this.object.identificacion.nombre_ide){case"C\xe9dula":this.tamanoRuc=10;break;case"RUC":this.tamanoRuc=13;break;case"Pasaporte":case"TAX ID":this.tamanoRuc=20}this.tamanoRuc=Number(this.tamanoRuc)}cambioDatoFormSelects(){this.hizoCambiosForm=!0}mostrarEnInput(){const o=this.paises.find(i=>Number(i.id)===Number(this.object.fk_pais));this.object.pais=new x.b,this.object.pais=o}datosAObject(){this.object.ruc_pro="",this.object.identificacion=this.identificaciones.find(o=>Number(o.id)===Number(this.object.fk_identificacion))}esNumerico(o){return/^-?\d+$/.test(o)}esString(o){return!!/^[a-zA-Z]+$/.test(o)}seleccionNetworks(o){this.hizoCambiosForm=!0,this.networks[o].checked=!this.networks[o].checked}seleccionTiposServicio(o){this.tipoServiciorArray[o].checked=!this.tipoServiciorArray[o].checked}checkCertificadoIata(){this.object.iata_pro=this.obligatorioCertifIata?0:1}checkCertificadoBasc(){this.hizoCambiosForm=!0,this.object.basc_pro=this.obligatorioCertifBasc?0:1}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(po),e.Y36(mo),e.Y36(ho),e.Y36(s.QS),e.Y36(y.z),e.Y36(Z.J),e.Y36(F.p),e.Y36(N.R),e.Y36(fo),e.Y36(X.x),e.Y36(W.T),e.Y36(ee),e.Y36(J))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-form-proveedor"]],inputs:{object:"object"},outputs:{objectEmit:"objectEmit",regresarAEleccionTipoProveedor:"regresarAEleccionTipoProveedor"},decls:41,vars:18,consts:[[1,"row","align-items-center","table-success"],["align","left",1,"col-6","px-1"],["role","group","aria-label","First group",1,"btn-group","mb-3"],["type","button",1,"btn","btn-secondary-outline","customize",2,"text-align","center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","26","height","26","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-left"],["fill-rule","evenodd","d","M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"],["type","button",1,"btn",2,"text-align","center"],[1,"h6","font-weight-bold","mb-0"],["class","font-weight-bold mb-0","style","font-size: 124%;",4,"ngIf"],["align","right",1,"col-6","px-1"],["type","button","class","custom-css btn btn-danger","style","background-color: rgb(0,76,172);border-radius: 24px!important;",3,"click",4,"ngIf"],["type","button",1,"custom-css","btn","btn-primary",3,"click"],[1,"bi","bi-trash3"],["align","left",1,"col-12","px-1"],["class","btn-group mb-3","role","group","aria-label","First group",4,"ngIf"],[1,"container"],[3,"formGroup",4,"ngIf"],[3,"cambioTab",4,"ngIf"],[1,"font-weight-bold","mb-0",2,"font-size","124%"],["type","button",1,"custom-css","btn","btn-danger",2,"background-color","rgb(0,76,172)","border-radius","24px!important",3,"click"],["type","button",1,"btn","btn-secondary-outline","element-form-custom",3,"ngClass"],[4,"ngIf"],[3,"formGroup"],["class","d-flex flex-row bd-highlight ",4,"ngIf"],["class","d-flex flex-row bd-highlight",4,"ngIf"],[1,"d-flex","flex-row","bd-highlight"],[1,"p-4","bd-highlight",2,"padding-left","0rem !important","padding-bottom","0rem !important"],[1,"col-md"],[1,"form-floating"],["id","floatingSelectGrid","formControlName","fki","aria-label","Floating label select example",1,"form-select","select-loop",3,"ngModel","ngModelChange","click","change"],[3,"value",4,"ngFor","ngForOf"],[1,"p-4","bd-highlight",2,"padding-left","0rem !important","padding-bottom","1rem !important"],["type","text","id","floatingInputGrid","formControlName","ruc","placeholder","Ingrese ruc",1,"form-control","input-person",2,"border-radius","12px",3,"ngModel","maxlength","ngModelChange","keyup"],["for","floatingInputGrid"],["class","p-4 bd-highlight","style","padding-left: 0rem !important; padding-bottom: 1rem !important;",4,"ngIf"],["class","d-flex flex-row bd-highlight mb-3",4,"ngIf"],["type","text","id","floatingInputGrid","formControlName","nom","placeholder","Nombre Comercial",1,"form-control",3,"ngStyle","ngModel","ngModelChange","keyup"],["for","floatingInputGrid",4,"ngIf"],["class","text-danger",4,"ngIf"],["class","p-4 bd-highlight","style","padding-left: 0rem !important; padding-bottom: 0rem !important;",4,"ngIf"],[1,"d-flex","flex-row","bd-highlight","mb-3"],["role","button","aria-pressed","true",1,"btn","btn-primary","btn-lg","regresar",3,"click"],[1,"form-check","form-switch"],["type","checkbox","id","flexSwitchCheckDefault",1,"form-check-input",3,"checked","click"],["class","form-check-label","for","flexSwitchCheckDefault",4,"ngIf"],["class","form-check-label","for","flexSwitchCheckChecked",4,"ngIf"],["for","flexSwitchCheckDefault",1,"form-check-label"],["for","flexSwitchCheckChecked",1,"form-check-label"],["list","encodings","id","floatingInputGrid",1,"form-select","form-control","col-sm-6","custom-select","custom-select-sm",2,"border-radius","12px","width","402px",3,"value","keyup"],["class","position-relative",4,"ngIf"],[1,"position-relative"],["id","encodings","multiple","","aria-label","multiple select example","formControlName","fkp",1,"form-select","position-absolute",2,"z-index","2",3,"ngModel","ngModelChange","click","change"],["value","0","selected",""],[3,"value"],["id","floatingSelectGrid","formControlName","em","aria-label","Floating label select example",1,"form-select","select-loop",3,"ngModel","ngModelChange","click"],[1,"text-danger"],["id","floatingSelectGrid","formControlName","fkt","aria-label","Floating label select example",1,"form-select","select-loop",3,"ngModel","ngModelChange","click"],["selected","",3,"value"],["type","text","id","floatingInputGrid","formControlName","raz","placeholder","Ingrese la raz\xf3n social",1,"form-control",2,"width","51.8rem","border-radius","12px",3,"ngModel","ngModelChange","keyup"],[1,"p-4","bd-highlight",2,"padding-left","0rem !important","padding-bottom","0.5rem !important"],["id","floatingSelectGrid","formControlName","fca","aria-label","Floating label select example",1,"form-select","select-loop",3,"ngModel","ngModelChange","click"],[1,"card"],[1,"card-header"],[1,"card-body"],["class","form-check form-check-inline",4,"ngFor","ngForOf"],[1,"form-check","form-check-inline"],["type","checkbox",1,"form-check-input",3,"checked","click","keyup"],["for","inlineCheckbox1",1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"checked","click"],["type","checkbox","id","flexSwitchCheckDefault","formControlName","ip",1,"form-check-input",3,"ngModel","click","keyup","ngModelChange"],["class","p-4 bd-highlight","style","padding-left: 0rem !important;padding-bottom: 0.5rem !important;",4,"ngIf"],["type","text","id","floatingInputGrid","placeholder","Ingresar certificado IATA","formControlName","cip",1,"form-control","input-person",3,"ngModel","keyup","ngModelChange"],["type","checkbox","id","flexSwitchCheckDefault","formControlName","bp",1,"form-check-input",3,"ngModel","click","ngModelChange"],["type","text","id","floatingInputGrid","placeholder","Ingresar certificado BASC","formControlName","cbp",1,"form-control","input-person",3,"ngModel","click","ngModelChange"],["type","text","id","floatingInputGrid","placeholder","Tel\xe9fono fijo","onKeypress","if (event.keyCode < 45 || event.keyCode > 57) event.returnValue = false;","formControlName","tel",1,"form-control","input-person",3,"ngModel","keyUp","ngModelChange"],["type","text","id","floatingInputGrid","placeholder","Tel\xe9fono celular","formControlName","cel","onKeypress","if (event.keyCode < 45 || event.keyCode > 57) event.returnValue = false;",1,"form-control","input-person",3,"ngModel","ngModelChange","keyUp"],["id","floatingSelectGrid","formControlName","fkc","aria-label","Floating label select example",1,"form-select","select-loop",3,"ngModel","ngModelChange","change"],["id","floatingSelectGrid","formControlName","ts","aria-label","Floating label select example",1,"form-select","select-loop",3,"ngModel","ngModelChange","click"],["type","text","id","floatingInputGrid","placeholder","Informaci\xf3n adicional","formControlName","dep",1,"form-control","input-person",3,"ngModel","keyUp","ngModelChange"],["type","text","id","text","id","floatingInputGrid","placeholder","D\xedas de cr\xe9dito","formControlName","dcp","onKeypress","if (event.keyCode < 45 || event.keyCode > 57) event.returnValue = false;",1,"form-control","input-person",3,"ngModel","ngModelChange","keyUp"],["type","text","id","floatingInputGrid","placeholder","Monto de cr\xe9dito","formControlName","mcp","onKeypress","if (event.keyCode < 45 || event.keyCode > 57) event.returnValue = false;",1,"form-control","input-person",3,"ngModel","keyUp","ngModelChange"],["type","text","id","floatingInputGrid","formControlName","dip","placeholder","Ingrese direccion",1,"form-control",2,"width","51.8rem","border-radius","12px",3,"ngModel","ngModelChange","keyup"],["type","checkbox","formControlName","co","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","checked","ngModelChange","click"],["role","button","aria-pressed","true",1,"btn","btn-primary","btn-lg","siguiente",3,"click"],[3,"cambioTab"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.NdJ("click",function(){return i.eliminar()}),e.O4$(),e.TgZ(4,"svg",4),e._UZ(5,"path",5),e.qZA()(),e.kcU(),e.TgZ(6,"button",6),e._uU(7," Proveedores "),e.qZA()(),e._UZ(8,"br"),e.TgZ(9,"label",7)(10,"h3"),e._uU(11,"Nuevo Proveedor"),e.qZA()(),e._UZ(12,"br"),e.YNc(13,wi,2,0,"label",8),e.YNc(14,Ui,2,0,"label",8),e.YNc(15,yi,2,0,"label",8),e.qZA(),e.TgZ(16,"div",9),e.YNc(17,Ji,2,0,"a",10),e._uU(18,"\xa0 "),e.TgZ(19,"a",11),e.NdJ("click",function(){return i.eliminar()}),e._UZ(20,"i",12),e._uU(21," Cerrar "),e.qZA()()(),e.TgZ(22,"div",0)(23,"div",13),e.YNc(24,Gi,16,20,"div",14),e.YNc(25,ir,24,30,"div",14),e.YNc(26,lr,12,15,"div",14),e.qZA(),e._UZ(27,"br"),e.TgZ(28,"div",15)(29,"div",13),e.YNc(30,xn,52,38,"form",16),e.YNc(31,Fn,1,0,"app-cont-prov",17),e.YNc(32,Nn,1,0,"app-cont-fina",17),e.YNc(33,qn,1,0,"app-document",17),e.YNc(34,Mn,1,0,"app-cont-prov",17),e.YNc(35,In,1,0,"app-cont-fina",17),e.YNc(36,wn,1,0,"app-info-vehi",17),e.YNc(37,Un,1,0,"app-info-cond",17),e.YNc(38,yn,1,0,"app-document",17),e.YNc(39,Jn,1,0,"app-cont-fina",17),e.YNc(40,Sn,1,0,"app-document",17),e.qZA()()()),2&o&&(e.xp6(13),e.Q6J("ngIf",1==i.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",2==i.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",3==i.object.fk_tipo_proveedor),e.xp6(2),e.Q6J("ngIf",i.hizoCambiosForm),e.xp6(7),e.Q6J("ngIf",1==i.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",2==i.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",3==i.object.fk_tipo_proveedor),e.xp6(4),e.Q6J("ngIf",1==i.tipoFormGeneral),e.xp6(1),e.Q6J("ngIf",2==i.tipoFormGeneral&&1==i.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",3==i.tipoFormGeneral&&1==i.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",4==i.tipoFormGeneral&&1==i.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",2==i.tipoFormGeneral&&2==i.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",3==i.tipoFormGeneral&&2==i.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",4==i.tipoFormGeneral&&2==i.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",5==i.tipoFormGeneral&&2==i.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",6==i.tipoFormGeneral&&2==i.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",2==i.tipoFormGeneral&&3==i.object.fk_tipo_proveedor),e.xp6(1),e.Q6J("ngIf",3==i.tipoFormGeneral&&3==i.object.fk_tipo_proveedor))},dependencies:[s._Y,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s.K7,s.JJ,s.JL,s.nD,s.sg,s.u,m.mk,m.sg,m.O5,m.PC,Do,mt,wt,pi,Ii],styles:['a.btn.btn-primary.btn-lg.regresar[_ngcontent-%COMP%]{background-color:#d8d9da;border-color:#d8d9da;border-radius:20px;color:#43454b}a.btn.btn-primary.btn-lg.siguiente[_ngcontent-%COMP%]{background-color:#0068c9;border-color:#0068c9;border-radius:20px}a.btn.btn-primary.btn-lg[_ngcontent-%COMP%]{background-color:#d8d9da}.border-element-title[_ngcontent-%COMP%]{border-bottom-style:0px solid!important}.border-element-title[_ngcontent-%COMP%]:after{content:"";display:inherit;width:16%;margin:10px auto;border-top:3px solid rgb(0,104,201)}button.element-form-custom[_ngcontent-%COMP%]{text-align:center}button.selected-custom[_ngcontent-%COMP%]{border-bottom:3px solid rgb(103,159,220);text-align:center}.modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border-radius:16px}input.ancho-input-un-espacio[_ngcontent-%COMP%]{width:51.8rem}']}),t})();function Ln(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"a",21),e.NdJ("click",function(){e.CHM(o);const r=e.oxw(2);return e.KtG(r.siguiente())}),e._uU(1," \xa0\xa0Siguiente\xa0\xa0 "),e.qZA()}}const H=function(t){return{card:!0,"card-hover":t}};function En(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"button",5),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.eliminar())}),e.O4$(),e.TgZ(5,"svg",6),e._UZ(6,"path",7),e.qZA()(),e.kcU(),e.TgZ(7,"button",8),e._uU(8," Proveedores "),e.qZA()(),e._UZ(9,"br"),e.TgZ(10,"label",9)(11,"h3"),e._uU(12,"Nuevo Proveedor"),e.qZA()(),e._UZ(13,"br"),e.TgZ(14,"label",10),e._uU(15," Detalles de un nuevo proveedor "),e.qZA()(),e.TgZ(16,"div",11)(17,"div",12),e._UZ(18,"br"),e.TgZ(19,"span")(20,"h2",13),e._uU(21,"TIPO DE PROVEEDOR"),e.qZA()(),e._UZ(22,"br"),e.qZA(),e.TgZ(23,"div",14),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.seleccionTipoProveedor(1))}),e.TgZ(24,"div",15),e._UZ(25,"div",16),e.TgZ(26,"div",17),e._UZ(27,"img",18),e.TgZ(28,"a")(29,"h5"),e._uU(30,"GENERALES"),e.qZA()()()()(),e.TgZ(31,"div",14),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.seleccionTipoProveedor(2))}),e.TgZ(32,"div",15),e._UZ(33,"div",16),e.TgZ(34,"div",17),e._UZ(35,"img",18),e.TgZ(36,"a")(37,"h5"),e._uU(38,"TRANSPORTE"),e.qZA()()()()(),e.TgZ(39,"div",14),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.seleccionTipoProveedor(3))}),e.TgZ(40,"div",15),e._UZ(41,"div",16),e.TgZ(42,"div",17),e._UZ(43,"img",18),e.TgZ(44,"a")(45,"h5"),e._uU(46,"AGENTE DE CARGA"),e.qZA()()()()(),e.TgZ(47,"div",12),e._UZ(48,"br")(49,"br"),e.TgZ(50,"a",19),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.eliminar())}),e._uU(51," \xa0\xa0Regresar\xa0\xa0 "),e.qZA(),e._uU(52," \xa0\xa0\xa0\xa0 "),e.YNc(53,Ln,2,0,"a",20),e.qZA()()()()}if(2&t){const o=e.oxw();e.xp6(24),e.Q6J("ngClass",e.VKq(7,H,1==o.objectEdit.fk_tipo_proveedor)),e.xp6(3),e.MGl("src","",o.img,"/assets/Plantilla/TipoProveedor/proveedor.svg",e.LSH),e.xp6(5),e.Q6J("ngClass",e.VKq(9,H,2==o.objectEdit.fk_tipo_proveedor)),e.xp6(3),e.MGl("src","",o.img,"/assets/Plantilla/TipoProveedor/transporte.svg",e.LSH),e.xp6(5),e.Q6J("ngClass",e.VKq(11,H,3==o.objectEdit.fk_tipo_proveedor)),e.xp6(3),e.MGl("src","",o.img,"/assets/Plantilla/TipoProveedor/operador.svg",e.LSH),e.xp6(10),e.Q6J("ngIf",0!==o.objectEdit.fk_tipo_proveedor)}}function Qn(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",1)(1,"app-form-proveedor",22),e.NdJ("regresarAEleccionTipoProveedor",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.regresar())}),e.qZA()()}if(2&t){const o=e.oxw();e.xp6(1),e.Q6J("object",o.objectEdit)}}let Dn=(()=>{class t{constructor(o,i,r,a,c,d){this.contactoFinancieroCrud=o,this.contactoProvCrud=i,this.documentCrud=r,this.conductorCrud=a,this.selectorCrud=c,this.vehiculoCrud=d,this.img=q.O.appImg,this.objectNuevo=new e.vpe,this.objectEdit=new C.I,this.seleccionado=!1,this.tipoProveedor=0}cambioTipoFormGeneral(o){}editarSiguiente(){}anadirAArray(o){this.objectEdit=o,0===o.index&&this.objectNuevo.emit(o)}verificarGuardado(o){o?this.verificarGuardado(!1):setTimeout(()=>{this.objectEdit.id<0||(this.objectEdit.id>0?this.cambioTipoFormGeneral(2):this.verificarGuardado(!1))},600)}siguiente(){this.seleccionado=!0}ngOnInit(){this.iniciarListasComponentesProveedor(),""!==this.objectEdit.nombre_pro?(this.siguiente(),this.objectEdit.fk_tipo_proveedor=this.objectEdit.fk_tipo_proveedor,this.seleccionTipoProveedor(Number(this.objectEdit.fk_tipo_proveedor))):(this.objectEdit=new C.I,this.objectEdit.criticidad_pro="NO CRITICO")}iniciarListasComponentesProveedor(){this.contactoProvCrud.cargoContactosProveedor(!1),this.contactoFinancieroCrud.cargoContactosFinancieroProveedor(!1),this.documentCrud.cargoDocumentosProveedor(!1),this.conductorCrud.cargoConductor(!1),this.vehiculoCrud.cargoVehiculo(!1)}eliminar(){const o=new C.I;o.nombre_pro="Borrado",this.objectNuevo.emit(o)}seleccionTipoProveedor(o){this.objectEdit.fk_tipo_proveedor=o}regresar(){this.seleccionado=!1,this.eliminar()}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(re),e.Y36(j),e.Y36(ne),e.Y36(ae),e.Y36(ro),e.Y36(Y))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-forms"]],inputs:{objectEdit:"objectEdit"},outputs:{objectNuevo:"objectNuevo"},decls:2,vars:2,consts:[["class","container my-2",4,"ngIf"],[1,"container","my-2"],[1,"row"],["align","left",1,"col-md-12"],["role","group","aria-label","First group",1,"btn-group","mb-3"],["type","button",1,"btn","btn-secondary-outline","customize",2,"text-align","center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","26","height","26","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-left"],["fill-rule","evenodd","d","M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"],["type","button",1,"btn",2,"text-align","center"],[1,"h6","font-weight-bold","mb-0"],[1,"font-weight-bold","mb-0",2,"font-size","124%"],["align","center",1,"row","d-flex","justify-content-center","align-items-center"],[1,"col-md-12"],[1,"border-element-title"],[1,"col-md-4",3,"click"],[3,"ngClass"],[1,"card-header","border-0",2,"background-color","transparent"],[1,"card-body"],["alt","Bootstrap","width","190","height","190",3,"src"],["role","button","aria-pressed","true",1,"btn","btn-primary","btn-lg","regresar",3,"click"],["class","btn btn-primary btn-lg siguiente","role","button","aria-pressed","true",3,"click",4,"ngIf"],["role","button","aria-pressed","true",1,"btn","btn-primary","btn-lg","siguiente",3,"click"],[3,"object","regresarAEleccionTipoProveedor"]],template:function(o,i){1&o&&(e.YNc(0,En,54,13,"div",0),e.YNc(1,Qn,2,1,"div",0)),2&o&&(e.Q6J("ngIf",!i.seleccionado),e.xp6(1),e.Q6J("ngIf",i.seleccionado))},dependencies:[m.mk,m.O5,jn],styles:['.card[_ngcontent-%COMP%]{border-radius:10px;border-color:#7fa9d8;width:18rem}a.btn.btn-primary.btn-lg.regresar[_ngcontent-%COMP%]{background-color:#d8d9da;border-color:#d8d9da;border-radius:20px;color:#43454b}a.btn.btn-primary.btn-lg.siguiente[_ngcontent-%COMP%]{background-color:#0068c9;border-color:#0068c9;border-radius:20px}a.btn.btn-primary.btn-lg[_ngcontent-%COMP%]{background-color:#d8d9da}.card[_ngcontent-%COMP%]:hover, .card-hover[_ngcontent-%COMP%]{transform:scale(1.05);box-shadow:0 10px 20px #0000001f,0 4px 8px #0000000f;border-width:2px}.border-element-title[_ngcontent-%COMP%]{border-bottom-style:0px solid!important}.border-element-title[_ngcontent-%COMP%]:after{content:"";display:inherit;width:16%;margin:10px auto;border-top:3px solid rgb(0,104,201)}button.element-form-custom[_ngcontent-%COMP%]{text-align:center}button.selected-custom[_ngcontent-%COMP%]{border-bottom:3px solid rgb(103,159,220);text-align:center}.modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border-radius:16px}']}),t})();function Yn(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"app-forms",2),e.NdJ("objectNuevo",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.mostrarComponente(r))}),e.qZA()}if(2&t){const o=e.oxw();e.Q6J("objectEdit",o.objeto)}}function On(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"app-list",3),e.NdJ("object",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.mostrarComponente(r))}),e.qZA()}}const Gn=[{path:"",component:(()=>{class t{constructor(o,i,r,a,c,d,u,h,b,k,P,U,$,zn,Bn){this.proveedoresCrud=o,this.proveedorService=i,this.tipoContactoService=r,this.tipoServicioService=a,this.empresaService=c,this.estadoService=d,this.categoriaCriticidadService=u,this.clasificacionService=h,this.identificacionService=b,this.paisService=k,this.cargarSelectoresProveedor=P,this.cargarSelectorCategoriaCriticidad=U,this.cargarSelectorClasificacion=$,this.cargarSelectorIdentificacion=zn,this.cargarSelectorPais=Bn,this.mostrarForm=!1,this.objeto=new C.I,this.listaProveedores=[],this.estadoArray=[],this.categoriasDocuments=[]}ngOnInit(){this.consultasBackEnd()}cargarSelectoresInfBasic(){this.categoriaCriticidadService.list().subscribe(o=>{this.clasificacionService.list().subscribe(i=>{this.identificacionService.list().subscribe(r=>{this.paisService.list().subscribe(a=>{const c=o.data,d=i.data,u=r.data;let h=a.data;const b=new x.b;h.unshift(b),this.cargarSelectorCategoriaCriticidad.setCargoListaCategoriaCriticidad(c),this.cargarSelectorClasificacion.setCargoListaClasificacion(d),this.cargarSelectorIdentificacion.setCargoListaIdentificacion(u),this.cargarSelectorPais.setCargoListaPais(h)})})})})}consultasBackEnd(){this.proveedorService.listProveedores().subscribe(o=>{const r=o.data;r.forEach(c=>{c.urgente_pro=""+c.urgente_pro=="0"?0:1}),this.proveedoresCrud.editarListaProveedores(r);let a=r;a.forEach(c=>{null===c.estados&&(c.estados=this.objeto.estados),null===c.fk_tipo_servicio&&(c.fk_tipo_servicio=this.objeto.fk_tipo_servicio),null===c.criticidad_pro&&(c.criticidad_pro=this.objeto.criticidad_pro),null===c.fk_empresa&&(c.fk_empresa=this.objeto.fk_empresa),null===c.estados&&(c.estados=this.objeto.estados),null===c.tipo_proveedor&&(c.tipo_proveedor=this.objeto.tipo_proveedor),null===c.tipo_servicio&&(c.tipo_servicio=this.objeto.tipo_servicio),null===c.empresas&&(c.empresas=this.objeto.empresas)}),this.listaProveedores=a,this.proveedoresCrud.setCargoListaProveedores(this.listaProveedores),this.cargarSelectores(),this.proveedoresCrud.cargoListaProveedores(!0)},o=>{this.proveedoresCrud.editarListaProveedores([]),this.proveedoresCrud.setCargoListaProveedores([]),this.cargarSelectores(),this.proveedoresCrud.cargoListaProveedores(!0)})}cargarSelectores(){this.tipoContactoService.listTipoContacto().subscribe(o=>{this.tipoServicioService.listTipoServicio().subscribe(i=>{this.estadoService.listEstado().subscribe(r=>{this.empresaService.listEmpresas().subscribe(a=>{const c=o.data,d=i.data;this.estadoArray=r.data;const u=a.data;this.cargarSelectoresProveedor.editarListaTipoServicio(d),this.cargarSelectoresProveedor.editarListaEstado(this.estadoArray),this.cargarSelectoresProveedor.editarListaEmpresa(u),this.cargarSelectoresProveedor.editarListaTiposContacto(c),this.cargarSelectoresProveedor.setCargoListaTipoServicios(d),this.cargarSelectoresProveedor.setCargoListaEstados(this.estadoArray),this.cargarSelectoresProveedor.setCargoListaEmpresas(u),this.cargarSelectoresProveedor.setCargoListaTiposContacto(c),this.cargarSelectoresInfBasic(),this.cargarDatosLista(),this.cargarSelectoresProveedor.cargoSelects(!0)},()=>{this.confimacionDeCargado()})},()=>{this.confimacionDeCargado()})},()=>{this.confimacionDeCargado()})},()=>{this.confimacionDeCargado()})}confimacionDeCargado(){this.cargarSelectoresProveedor.cargoSelects(!0),this.cargarSelectoresProveedor.editarListaTipoServicio([]),this.cargarSelectoresProveedor.editarListaEstado([]),this.cargarSelectoresProveedor.editarListaEmpresa([]),this.cargarSelectoresProveedor.editarListaTiposContacto([]),this.cargarSelectoresProveedor.setCargoListaTipoServicios([]),this.cargarSelectoresProveedor.setCargoListaEstados([]),this.cargarSelectoresProveedor.setCargoListaEmpresas([]),this.cargarSelectoresProveedor.setCargoListaTiposContacto([])}cargarDatosLista(){this.listaProveedores.forEach(o=>{o.estados=this.estadoArray.find(i=>i.id.toString()===o.fk_estado.toString())})}mostrarComponente(o){switch(this.mostrarForm&&o.id>0&&this.listaProveedores.push(o),o.nombre_pro){case"":this.objeto=new C.I,this.mostrarForm=!0;break;case"Borrado":this.objeto=new C.I,this.mostrarForm=!1;break;default:this.objeto=o,this.mostrarForm=!0}}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(F.p),e.Y36(y.z),e.Y36(ue.u),e.Y36(_e.z),e.Y36(pe.P),e.Y36(me.s),e.Y36(he),e.Y36(fe),e.Y36(ge),e.Y36(ve),e.Y36(N.R),e.Y36(X.x),e.Y36(W.T),e.Y36(ee),e.Y36(J))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-admi-prov"]],decls:4,vars:2,consts:[[3,"objectEdit","objectNuevo",4,"ngIf"],[3,"object",4,"ngIf"],[3,"objectEdit","objectNuevo"],[3,"object"]],template:function(o,i){1&o&&(e.YNc(0,Yn,1,1,"app-forms",0),e.YNc(1,On,1,0,"app-list",1),e._UZ(2,"br")(3,"br")),2&o&&(e.Q6J("ngIf",i.mostrarForm),e.xp6(1),e.Q6J("ngIf",!i.mostrarForm))},dependencies:[m.O5,io,Dn]}),t})()}];let Vn=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[f.Bz.forChild(Gn),f.Bz]}),t})(),Kn=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[A.bB,s.UX,D.JX,m.ez,s.u5,Vn]}),t})()}}]);