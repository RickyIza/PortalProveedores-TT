"use strict";(self.webpackChunkPlataformaIntegralProveedores=self.webpackChunkPlataformaIntegralProveedores||[]).push([[526],{5526:(et,_,a)=>{a.r(_),a.d(_,{AdmiMatrizModule:()=>it});var d=a(6895),u=a(1205),m=a(8499),t=a(1571),p=a(529),f=a(5625),h=a(9019);let v=(()=>{class e{constructor(i){this.http=i,this.baseUrl=h.N.urlGlobal+"matriz-proveedor",this.url=`${this.baseUrl}`,this.httpOptions={headers:new p.WM({"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("token")})}}datosMatriz(){return this.http.get(this.url,this.httpOptions).pipe((0,f.X)(1))}}return e.\u0275fac=function(i){return new(i||e)(t.LFG(p.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Z=a(6333),b=a(2029),s=a(4333),r=a(433);let A=(()=>{class e{transform(i,n){return i?n?(n=n.toLowerCase(),i.filter(l=>JSON.stringify(l).toLowerCase().includes(n))):i:null}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=t.Yjl({name:"search",type:e,pure:!0}),e})();function x(e,o){if(1&e&&(t.TgZ(0,"option",38),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.nombre_catc,"")}}function T(e,o){if(1&e&&(t.TgZ(0,"option",38),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.nombre_cla," ")}}function C(e,o){1&e&&(t.TgZ(0,"tbody")(1,"tr")(2,"p"),t._uU(3,"Sin proveedores"),t.qZA()()())}function M(e,o){1&e&&(t.TgZ(0,"td"),t._uU(1,"General"),t.qZA())}function U(e,o){1&e&&(t.TgZ(0,"td"),t._uU(1,"Transporte"),t.qZA())}function z(e,o){1&e&&(t.TgZ(0,"td"),t._uU(1,"Agente de carga"),t.qZA())}function y(e,o){if(1&e&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&e){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==i||null==i.categorias_criticidad?null:i.categorias_criticidad.nombre_catc," ")}}function q(e,o){1&e&&(t.TgZ(0,"td",55),t._uU(1,"-"),t.qZA())}function N(e,o){if(1&e&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&e){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==i.clasificacion_pro?null:i.clasificacion_pro.nombre_cla," ")}}function J(e,o){1&e&&(t.TgZ(0,"td",55),t._uU(1,"-"),t.qZA())}function I(e,o){if(1&e&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&e){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==i.calificacion[0]||null==i.calificacion[0].estados?null:i.calificacion[0].estados.nombre_est," ")}}function S(e,o){1&e&&(t.TgZ(0,"td"),t._uU(1,"-"),t.qZA())}function Q(e,o){if(1&e&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&e){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==i.calificacion[0]?null:i.calificacion[0].dias_cal," ")}}function Y(e,o){1&e&&(t.TgZ(0,"td"),t._uU(1,"-"),t.qZA())}function w(e,o){if(1&e&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&e){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==i.evaluaciones[0]||null==i.evaluaciones[0].estados?null:i.evaluaciones[0].estados.nombre_est," ")}}function P(e,o){1&e&&(t.TgZ(0,"td"),t._uU(1,"-"),t.qZA())}function j(e,o){if(1&e&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&e){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==i.evaluaciones[0]?null:i.evaluaciones[0].resultado_eva," ")}}function F(e,o){1&e&&(t.TgZ(0,"td"),t._uU(1,"-"),t.qZA())}function O(e,o){if(1&e&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&e){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==i.evaluaciones[0]?null:i.evaluaciones[0].dias_eva," ")}}function L(e,o){1&e&&(t.TgZ(0,"td"),t._uU(1,"-"),t.qZA())}function E(e,o){if(1&e&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&e){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==i.auditoria[0]||null==i.auditoria[0].estados?null:i.auditoria[0].estados.nombre_est," ")}}function $(e,o){1&e&&(t.TgZ(0,"td"),t._uU(1,"-"),t.qZA())}function G(e,o){1&e&&(t.TgZ(0,"td"),t._uU(1,"-"),t.qZA())}function B(e,o){if(1&e&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&e){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==i.auditoria[0]?null:i.auditoria[0].dias_audi," ")}}function k(e,o){1&e&&(t.TgZ(0,"td"),t._uU(1,"-"),t.qZA())}function D(e,o){if(1&e&&(t.TgZ(0,"tr",52)(1,"td",53),t._uU(2),t.qZA(),t.YNc(3,M,2,0,"td",49),t.YNc(4,U,2,0,"td",49),t.YNc(5,z,2,0,"td",49),t.YNc(6,y,2,1,"td",54),t.YNc(7,q,2,0,"td",54),t.YNc(8,N,2,1,"td",54),t.YNc(9,J,2,0,"td",54),t.YNc(10,I,2,1,"td",49),t.YNc(11,S,2,0,"td",49),t.YNc(12,Q,2,1,"td",49),t.YNc(13,Y,2,0,"td",49),t.YNc(14,w,2,1,"td",49),t.YNc(15,P,2,0,"td",49),t.YNc(16,j,2,1,"td",49),t.YNc(17,F,2,0,"td",49),t.YNc(18,O,2,1,"td",49),t.YNc(19,L,2,0,"td",49),t.YNc(20,E,2,1,"td",49),t.YNc(21,$,2,0,"td",49),t.YNc(22,G,2,0,"td",49),t.YNc(23,B,2,1,"td",49),t.YNc(24,k,2,0,"td",49),t.TgZ(25,"td"),t._uU(26,"-"),t.qZA(),t.TgZ(27,"td"),t._uU(28,"-"),t.qZA()()),2&e){const i=o.$implicit;t.xp6(1),t.s9C("title",i.nombre_pro),t.xp6(1),t.hij(" ",i.nombre_pro," "),t.xp6(1),t.Q6J("ngIf",1==i.fk_tipo_proveedor),t.xp6(1),t.Q6J("ngIf",2==i.fk_tipo_proveedor),t.xp6(1),t.Q6J("ngIf",3==i.fk_tipo_proveedor),t.xp6(1),t.Q6J("ngIf",null!=(null==i||null==i.categorias_criticidad?null:i.categorias_criticidad.nombre_catc)),t.xp6(1),t.Q6J("ngIf",null==(null==i||null==i.categorias_criticidad?null:i.categorias_criticidad.nombre_catc)),t.xp6(1),t.Q6J("ngIf",null!=(null==i.clasificacion_pro?null:i.clasificacion_pro.nombre_cla)),t.xp6(1),t.Q6J("ngIf",null==(null==i.clasificacion_pro?null:i.clasificacion_pro.nombre_cla)),t.xp6(1),t.Q6J("ngIf",null!=(null==i.calificacion[0]||null==i.calificacion[0].estados?null:i.calificacion[0].estados.nombre_est)),t.xp6(1),t.Q6J("ngIf",null==(null==i.calificacion[0]||null==i.calificacion[0].estados?null:i.calificacion[0].estados.nombre_est)),t.xp6(1),t.Q6J("ngIf",null!=(null==i.calificacion[0]?null:i.calificacion[0].dias_cal)),t.xp6(1),t.Q6J("ngIf",null==(null==i.calificacion[0]?null:i.calificacion[0].dias_cal)),t.xp6(1),t.Q6J("ngIf",null!=(null==i.evaluaciones[0]||null==i.evaluaciones[0].estados?null:i.evaluaciones[0].estados.nombre_est)),t.xp6(1),t.Q6J("ngIf",null==(null==i.evaluaciones[0]||null==i.evaluaciones[0].estados?null:i.evaluaciones[0].estados.nombre_est)),t.xp6(1),t.Q6J("ngIf",null!=(null==i.evaluaciones[0]?null:i.evaluaciones[0].resultado_eva)),t.xp6(1),t.Q6J("ngIf",null==(null==i.evaluaciones[0]?null:i.evaluaciones[0].resultado_eva)),t.xp6(1),t.Q6J("ngIf",null!=(null==i.evaluaciones[0]?null:i.evaluaciones[0].dias_eva)),t.xp6(1),t.Q6J("ngIf",null!=(null==i.evaluaciones[0]?null:i.evaluaciones[0].dias_eva)),t.xp6(1),t.Q6J("ngIf",null!=(null==i.auditoria[0]||null==i.auditoria[0].estados?null:i.auditoria[0].estados.nombre_est)),t.xp6(1),t.Q6J("ngIf",null==(null==i.auditoria[0]||null==i.auditoria[0].estados?null:i.auditoria[0].estados.nombre_est)),t.xp6(1),t.Q6J("ngIf",null==(null==i.auditoria[0]||null==i.auditoria[0].estados?null:i.auditoria[0].estados.nombre_est)),t.xp6(1),t.Q6J("ngIf",null!=(null==i.auditoria[0]?null:i.auditoria[0].dias_audi)),t.xp6(1),t.Q6J("ngIf",null==(null==i.auditoria[0]?null:i.auditoria[0].dias_audi))}}const R=function(e){return{itemsPerPage:8,currentPage:e}};function H(e,o){if(1&e&&(t.TgZ(0,"tbody"),t.YNc(1,D,29,24,"tr",51),t.ALo(2,"paginate"),t.ALo(3,"search"),t.ALo(4,"search"),t.qZA()),2&e){const i=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,t.xi3(3,4,t.xi3(4,7,i.proveedor,i.searchProv),i.searchNom),t.VKq(10,R,i.page)))}}function X(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"pagination-controls",56),t.NdJ("pageChange",function(l){t.CHM(i);const c=t.oxw(2);return t.KtG(c.page=l)}),t.qZA()}}function K(e,o){if(1&e&&(t.TgZ(0,"div",39)(1,"table",40)(2,"tr",41)(3,"th",42),t._uU(4,"Proveedor"),t.qZA(),t.TgZ(5,"th",43),t._uU(6,"Tipo de"),t._UZ(7,"br"),t._uU(8,"proveedor"),t.qZA(),t.TgZ(9,"th",43),t._uU(10,"Categoria"),t.qZA(),t.TgZ(11,"th",43),t._uU(12,"Subcategoria"),t.qZA(),t.TgZ(13,"th",44),t._uU(14,"Calificaci\xf3n"),t.qZA(),t.TgZ(15,"th",45),t._uU(16,"Evaluaci\xf3n"),t.qZA(),t.TgZ(17,"th",46),t._uU(18,"Auditor\xeda"),t.qZA(),t.TgZ(19,"th",46),t._uU(20," Plan Mejora "),t._UZ(21,"br"),t._uU(22," Continua "),t.qZA()(),t.TgZ(23,"tr",47)(24,"th",48),t._uU(25,"Estado"),t.qZA(),t.TgZ(26,"th",48),t._uU(27,"# Dias del "),t._UZ(28,"br"),t._uU(29,"proceso"),t.qZA(),t.TgZ(30,"th",48),t._uU(31,"Estado"),t.qZA(),t.TgZ(32,"th",48),t._uU(33,"Categorias"),t.qZA(),t.TgZ(34,"th",48),t._uU(35,"# Dias del "),t._UZ(36,"br"),t._uU(37,"proceso"),t.qZA(),t.TgZ(38,"th",48),t._uU(39,"Estado"),t.qZA(),t.TgZ(40,"th",48),t._uU(41,"# Dias del "),t._UZ(42,"br"),t._uU(43,"proceso"),t.qZA(),t.TgZ(44,"th",48),t._uU(45,"Estado"),t.qZA(),t.TgZ(46,"th",48),t._uU(47,"# Dias del "),t._UZ(48,"br"),t._uU(49,"proceso"),t.qZA()(),t.YNc(50,C,4,0,"tbody",49),t.YNc(51,H,5,12,"tbody",49),t.qZA(),t.YNc(52,X,1,0,"pagination-controls",50),t.qZA()),2&e){const i=t.oxw();t.xp6(50),t.Q6J("ngIf",0===(null==i.proveedor?null:i.proveedor.length)),t.xp6(1),t.Q6J("ngIf",i.proveedor.length>0),t.xp6(1),t.Q6J("ngIf",i.proveedor.length>8)}}let V=(()=>{class e{constructor(i,n,l){this.matrizService=i,this.cargarSelectorClasificacion=n,this.cargarSelectorCategoriaCriticidad=l,this.img=u.O.appImg,this.searchProv="",this.searchNom="",this.proveedor=[],this.proveedorFil=[],this.categoriasCriticidad=[],this.clasificaciones=[],this.object=new m.I,this.excel=u.O.excel}ngOnInit(){this.listaMatriz(),this.cargarSelectoresInfBasic()}listaMatriz(){this.matrizService.datosMatriz().subscribe(i=>{let n=i.data;console.log("aws",n),this.proveedor=n})}selectCategoria(){this.clasificaciones=this.cargarSelectorClasificacion.getCargoListaClasificacion().filter(i=>Number(i.fk_categoria)===Number(this.object.fk_categoria_criticidad))}cargarSelectoresInfBasic(){this.categoriasCriticidad=this.cargarSelectorCategoriaCriticidad.getCargoListaCategoriaCriticidad(),this.selectCategoria()}cambioFiltradoEstado(i){const n=i.target.value;""===n?this.proveedorFil=this.proveedor:(46==(n.keyCode||n.charCode||n.which)||8==(n.keyCode||n.charCode||n.which)||this.esString(n)||this.esEspacio(n))&&(this.proveedorFil=this.proveedor.filter(l=>l.nombre_pro.toLowerCase().includes(n.toLowerCase())))}esNumerico(i){return/^-?\d+$/.test(i)}esString(i){return!!/^[a-zA-Z]+$/.test(i)}esEspacio(i){return!(!/\s/g.test(i)||this.esNumerico(i)||this.esString(i))}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(v),t.Y36(Z.T),t.Y36(b.x))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-admi-matriz"]],inputs:{object:"object"},decls:70,vars:10,consts:[[1,"container","my-2"],[1,"row","px-3","py-2","align-items-center","table-success"],["align","left",1,"col-6","px-1"],[1,"h6","font-weight-bold","mb-0"],[1,"h6","font-weight-bold","mb-0","color-azul"],[1,"col-md-3"],[1,"input-group","mb-3"],["type","text",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["type","submit",1,"input-group-text"],[1,"bi","bi-search"],["id","listaproveedor"],["value","General"],["value","Transporte"],["value","Agente de Carga"],["role","group","aria-label","First group",1,"btn-group","mb-2"],["type","text","list","listaproveedor","placeholder","Tipo de Proveedor",1,"form-control",3,"ngModel","ngModelChange"],["id","listacategoria"],["value","Por Evaluar"],["value","Solicitado"],["value","En Evaluaci\xf3n"],["value","Finalizado"],["type","text","list","listacategoria","placeholder","Categor\xeda",1,"form-control"],["id","listasub"],["type","text","list","listasub","placeholder","Sub-Categor\xeda",1,"form-control"],[1,"d-flex","flex-row","bd-highlight"],[1,"p-4","bd-highlight",2,"padding-left","0rem !important","padding-bottom","1rem !important"],[1,"col-md"],[1,"form-floating"],["id","floatingSelectGrid","formControlName","fkc","aria-label","Floating label select example",1,"form-select","select-loop",3,"ngModel","ngModelChange","change"],["value","0","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"p-4","bd-highlight",2,"padding-left","0rem !important","padding-bottom","0rem !important"],["id","floatingSelectGrid","formControlName","ts","aria-label","Floating label select example",1,"form-select","select-loop",3,"ngModel","ngModelChange"],["align","right"],["target","_blank","data-bs-target","#staticBackdrop",1,"btn","btn-theme","pull-right",3,"href"],["alt","Bootstrap","width","50px","height","50px",1,"nav_icon",3,"src"],["type","button"],["class","table-responsive table-condense",4,"ngIf"],[3,"value"],[1,"table-responsive","table-condense"],[1,"table","align-middle"],["align","center",1,"table-bordered","transformacion2"],["width","5%","align","center","scope","col","rowspan","2"],["scope","col","rowspan","2"],["align","center","scope","col","colspan","2"],["scope","col","colspan","3"],["scope","col","colspan","2"],["align","center",1,"table-bordered","bordered"],["scope","col"],[4,"ngIf"],["class","my-pagination","previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange",4,"ngIf"],["class","align-middle","align","center",4,"ngFor","ngForOf"],["align","center",1,"align-middle"],[1,"menos-lenght-texto-nombre",3,"title"],["class","menos-lenght-texto-nombre",4,"ngIf"],[1,"menos-lenght-texto-nombre"],["previousLabel","Anterior","nextLabel","Siguiente",1,"my-pagination",3,"pageChange"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3)(4,"h3"),t._uU(5,"Matriz de Proveedores"),t.qZA()(),t._UZ(6,"br"),t.TgZ(7,"label",4)(8,"h4"),t._uU(9,"TORRES & TORRES"),t.qZA()()()(),t.TgZ(10,"div",1),t._UZ(11,"br")(12,"br")(13,"br"),t.TgZ(14,"div",5)(15,"div",6)(16,"input",7),t.NdJ("ngModelChange",function(c){return n.searchNom=c}),t.qZA(),t.TgZ(17,"button",8),t._UZ(18,"i",9),t.qZA()()(),t.TgZ(19,"datalist",10),t._UZ(20,"option",11)(21,"option",12)(22,"option",13),t.qZA(),t.TgZ(23,"div",5),t._uU(24," \xa0\xa0 "),t.TgZ(25,"div",14)(26,"input",15),t.NdJ("ngModelChange",function(c){return n.searchProv=c}),t.qZA()()(),t.TgZ(27,"datalist",16),t._UZ(28,"option",17)(29,"option",18)(30,"option",19)(31,"option",20),t.qZA(),t.TgZ(32,"div",5),t._uU(33," \xa0\xa0 "),t.TgZ(34,"div",14),t._UZ(35,"input",21),t.qZA()(),t.TgZ(36,"datalist",22),t._UZ(37,"option",17)(38,"option",18)(39,"option",19)(40,"option",20),t.qZA(),t.TgZ(41,"div",5),t._uU(42," \xa0\xa0 "),t.TgZ(43,"div",14),t._UZ(44,"input",23),t.qZA()(),t.TgZ(45,"div",24)(46,"div",25)(47,"div",26)(48,"div",27)(49,"select",28),t.NdJ("ngModelChange",function(c){return n.object.fk_categoria_criticidad=c})("change",function(){return n.selectCategoria()}),t.TgZ(50,"option",29),t._uU(51,"Categor\xedas"),t.qZA(),t.YNc(52,x,2,2,"option",30),t.qZA()()()(),t.TgZ(53,"div",31)(54,"div",26)(55,"div",27)(56,"select",32),t.NdJ("ngModelChange",function(c){return n.object.fk_clasificacion=c}),t.TgZ(57,"option",29),t._uU(58,"Sub categoria"),t.qZA(),t.YNc(59,T,2,2,"option",30),t.qZA()()()()()(),t.TgZ(60,"div",1)(61,"div",33)(62,"a",34),t._UZ(63,"img",35),t.qZA(),t._uU(64," \xa0 \xa0 "),t.TgZ(65,"a",36),t._UZ(66,"img",35),t.qZA()()(),t._UZ(67,"br")(68,"br"),t.YNc(69,K,53,3,"div",37),t.qZA()),2&i&&(t.xp6(16),t.Q6J("ngModel",n.searchNom),t.xp6(10),t.Q6J("ngModel",n.searchProv),t.xp6(23),t.Q6J("ngModel",n.object.fk_categoria_criticidad),t.xp6(3),t.Q6J("ngForOf",n.categoriasCriticidad),t.xp6(4),t.Q6J("ngModel",n.object.fk_clasificacion),t.xp6(3),t.Q6J("ngForOf",n.clasificaciones),t.xp6(3),t.MGl("href","",n.excel,"/export-data-matriz-proveedor",t.LSH),t.xp6(1),t.MGl("src","",n.img,"/assets/Plantilla/matriz/excel.png",t.LSH),t.xp6(3),t.MGl("src","",n.img,"/assets/Plantilla/matriz/pdf.png",t.LSH),t.xp6(3),t.Q6J("ngIf",0==n.proveedorFil.length))},dependencies:[d.sg,d.O5,s.LS,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.u,r.On,s._s,A],styles:[".transformacion2[_ngcontent-%COMP%]{text-transform:uppercase}table[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{color:#000}.table-condensed[_ngcontent-%COMP%], label[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}td.menos-lenght-texto-nombre[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:110px}.round_table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:10;border-radius:25px;-moz-border-radius:15px;-webkit-border-radius:5px}.bordered[_ngcontent-%COMP%]{border:solid rgb(250,250,250) 1px;border-radius:12px;box-shadow:0 3px #ccc}"]}),e})();var g=a(7599);const W=[{path:"",component:V}];let tt=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.Bz.forChild(W),g.Bz]}),e})(),it=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.ez,tt,s.JX,r.UX,r.u5]}),e})()}}]);