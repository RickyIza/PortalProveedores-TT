"use strict";(self.webpackChunkPlataformaIntegralProveedores=self.webpackChunkPlataformaIntegralProveedores||[]).push([[324],{3804:(S,U,d)=>{d.d(U,{G:()=>h});class h{constructor(){this.id=0,this.nombre_est="",this.descripcion_est="",this.fk_categoria=0}}},6324:(S,U,d)=>{d.r(U),d.d(U,{AdmiAudiModule:()=>oo});var h=d(6895),l=d(433),Z=d(3804),v=d(8499);class q{constructor(){this.id=0,this.nombre=""}}class u{constructor(){this.index=0,this.id=0,this.nombre_auditor_aud="",this.correo_auditor_aud=" ",this.resultado_aud="",this.fk_normativa="",this.fk_proveedor="",this.formulario="",this.auditor_res="",this.concluciones_auditoria="",this.fecha_inicio_auditoria="",this.fecha_fin_auditoria="",this.fk_estado=0,this.fk_tipo_proveedor=0,this.dias_audi=0,this.proveedor=new v.I,this.fk_tipo_auditoria=0,this.estados=new Z.G,this.normas=new q,this.proveedores=[],this.documentos=[]}}var t=d(1571),f=d(529),c=d(5625),g=d(9019),_=d(7599);let y=(()=>{class i{constructor(o,e){this.http=o,this.router=e,this.baseUrl=g.N.urlGlobal+"auditoria-proveedor",this.url=`${this.baseUrl}`,this.baseUrl1=g.N.urlGlobal+"auditoria-data",this.url1=`${this.baseUrl1}`,this.baseUrlmsg=g.N.urlGlobal+"send-email-notificacion-auditoria",this.urlmsg=`${this.baseUrlmsg}`,this.httpOptions={headers:new f.WM({"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("token")})}}upload(o,e){const s=new FormData;return s.append("file",o,o.name),s.append("fk_auditoria",e),console.log(s.get("file")),this.http.post(g.N.urlGlobal+"documentos-auditoria/5",s).pipe((0,c.X)(1))}enviarmsg(o){return this.http.get(this.urlmsg+"/"+o,this.httpOptions).pipe((0,c.X)(1))}listAuditorias(){return this.http.get(this.url,this.httpOptions).pipe((0,c.X)(1))}crearAuditoria(){return this.http.post(this.url,this.httpOptions).pipe((0,c.X)(1))}auditarProveedor(o,e,a,s,n,p){return this.http.put(g.N.urlGlobal+"auditoria-proveedor/"+o,{fk_normativa:e,nombre_auditor_aud:a,correo_auditor_aud:s,fecha_inicio_auditoria:n,fecha_fin_auditoria:p},this.httpOptions).pipe((0,c.X)(1))}listarDocsAuditoria(){return this.http.get(g.N.urlGlobal+"documentos-auditoria",this.httpOptions).pipe((0,c.X)(1))}listDocsAuditoria(o){return this.http.get(this.url1+"/"+o,this.httpOptions).pipe((0,c.X)(1))}uploadDoc(o,e,a){return this.http.put(g.N.urlGlobal+"documentos-auditoria/"+o,{fk_auditoria:a,file:e},this.httpOptions).pipe((0,c.X)(1))}deleteDoc(o){return console.log(o),this.http.delete(g.N.urlGlobal+"documentos-auditoria/"+o).pipe((0,c.X)(1))}listarHallazgos(o){return this.http.get(g.N.urlGlobal+"hallazgo-auditoria-data/"+o).pipe((0,c.X)(1))}uploadHallazgo(o,e){return this.http.post(g.N.urlGlobal+"hallazgo-auditoria",{hallazgo:o,fk_tipo_hallazgo:3,fk_auditoria:e}).pipe((0,c.X)(1))}putAuditoria(o){return this.http.put(this.url,o,this.httpOptions).pipe((0,c.X)(1))}eliminar(){window.location.reload()}}return i.\u0275fac=function(o){return new(o||i)(t.LFG(f.eN),t.LFG(_.F0))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var z=d(7843);class P{constructor(){this.id=0,this.index=0,this.fk_empresa=0,this.fk_estado=0,this.fk_auditoria=0,this.correo_mej="",this.problema_mej="",this.avance_planes_mej="",this.estados=new Z.G,this.auditoria=[],this.documentos=[]}}var K=d(1205);let O=(()=>{class i{constructor(o,e){this.http=o,this.router=e,this.baseUrl=g.N.urlGlobal+"normativa",this.url=`${this.baseUrl}`,this.httpOptions={headers:new f.WM({"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("token")})}}listNormativa(){return this.http.get(this.url,this.httpOptions).pipe((0,c.X)(1))}}return i.\u0275fac=function(o){return new(o||i)(t.LFG(f.eN),t.LFG(_.F0))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var E=d(8573),j=d(6222),M=d(2054),F=d(4094),J=d(9012),I=d(2140),H=d(8290),L=d(667),k=d(366);class Y{constructor(){this.id=0,this.index=0,this.fk_tipo_hallazgo=0,this.fk_auditoria=0,this.hallazgo="",this.estados=new Z.G,this.auditoria=[],this.hallazgos=[],this.proveedores=[]}}var D=d(7658),W=d(3504);function V(i,r){1&i&&(t.TgZ(0,"tbody")(1,"tr")(2,"p"),t._uU(3,"Sin solicitudes"),t.qZA()()())}function tt(i,r){if(1&i&&(t.TgZ(0,"td",97),t._uU(1),t.qZA()),2&i){const o=t.oxw().$implicit;t.s9C("title",o.proveedores[0].clasificacion_pro.nombre_cla),t.xp6(1),t.hij(" ",o.proveedores[0].clasificacion_pro.nombre_cla," ")}}function ot(i,r){if(1&i&&(t.TgZ(0,"td",97),t._uU(1),t.qZA()),2&i){const o=t.oxw().$implicit;t.s9C("title",o.proveedores[0].categorias.nombre_cat),t.xp6(1),t.hij(" ",o.proveedores[0].categorias.nombre_cat," ")}}const it=function(i,r,o,e,a){return{"bg-danger":i,"bg-dark":r,"bg-warning":o,"bg-secondary":e,"bg-success":a}},x=function(i){return{"visually-hidden":i}};function et(i,r){if(1&i){const o=t.EpF();t.TgZ(0,"tr",85)(1,"td",86),t._uU(2),t.qZA(),t.TgZ(3,"td",87),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.YNc(7,tt,2,2,"td",88),t.YNc(8,ot,2,2,"td",88),t.TgZ(9,"td",89)(10,"strong"),t._uU(11),t.qZA()(),t.TgZ(12,"td",89)(13,"strong"),t._uU(14),t.qZA()(),t.TgZ(15,"td")(16,"label",90)(17,"strong"),t._uU(18),t.qZA()()(),t.TgZ(19,"td")(20,"a",91),t.NdJ("click",function(){const a=t.CHM(o),s=a.$implicit,n=a.index,p=t.oxw(2);return t.KtG(p.verFomulario(s.proveedores[0],n))}),t.TgZ(21,"span"),t._uU(22,"Auditor\xeda"),t.qZA()(),t._uU(23,"\xa0 "),t.TgZ(24,"a",92),t.NdJ("click",function(){const s=t.CHM(o).$implicit,n=t.oxw(2);return t.KtG(n.verBitacora(s.id))}),t.TgZ(25,"span"),t._uU(26,"Bit\xe1cora "),t.qZA()(),t._uU(27,"\xa0 \xa0 "),t.TgZ(28,"a",93),t.NdJ("click",function(){const s=t.CHM(o).$implicit,n=t.oxw(2);return t.KtG(n.subirOpcion(s.id))}),t._uU(29,"\xa0\xa0"),t._UZ(30,"i",94),t._uU(31,"\xa0\xa0 "),t.qZA(),t.TgZ(32,"a",93),t.NdJ("click",function(){const s=t.CHM(o).$implicit,n=t.oxw(2);return t.KtG(n.subirOpcion(s.id))}),t._uU(33,"\xa0\xa0"),t._UZ(34,"i",94),t._uU(35,"\xa0\xa0 "),t.qZA(),t._uU(36," \xa0 "),t.TgZ(37,"a",95),t._uU(38," \xa0\xa0"),t._UZ(39,"i",96),t._uU(40,"\xa0\xa0"),t.qZA(),t.TgZ(41,"a",95),t._uU(42," \xa0\xa0"),t._UZ(43,"i",96),t._uU(44,"\xa0\xa0"),t.qZA()()()}if(2&i){const o=r.$implicit;t.xp6(2),t.hij(" ",o.proveedores[0].ruc_pro," "),t.xp6(2),t.hij(" ",o.proveedores[0].nombre_pro," "),t.xp6(2),t.Oqu(o.proveedores[0].tipo_proveedor.nombre_tip),t.xp6(1),t.Q6J("ngIf",1==o.proveedores[0].fk_tipo_proveedor||2==o.proveedores[0].fk_tipo_proveedor),t.xp6(1),t.Q6J("ngIf",3==o.proveedores[0].fk_tipo_proveedor),t.xp6(1),t.s9C("title",o.proveedores[0].usuario_pro),t.xp6(2),t.Oqu(o.proveedores[0].usuario_pro),t.xp6(1),t.s9C("title",o.fecha_inicio_auditoria),t.xp6(2),t.Oqu(o.fecha_inicio_auditoria),t.xp6(2),t.Q6J("ngClass",t.qbA(16,it,"Por planificar"==o.estados.nombre_est,"Por iniciar"==o.estados.nombre_est,"Iniciado"==o.estados.nombre_est,"Auditado"==o.estados.nombre_est,"Cerrado"==o.estados.nombre_est)),t.xp6(2),t.Oqu(o.estados.nombre_est),t.xp6(2),t.Q6J("ngClass",t.VKq(22,x,"Por planificar"!=o.estados.nombre_est)),t.xp6(8),t.Q6J("ngClass",t.VKq(24,x,"Iniciado"!=o.estados.nombre_est)),t.xp6(4),t.Q6J("ngClass",t.VKq(26,x,"Auditado"!=o.estados.nombre_est)),t.xp6(5),t.Q6J("ngClass",t.VKq(28,x,"Auditado"!=o.estados.nombre_est)),t.xp6(4),t.Q6J("ngClass",t.VKq(30,x,"Iniciado"!=o.estados.nombre_est))}}function at(i,r){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,et,45,32,"tr",84),t.qZA()),2&i){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",o.listaAuditorias)}}function rt(i,r){1&i&&(t.TgZ(0,"div",1),t._UZ(1,"hr"),t.TgZ(2,"div",2)(3,"strong"),t._uU(4,"Contactos"),t.qZA()()())}function st(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA()()),2&i){const o=r.$implicit;t.xp6(2),t.Oqu(o.nombre_cont),t.xp6(2),t.Oqu(o.cargo_cont)}}function nt(i,r){if(1&i&&(t.TgZ(0,"table",68)(1,"thead")(2,"tr")(3,"th",21),t._uU(4,"Nombre"),t.qZA(),t.TgZ(5,"th",21),t._uU(6,"Cargo"),t.qZA()()(),t.TgZ(7,"tbody"),t.YNc(8,st,5,2,"tr",69),t.qZA()()),2&i){const o=t.oxw();t.xp6(8),t.Q6J("ngForOf",o.verbitacora.Contactos)}}function lt(i,r){1&i&&(t.TgZ(0,"div",1),t._UZ(1,"hr"),t.TgZ(2,"div",2)(3,"strong"),t._uU(4,"Contactos financieros"),t.qZA()()())}function dt(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA()()),2&i){const o=r.$implicit;t.xp6(2),t.Oqu(o.nombre_cof),t.xp6(2),t.Oqu(o.cargo_cof)}}function ct(i,r){1&i&&(t.TgZ(0,"table",68)(1,"thead")(2,"tr")(3,"th",21),t._UZ(4,"br"),t._uU(5,"Historial "),t.qZA()()()())}function ut(i,r){if(1&i&&(t.TgZ(0,"div",1)(1,"div",98)(2,"a",99),t._UZ(3,"i",100),t.qZA()(),t.TgZ(4,"div",101),t._uU(5),t.qZA(),t.TgZ(6,"div",102),t._uU(7),t._UZ(8,"i",103),t.qZA(),t.TgZ(9,"div",104)(10,"strong"),t._uU(11),t.qZA()(),t.TgZ(12,"div",104)(13,"p"),t._uU(14),t.qZA()(),t._UZ(15,"hr"),t.qZA()),2&i){const o=r.$implicit,e=t.oxw();t.xp6(5),t.Oqu(o.fecha_his),t.xp6(2),t.hij(" ",o.usuario_his," "),t.xp6(4),t.Oqu(e.bitacora.Proveedor.nombre_pro),t.xp6(3),t.Oqu(o.observacion_his)}}function pt(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"th",105),t._uU(2),t.qZA()()),2&i){const o=r.$implicit;t.xp6(2),t.Oqu(o.hallazgo)}}function ht(i,r){if(1&i&&(t.TgZ(0,"div",42)(1,"div",74)(2,"h6"),t._uU(3," Lista de Hallazgos Subidos "),t.qZA()(),t.TgZ(4,"div",43)(5,"div",76)(6,"table",81)(7,"thead")(8,"tr",50)(9,"th",105),t._uU(10,"Hallazgo"),t.qZA()()(),t.TgZ(11,"tbody"),t.YNc(12,pt,3,1,"tr",69),t.qZA()()()()()),2&i){const o=t.oxw();t.xp6(12),t.Q6J("ngForOf",o.listaHallazgosSubidos)}}function gt(i,r){1&i&&(t.TgZ(0,"div",50)(1,"p",111),t._uU(2," Ingresar su hallazgo. "),t.qZA()())}function _t(i,r){if(1&i){const o=t.EpF();t.TgZ(0,"div",43)(1,"div",76)(2,"div",107)(3,"input",108),t.NdJ("ngModelChange",function(a){const n=t.CHM(o).$implicit;return t.KtG(n.hallazgo=a)}),t.qZA(),t._uU(4,"\xa0 "),t.TgZ(5,"button",109),t.NdJ("click",function(){const s=t.CHM(o).index,n=t.oxw(2);return t.KtG(n.borrar(s))}),t._UZ(6,"i",96),t.qZA()(),t.YNc(7,gt,3,0,"div",110),t.qZA()()}if(2&i){const o=r.$implicit;t.xp6(3),t.Q6J("ngModel",o.hallazgo),t.xp6(4),t.Q6J("ngIf",""==o.hallazgo)}}function mt(i,r){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,_t,8,2,"div",106),t.qZA()),2&i){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",o.listaHallazgos)}}function bt(i,r){1&i&&(t.TgZ(0,"tbody")(1,"tr")(2,"p"),t._uU(3,"Sin Documentos"),t.qZA()()())}function vt(i,r){if(1&i){const o=t.EpF();t.TgZ(0,"tr")(1,"td",50),t._uU(2),t.qZA(),t.TgZ(3,"td",50)(4,"a",112),t._uU(5," Ver "),t.qZA(),t.TgZ(6,"button",113),t.NdJ("click",function(){const s=t.CHM(o).$implicit,n=t.oxw(2);return t.KtG(n.deleteDoc(s.id))}),t._UZ(7,"i",96),t.qZA()()()}if(2&i){const o=r.$implicit;t.xp6(2),t.hij(" ",o.nombre_doc," "),t.xp6(2),t.s9C("href",o.path_doc,t.LSH)}}function ft(i,r){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,vt,8,2,"tr",69),t.qZA()),2&i){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",o.listaAuditorias1.documentos)}}function At(i,r){1&i&&(t.TgZ(0,"div",42)(1,"h3"),t._uU(2,"Cargando ..."),t.qZA()())}let Zt=(()=>{class i{constructor(o,e,a,s,n,p,m,b,A,w,T,C){this.normativa=o,this.proveedorService=e,this.tipoContactoService=a,this.tipoServicioService=s,this.processSweetAlert=n,this.proveedoresCrud=p,this.empresaService=m,this.estadoService=b,this.cargarSelect=A,this.califProvCrud=w,this.audPro=T,this.bitacoraService=C,this.archivos=[],this.shortLink="",this.loading=!1,this.file=new File([],""),this.objectEmit=new t.vpe,this.regresarAEleccionTipoAuditoria=new t.vpe,this.object=new u,this.objectP=new t.vpe,this.califi=new t.vpe,this.objectPr=new v.I,this.auditoria=new t.vpe,this.objectEditP=new v.I,this.listaProveedor=[],this.listaNorma=[],this.uploadId="",this.listaAuditorias=[],this.listaAuditorias1=new u,this.listaProveedores=[],this.listaDocumentos=[],this.listaHallazgos=[],this.listaHallazgosSubidos=[],this.bitacora=new D.n,this.verbitacora=new D.n,this.esLargoArray=[],this.submitted=!1,this.esLargo=!1,this.prioridad=!1,this.prov=v.I,this.idAudi=u,this.object1=new t.vpe,this.editarForm=new l.nJ({nombre_auditor_aud:new l.p4(""),correo_auditor_aud:new l.p4(""),fecha_inicio_auditoria:new l.p4(""),fecha_fin_auditoria:new l.p4(""),fk_proveedor:new l.p4(""),fk_normativa:new l.p4("")})}ngOnInit(){this.consultaListaProveedores()}onChange(o){this.file=o.target.files[0]}nuevoDestinatario(){let o=new Y;this.listaHallazgos.push(o)}borrar(o){this.listaHallazgos.splice(o,1)}subirOpcion(o){this.idAudi=o,this.audPro.listarHallazgos(this.idAudi).subscribe(e=>{console.log(e),this.listaHallazgosSubidos=e.data,console.log("doc",this.listaHallazgosSubidos)}),this.audPro.listDocsAuditoria(this.idAudi).subscribe(e=>{this.listaAuditorias1=e.data,console.log("doc1",this.listaAuditorias1)}),console.log(this.idAudi)}List(o){this.idAudi=o,this.audPro.listDocsAuditoria(this.idAudi).subscribe(e=>{console.log(e),this.listaAuditorias1=e.data,console.log("doc",this.listaAuditorias1)}),console.log(this.idAudi)}onUpload(){this.loading=!this.loading,console.log(this.file),this.audPro.upload(this.file,this.idAudi).subscribe(o=>{"object"==typeof o&&(this.shortLink=o.link,this.loading=!1,window.location.reload())}),this.finalizar(),this.enviarcorreo()}eliminar(){window.location.reload()}finalizar(){if(this.submitted=!0,this.listaHallazgos.length>0){let o=!1;if(this.listaHallazgos.forEach(e=>{""===e.hallazgo&&(o=!0)}),o)return;this.enviarMultiplesHallazgos(this.listaHallazgos.length,0)}}enviarMultiplesHallazgos(o,e){if(e<o){let a=new Y;a.hallazgo=this.listaHallazgos[e].hallazgo,e+=1,this.audPro.uploadHallazgo(a.hallazgo,this.idAudi).subscribe(s=>{this.enviarMultiplesHallazgos(o,e),console.log(JSON.stringify(s))},s=>{console.log(JSON.stringify(s))})}else window.location.reload()}creacionAuditoria(){this.normativa.listNormativa().subscribe(e=>{this.normativa=e.data,console.log(e)});const o=new u;this.auditoria.emit(o)}enviarcorreo(){this.audPro.enviarmsg(this.idAudi).subscribe(o=>{console.log(o),console.log("enviar msg")})}consultaListaProveedores(){this.audPro.listAuditorias().subscribe(o=>{this.tipoContactoService.listTipoContacto().subscribe(e=>{this.tipoServicioService.listTipoServicio().subscribe(a=>{this.estadoService.listEstado().subscribe(s=>{this.empresaService.listEmpresas().subscribe(n=>{this.normativa.listNormativa().subscribe(p=>{const m=e.data,b=a.data,T=n.data;this.cargarSelect.setCargoListaEstados(s.data),this.cargarSelect.setCargoListaEmpresas(T),this.cargarSelect.setCargoListaTipoServicios(b),this.cargarSelect.setCargoListaTiposContacto(m),this.cargarSelect.cargoSelects(!0),o.data.forEach((R,io)=>{"[]"!==JSON.stringify(R.proveedores)&&(this.listaAuditorias[io]=R)}),this.califProvCrud.setCargoListaAuditoriasProveedor(this.listaAuditorias),this.cargarCalificacionProveedor()})})})})})})}cargarCalificacionProveedor(){let o=new v.I;const e=this.cargarSelect.getCargoListaTipoServicios(),a=this.cargarSelect.getCargoListaEstados();this.cargarSelect.getCargoListaNormas(),this.listaAuditorias.forEach(n=>{let p=n.proveedores[0];switch(n.proveedores[0]=o,n.proveedores[0]=p,void 0===JSON.stringify(n.proveedores[0].tipo_proveedor)&&(n.proveedores[0].tipo_proveedor=new z.O),Number(n.proveedores[0].fk_tipo_proveedor)){case 1:n.proveedores[0].tipo_proveedor.nombre_tip="General";break;case 2:n.proveedores[0].tipo_proveedor.nombre_tip="Transporte";break;case 3:n.proveedores[0].tipo_proveedor.nombre_tip="Agente de carga"}const m=e.find(A=>A.id===Number(n.proveedores[0].fk_tipo_servicio)),b=a.find(A=>A.id===Number(n.proveedores[0].fk_estado));n.proveedores[0].tipo_servicio=m,n.proveedores[0].estados=b})}verFomulario(o,e){o.index=e,this.prov=o.id,this.objectP.emit(o),this.califi.emit(this.listaAuditorias[e])}postForm(o){this.audPro.putAuditoria(o).subscribe(e=>{console.log(e)})}guardarAuditoria(){console.log(this.editarForm.value.nombre_auditor_aud),console.log(this.editarForm.value.fk_normativa),console.log(this.editarForm.value.correo_auditor_aud),console.log(this.editarForm.value.fecha_inicio_auditoria),console.log(this.editarForm.value.fecha_fin_auditoria),this.audPro.auditarProveedor(Number(this.prov),this.editarForm.value.fk_normativa,this.editarForm.value.nombre_auditor_aud,this.editarForm.value.correo_auditor_aud,this.editarForm.value.fecha_inicio_auditoria,this.editarForm.value.fecha_fin_auditoria).subscribe(()=>{console.log("Auditoria enviada")}),this.resetearInputs()}listarDocsAuditoria(){this.audPro.listarDocsAuditoria().subscribe(o=>{o.data.forEach((a,s)=>{this.listaDocumentos[s]=a,console.log("doc",this.listaDocumentos)})})}deleteDoc(o){this.audPro.deleteDoc(o).subscribe(e=>{console.log(e.message),window.location.reload(),this.processSweetAlert.procesoExitoso()})}resetearInputs(){this.editarForm.value.nombre_auditor_aud="",this.editarForm.value.fk_normativa="",this.editarForm.value.correo_auditor_aud="",this.editarForm.value.fecha_inicio_auditoria="",this.editarForm.value.fecha_fin_auditoria=""}uploadDocs(o){this.audPro.uploadDoc(Number(o.id),"file","1")}verBitacora(o){this.bitacoraService.retrieve(o).subscribe(e=>{this.bitacora=e.data,this.verbitacora=e.data;const s=this.listaProveedores.find(n=>Number(n.id)===Number(o));void 0!==s&&(this.bitacora.Proveedor=s)})}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(O),t.Y36(E.z),t.Y36(j.u),t.Y36(M.z),t.Y36(F.J),t.Y36(J.p),t.Y36(I.P),t.Y36(H.s),t.Y36(L.R),t.Y36(k.A),t.Y36(y),t.Y36(W.h))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-form-auditoria"]],inputs:{object:"object",objectPr:"objectPr",objectEditP:"objectEditP",listaProveedor:"listaProveedor",listaNorma:"listaNorma"},outputs:{objectEmit:"objectEmit",regresarAEleccionTipoAuditoria:"regresarAEleccionTipoAuditoria",objectP:"objectP",califi:"califi",auditoria:"auditoria",object1:"object1"},decls:210,vars:20,consts:[[1,"container","my-2"],[1,"row","px-3","py-2","align-items-center","table-success"],["align","left",1,"col-6","px-1"],["role","group","aria-label","First group",1,"btn-group","mb-3"],["type","button",1,"btn","btn-secondary-outline","customize",2,"text-align","center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","26","height","26","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-left"],["fill-rule","evenodd","d","M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"],["type","button",1,"btn",2,"text-align","center"],[1,"h6","font-weight-bold","mb-0"],[1,"h6","font-weight-bold","mb-0","color-azul"],[1,"col-md-4"],[1,"input-group","mb-3"],["type","text","required","",1,"form-control","form-control-lg"],["type","submit",1,"input-group-text"],[1,"bi","bi-search"],["id","listamodelos"],["value","Iniciado"],["value","En revisi\xf3n"],["value","Finalizado"],["type","text","required","","list","listamodelos","placeholder","Buscar por Estado",1,"form-control"],[1,"table","table-condensed"],["scope","col"],["type","checkbox","id","exampleCheck1",1,"form-check-input"],[4,"ngIf"],["id","NewsModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","NewsModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header",2,"border-bottom","0px"],["id","exampleModalLabel",1,"modal-title","text-black"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"border","rounded-circle","btn-close",2,"border","3px solid rgb(220, 220, 220) !important"],[1,"modal-body"],[2,"margin","auto","width","auto",3,"formGroup","ngSubmit"],[1,"form-floating","md-12"],[1,"p-4","container"],["for","sl",1,"text-body"],["required","","placeholder","Seleccione","formControlName","fk_normativa","name","","id","sl",1,"form-select","md-12"],["selected","","disabled","","value","",2,"text-decoration-color","gray"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],[1,"container"],[1,"row"],[1,"px-4","py-1","col-md-6"],["for","floatingInputGrid",1,"text-body"],["type","text","required","","placeholder","Nombre del Auditor ..","id","floatingInputGrid","formControlName","nombre_auditor_aud",1,"form-control"],[1,"px-4","py-1","col-md-6","text-body"],["for","floatingInputGrid "],["type","text","required","","placeholder","Ingrese su correo ..","id","floatingInputGrid","formControlName","correo_auditor_aud",1,"form-control"],[1,""],["type","date","id","floatingInputGrid","placeholder","Nombre Comercial","formControlName","fecha_inicio_auditoria",1,"form-control"],[1,"px-4","py-1","col-md-6","bd-highlight"],["type","date","id","floatingInputGrid","placeholder","Nombre Comercial","formControlName","fecha_fin_auditoria",1,"form-control"],[1,"col-md-12","p-4","m-1"],["type","submit","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-primary"],["id","NewsModal1","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","NewsModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-scrollable",2,"margin-right","0 !important"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"border","rounded-circle","btn-close",2,"border","3px solid rgb(220,220,220)!important"],[1,"modal-body",2,"padding-top","0rem"],[1,"row","mb-3"],["v-for","(item, key) in news",1,"col-12","mb-3"],[1,"card",2,"border","0px"],[1,"card-body",2,"padding-top","0rem"],["align","center",1,"row"],["align","left",1,"col-9","px-1","d-flex","align-items-center"],["class","row px-3 py-2 align-items-center table-success ",4,"ngIf"],["class","table",4,"ngIf"],[1,"table"],[4,"ngFor","ngForOf"],["class","row px-3 py-2 align-items-center table-success ",4,"ngFor","ngForOf"],["id","NewsModal2","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","NewsModalLabel","aria-hidden","true",1,"modal","fade"],[1,"col-md-12"],["class","container",4,"ngIf"],[1,"text-black"],["align","right",1,"col-md-12"],[1,"col"],["type","button",1,"btn","btn-primary","btn-outline-info",3,"click"],[1,"text-center"],["type","file",1,"form-control",3,"change"],[1,"mt-2","text-black"],[1,"table","table-striped"],[1,"col-md-12","px-1","py-2"],["type","submit",1,"btn","btn-success",3,"click"],["class","align-middle",4,"ngFor","ngForOf"],[1,"align-middle"],["scope","row",1,"whitespace-nowrap","menos-lenght-texto-ruc"],[1,"whitespace-nowrap","menos-lenght-texto-nombre"],["class","whitespace-nowrap menos-lenght-texto-ruc",3,"title",4,"ngIf"],[1,"menos-lenght-texto-ruc",3,"title"],[1,"custom-css","btn","text-white","nuevo-color",3,"ngClass"],["type","button","data-bs-toggle","modal","data-bs-target","#NewsModal",1,"custom-css","btn","btn-primary","text-dark",3,"ngClass","click"],["type","button","data-bs-toggle","modal","data-bs-target","#NewsModal1",1,"custom-css","btn","btn-primary","text-dark",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#NewsModal2",1,"custom-css","btn","btn-primary","nuevo-color",3,"ngClass","click"],[1,"bi","bi-cloud-upload-fill"],["type","button",1,"custom-css","btn","btn-primary","nuevo-color",3,"ngClass"],[1,"bi","bi-trash3"],[1,"whitespace-nowrap","menos-lenght-texto-ruc",3,"title"],["align","left",1,"col-4","px-1"],[1,"border","rounded-circle",2,"border","3px solid rgb(220,220,220)!important"],[1,"bi","bi-folder2-open"],["align","center",1,"col-4","px-1"],["align","right",1,"col-4","px-1"],[1,"bi","bi-person-fill"],["align","center",1,"col-12","px-1"],["colspan","3","scope","col"],["class","row",4,"ngFor","ngForOf"],[1,"input-group","mb-2","input-group-lg"],["required","","type","text","placeholder","Ingresar su hallazgo .","aria-label","Ingresar su hallazgo","aria-describedby","basic-addon1",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-outline-danger",3,"click"],["class","",4,"ngIf"],[1,"text-danger"],["target","_blank","data-bs-target","#staticBackdrop",1,"btn","btn-primary","mx-2",3,"href"],["type","button",1,"btn","px-2","btn-outline-danger",3,"click"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return e.eliminar()}),t.O4$(),t.TgZ(5,"svg",5),t._UZ(6,"path",6),t.qZA()(),t.kcU(),t.TgZ(7,"button",7),t._uU(8," Auditoria "),t.qZA()(),t._UZ(9,"br"),t.TgZ(10,"label",8)(11,"h3"),t._uU(12,"Administraci\xf3n de auditor\xedas"),t.qZA()(),t._UZ(13,"br"),t.TgZ(14,"label",9)(15,"h4"),t._uU(16,"TORRES & TORRES"),t.qZA()()()(),t.TgZ(17,"div",1)(18,"label",8)(19,"h3"),t._uU(20,"Auditor\xedas"),t.qZA()(),t._UZ(21,"br"),t.TgZ(22,"label",8),t._UZ(23,"h3"),t.qZA(),t._UZ(24,"br"),t.TgZ(25,"div",10)(26,"div",11),t._UZ(27,"input",12),t.TgZ(28,"button",13),t._UZ(29,"i",14),t.qZA()()(),t.TgZ(30,"datalist",15),t._UZ(31,"option",16)(32,"option",17)(33,"option",18),t.qZA(),t.TgZ(34,"div",10),t._uU(35," \xa0\xa0 "),t.TgZ(36,"div",3),t._UZ(37,"input",19),t.qZA()(),t.TgZ(38,"table",20)(39,"thead")(40,"tr")(41,"th",21),t._UZ(42,"input",22),t._uU(43," \xa0\xa0\xa0RUC "),t.qZA(),t.TgZ(44,"th",21),t._uU(45,"Proveedor"),t.qZA(),t.TgZ(46,"th",21),t._uU(47,"Tipo Proveedor"),t.qZA(),t.TgZ(48,"th",21),t._uU(49,"Servicio"),t.qZA(),t.TgZ(50,"th",21),t._uU(51,"Responsable"),t.qZA(),t.TgZ(52,"th",21),t._uU(53,"Fecha de inicio"),t.qZA(),t.TgZ(54,"th",21),t._uU(55,"Estado"),t.qZA(),t.TgZ(56,"th",21),t._uU(57,"Opciones"),t.qZA()()(),t.YNc(58,V,4,0,"tbody",23),t.YNc(59,at,2,1,"tbody",23),t.qZA()()(),t.TgZ(60,"div",24)(61,"div",25)(62,"div",26)(63,"div",27)(64,"h5",28),t._uU(65," Nueva Auditor\xeda "),t.qZA(),t._UZ(66,"h1")(67,"button",29),t.qZA(),t.TgZ(68,"div",30)(69,"form",31),t.NdJ("ngSubmit",function(){return e.guardarAuditoria()}),t.TgZ(70,"div",32)(71,"div",33)(72,"label",34),t._uU(73,"Normas"),t.qZA(),t.TgZ(74,"select",35)(75,"option",36),t._uU(76,"Seleccione.."),t.qZA(),t.TgZ(77,"option",37),t._uU(78,"'Basc'"),t.qZA(),t.TgZ(79,"option",38),t._uU(80,"'ISO'"),t.qZA(),t.TgZ(81,"option",39),t._uU(82,"'Smeta'"),t.qZA(),t.TgZ(83,"option",40),t._uU(84,"'BPDTA'"),t.qZA(),t.TgZ(85,"option",41),t._uU(86,"'Cianuro'"),t.qZA()()()(),t.TgZ(87,"div",42)(88,"div",43)(89,"div",44)(90,"label",45),t._uU(91,"Auditor Responsable"),t.qZA(),t._UZ(92,"input",46),t.qZA(),t.TgZ(93,"div",47)(94,"label",48),t._uU(95,"Correo"),t.qZA(),t._UZ(96,"input",49),t.qZA()()(),t.TgZ(97,"div",42)(98,"div",43)(99,"div",44)(100,"div",50)(101,"label",45),t._uU(102,"Fecha inicio de auditor\xeda"),t.qZA(),t._UZ(103,"input",51),t.qZA()(),t.TgZ(104,"div",52)(105,"div",50)(106,"label",45),t._uU(107,"Fecha fin de auditor\xeda"),t.qZA(),t._UZ(108,"input",53),t.qZA()()()(),t.TgZ(109,"div",54)(110,"button",55),t._uU(111," Guardar "),t.qZA()()()()()()(),t.TgZ(112,"div",56)(113,"div",57)(114,"div",26)(115,"div",27),t._UZ(116,"button",58),t.qZA(),t.TgZ(117,"div",59)(118,"div",60)(119,"div",61)(120,"div",62)(121,"div",63)(122,"div",1)(123,"div",64)(124,"div",65)(125,"h5"),t._uU(126,"Bit\xe1cora de proveedores"),t.qZA()()(),t._UZ(127,"br")(128,"br")(129,"br"),t.TgZ(130,"div",2)(131,"strong"),t._uU(132),t.qZA()(),t.TgZ(133,"div",2),t._uU(134),t.qZA(),t.TgZ(135,"div",2)(136,"strong"),t._uU(137,"Proveedor"),t.qZA()(),t.TgZ(138,"div",2),t._uU(139),t.qZA(),t.TgZ(140,"div",2)(141,"strong"),t._uU(142,"Tipo de proveedor"),t.qZA()(),t.TgZ(143,"div",2),t._uU(144),t.qZA(),t.TgZ(145,"div",2)(146,"strong"),t._uU(147,"Fecha de actualizaci\xf3n"),t.qZA()(),t.TgZ(148,"div",2),t._uU(149),t.qZA(),t.TgZ(150,"div",2)(151,"strong"),t._uU(152,"Solicitado por"),t.qZA()(),t.TgZ(153,"div",2),t._uU(154),t.qZA()(),t.YNc(155,rt,5,0,"div",66),t.YNc(156,nt,9,1,"table",67),t.YNc(157,lt,5,0,"div",66),t.TgZ(158,"table",68)(159,"thead")(160,"tr")(161,"th",21),t._uU(162,"Nombre"),t.qZA(),t.TgZ(163,"th",21),t._uU(164,"Cargo"),t.qZA()()(),t.TgZ(165,"tbody"),t.YNc(166,dt,5,2,"tr",69),t.qZA()(),t.YNc(167,ct,6,0,"table",67),t.YNc(168,ut,16,4,"div",70),t.qZA()()()()()()()(),t.TgZ(169,"div",71)(170,"div",25)(171,"div",26)(172,"div",27)(173,"h5",28),t._uU(174," Auditor\xeda "),t.qZA(),t._UZ(175,"button",29),t.qZA(),t.TgZ(176,"div",30)(177,"div",11)(178,"div",72),t.YNc(179,ht,13,1,"div",73),t.TgZ(180,"div",74)(181,"h6"),t._uU(182," Agregar Hallazgos "),t.qZA()(),t.YNc(183,mt,2,1,"div",23),t.qZA(),t.TgZ(184,"div",75)(185,"div",76)(186,"button",77),t.NdJ("click",function(){return e.nuevoDestinatario()}),t.TgZ(187,"strong"),t._uU(188,"+"),t.qZA()()()()(),t.TgZ(189,"div",78)(190,"input",79),t.NdJ("change",function(s){return e.onChange(s)}),t.qZA()(),t.TgZ(191,"div",80)(192,"h6"),t._uU(193,"Lista de documentos Subidos"),t.qZA(),t.TgZ(194,"div",42)(195,"div",43)(196,"div",76)(197,"table",81)(198,"thead")(199,"tr")(200,"th",21),t._uU(201,"Nombre "),t.qZA(),t.TgZ(202,"th",21),t._uU(203,"Opciones"),t.qZA()()(),t.YNc(204,bt,4,0,"tbody",23),t.YNc(205,ft,2,1,"tbody",23),t.qZA()()()()(),t.YNc(206,At,3,0,"div",73),t.TgZ(207,"div",82)(208,"button",83),t.NdJ("click",function(){return e.onUpload()}),t._uU(209,"Guardar"),t.qZA()()()()()()),2&o&&(t.xp6(58),t.Q6J("ngIf",0===e.listaAuditorias.length),t.xp6(1),t.Q6J("ngIf",e.listaAuditorias.length>0),t.xp6(10),t.Q6J("formGroup",e.editarForm),t.xp6(63),t.Oqu(e.bitacora.Proveedor.identificacion.nombre_ide),t.xp6(2),t.Oqu(e.bitacora.Proveedor.ruc_pro),t.xp6(5),t.Oqu(e.bitacora.Proveedor.nombre_pro),t.xp6(5),t.Oqu(e.bitacora.Proveedor.tipo_proveedor.nombre_tip),t.xp6(5),t.hij("",e.bitacora.Proveedor.fecha_creacion_pro," "),t.xp6(5),t.Oqu(e.bitacora.Proveedor.usuario_pro),t.xp6(1),t.Q6J("ngIf",e.bitacora.Contactos.length>0),t.xp6(1),t.Q6J("ngIf",e.bitacora.Contactos.length>0),t.xp6(1),t.Q6J("ngIf",e.bitacora.Contactos_Financieros.length>0),t.xp6(9),t.Q6J("ngForOf",e.bitacora.Contactos_Financieros),t.xp6(1),t.Q6J("ngIf",e.bitacora.Historial.length>0),t.xp6(1),t.Q6J("ngForOf",e.bitacora.Historial),t.xp6(11),t.Q6J("ngIf",e.listaHallazgosSubidos.length>0),t.xp6(4),t.Q6J("ngIf",e.listaHallazgos.length>0),t.xp6(21),t.Q6J("ngIf",0===e.listaAuditorias1.documentos.length),t.xp6(1),t.Q6J("ngIf",e.listaAuditorias1.documentos.length>0),t.xp6(1),t.Q6J("ngIf",e.loading))},dependencies:[h.mk,h.sg,h.O5,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.Q7,l.sg,l.u,l.On]}),i})();class Tt{constructor(){this.id=0,this.index=0,this.fk_estado=0,this.fk_auditoria=0,this.nombre_download_doc="",this.nombre_doc="",this.path_doc="",this.cargado_doc="",this.documentos=[],this.estados=new Z.G}}let N=(()=>{class i{constructor(o,e){this.http=o,this.router=e,this.contador=new t.vpe,this.baseUrl=g.N.urlGlobal+"mejora-continua",this.url=`${this.baseUrl}`,this.httpOptions={headers:new f.WM({"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("token")})}}listPlanes(){return this.http.get(this.url,this.httpOptions).pipe((0,c.X)(1))}getPlan(o){return this.http.get(this.url+"-data/"+o,this.httpOptions).pipe((0,c.X)(1))}postPlan(o){return this.http.get(this.url+"-update/"+o,this.httpOptions).pipe((0,c.X)(1))}enviarPlan(o){let e=JSON.stringify(o);return this.http.post(this.url+"-update/",e).pipe((0,c.X)(1))}CambiarEstado(o,e){let a=JSON.stringify(o);return console.log("body",a),this.http.post(this.url+"-update-hallazgo/"+e,o).pipe((0,c.X)(1))}}return i.\u0275fac=function(o){return new(o||i)(t.LFG(f.eN),t.LFG(_.F0))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ut=(()=>{class i{constructor(o,e){this.http=o,this.router=e,this.baseUrl=g.N.urlGlobal+"documentos-auditoria",this.url=`${this.baseUrl}`,this.httpOptions={headers:new f.WM({"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("token")})}}getDocumentos(o){return this.http.get(this.url+"/"+o,this.httpOptions).pipe((0,c.X)(1))}listaDocumentos(){return this.http.get(this.url,this.httpOptions).pipe((0,c.X)(1))}}return i.\u0275fac=function(o){return new(o||i)(t.LFG(f.eN),t.LFG(_.F0))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Ct=d(3988);class xt{constructor(){this.id=0,this.index=0,this.nombre_hal="",this.descripcion_hal=""}}let G=(()=>{class i{constructor(o,e){this.http=o,this.router=e,this.baseUrl=g.N.urlGlobal+"hallazgo-auditoria",this.url=`${this.baseUrl}`,this.baseUrl1=g.N.urlGlobal+"documentos-hallazgo",this.url1=`${this.baseUrl1}`,this.httpOptions={headers:new f.WM({"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("token")})}}listaHallazgos(){return this.http.get(this.url,this.httpOptions).pipe((0,c.X)(1))}getHallazgos(o){return this.http.get(this.url+"-data/"+o,this.httpOptions).pipe((0,c.X)(1))}getHallazgosDocuments(o){return this.http.get(this.url1+"/"+o,this.httpOptions).pipe((0,c.X)(1))}detailHallazgos(o){return this.http.get(this.url+"/"+o,this.httpOptions).pipe((0,c.X)(1))}}return i.\u0275fac=function(o){return new(o||i)(t.LFG(f.eN),t.LFG(_.F0))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function wt(i,r){1&i&&(t.TgZ(0,"div",19)(1,"h4"),t._uU(2,"No se agregado Hallazgos"),t.qZA()())}function yt(i,r){if(1&i&&(t.TgZ(0,"div")(1,"div",20)(2,"div",21),t._UZ(3,"input",12),t._uU(4),t.qZA(),t.TgZ(5,"div",13)(6,"span",22),t._uU(7," \xa0"),t._UZ(8,"i",23),t._uU(9,"\xa0 "),t.qZA(),t._uU(10),t.qZA(),t.TgZ(11,"div",13)(12,"div",20)(13,"div",24)(14,"a",25),t._uU(15,"Editar"),t.qZA()()()()(),t._UZ(16,"hr"),t.qZA()),2&i){const o=r.$implicit,e=r.index,a=t.oxw();t.xp6(2),t.s9C("title",a.listaHallazgo[e].hallazgo),t.xp6(2),t.hij(" \xa0\xa0\xa0",a.listaHallazgo[e].hallazgo," "),t.xp6(6),t.hij("\xa0\xa0\xa0\xa0",a.listaHallazgo[e].estados.nombre_est," "),t.xp6(4),t.MGl("routerLink","/administracion/auditoria/detailAudi/",o.id,"")}}let Q=(()=>{class i{constructor(o,e,a,s){this.apiPlan=o,this.hallazgos=e,this.route=a,this.router=s,this.objectNuevo=new t.vpe,this.object=new t.vpe,this.objectEdit=new u,this.califEdit=new P,this.objectEdit1=new xt,this.contador=0,this.cambio=!1,this.cat=[],this.esLargoArray=[],this.esLargo=!1,this.seleccionado=!1,this.mostrarForm=!0,this.objeto=new u,this.proveedores=[],this.listaAuditorias=[],this.auditoria=new u,this.listHa=[],this.estados=new Z.G,this.listaHallazgo=[],this.submitted=!1}ngOnInit(){this.listH(),this.combrobar()}siguiente(){this.seleccionado=!0}mostrarComponente(o){switch(o.nombre_auditor_aud){case"":this.objeto=new u,this.mostrarForm=!0;break;case"Borrado":this.objeto=new u;break;case"uwu":this.mostrarForm=!1;break;default:this.objeto=o,this.mostrarForm=!0}}listH(){const o=this.route.snapshot.paramMap.get("id");this.hallazgos.getHallazgos(Number(o)).subscribe(e=>{e.data.forEach((s,n)=>{"[]"!==JSON.stringify(s.auditoria)&&(this.listaHallazgo[n]=s)})})}combrobar(){const o=this.route.snapshot.paramMap.get("id");this.hallazgos.getHallazgos(Number(o)).subscribe(e=>{this.listHa=e.data,console.log("estado1",this.listHa);for(let n=0;n<this.listHa.length;n++){console.log("estado",this.listHa[n].fk_estado),23==this.listHa[n].fk_estado&&this.listHa[n].fk_estado==this.listHa[0].fk_estado&&(this.cambio=!0);let p=new Array(this.listHa[n].fk_estado);console.log("estado1",p),p.every(b=>23==b)}console.log("estado",this.cambio)})}eliminar(){this.router.navigate(["/administracion/auditoria/listPlan/"])}postPlan(){this.apiPlan.postPlan(this.objectEdit1.id).subscribe(o=>{console.log("perros",o)})}editarPlan(o,e){this.objectEdit1=o,console.log("salida",o)}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(N),t.Y36(G),t.Y36(_.gz),t.Y36(_.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-list-audi"]],inputs:{objectEdit:"objectEdit",califEdit:"califEdit",objectEdit1:"objectEdit1"},outputs:{objectNuevo:"objectNuevo",object:"object"},decls:34,vars:2,consts:[["id","main",1,"container-fluid"],[1,"row"],["align","left",1,"col-md-12"],["role","group","aria-label","First group",1,"btn-group","mb-3"],["type","button",1,"btn","btn-secondary-outline","customize",2,"text-align","center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","26","height","26","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-left"],["fill-rule","evenodd","d","M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"],["type","button",1,"btn",2,"text-align","center",3,"click"],[1,"background-color"],[1,"border-0","sin-borde"],[1,"pl-thead"],[1,"col-8"],["type","checkbox","id","exampleCheck1",1,"form-check-input"],[1,"col-2"],[1,"col-lg-12","col-md-11"],[1,"pl-table"],[1,"pl-tbody"],["class","table-responsive",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"table-responsive"],[1,"row","align-items-center"],[1,"col-8","text-truncate","menos-lenght-texto",3,"title"],[1,"bg-warning","rounded-circle"],[1,"bi","bi-caret-up-fill"],[1,"col-md-auto"],["type","submit",1,"custom-css","btn","btn-primary",3,"routerLink"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return e.eliminar()}),t.O4$(),t.TgZ(5,"svg",5),t._UZ(6,"path",6),t.qZA()(),t.kcU(),t.TgZ(7,"button",7),t.NdJ("click",function(){return e.eliminar()}),t._uU(8," Planes de Acci\xf3n "),t.qZA()(),t._UZ(9,"br"),t.qZA()(),t._UZ(10,"hr"),t.TgZ(11,"div",8),t._UZ(12,"hr",9),t.TgZ(13,"div",10)(14,"div",1)(15,"div",11)(16,"strong"),t._uU(17,"\xa0 "),t._UZ(18,"input",12),t._uU(19,"\xa0\xa0Nombre del Hallazgo"),t.qZA()(),t.TgZ(20,"div",13)(21,"strong"),t._uU(22,"Estado"),t.qZA()(),t.TgZ(23,"div",13)(24,"strong"),t._uU(25,"Acciones"),t.qZA()()()(),t._UZ(26,"hr",9),t.qZA(),t._UZ(27,"hr"),t.TgZ(28,"div",1)(29,"div",14)(30,"div",15)(31,"div",16),t.YNc(32,wt,3,0,"div",17),t.YNc(33,yt,17,4,"div",18),t.qZA()()()()()),2&o&&(t.xp6(32),t.Q6J("ngIf",0==e.listaHallazgo.length),t.xp6(1),t.Q6J("ngForOf",e.listaHallazgo))},dependencies:[h.sg,h.O5,_.yS]}),i})();function qt(i,r){1&i&&(t.TgZ(0,"tbody")(1,"tr")(2,"p"),t._uU(3,"Sin solicitudes"),t.qZA()()())}const Pt=function(i,r,o,e,a){return{"bg-info":i,"bg-primary":r,"bg-success":o,"bg-secondary":e,"bg-danger":a}};function Ft(i,r){if(1&i&&(t.TgZ(0,"tr",26)(1,"td",27),t._uU(2),t.qZA(),t.TgZ(3,"td",28),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td",29),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"label",30)(11,"strong"),t._uU(12),t.qZA()()(),t.TgZ(13,"td")(14,"a",31),t._uU(15,"Plan"),t.qZA(),t.TgZ(16,"a",32),t._uU(17," \xa0\xa0"),t._UZ(18,"i",33),t._uU(19,"\xa0\xa0"),t.qZA()()()),2&i){const o=r.$implicit;t.xp6(2),t.hij(" ",o.auditoria[0].proveedores[0].ruc_pro," "),t.xp6(2),t.hij(" ",o.auditoria[0].proveedores[0].nombre_pro,""),t.xp6(2),t.Oqu(o.auditoria[0].nombre_auditor_aud),t.xp6(2),t.hij(" ",o.auditoria[0].proveedores[0].usuario_pro," "),t.xp6(2),t.Q6J("ngClass",t.qbA(7,Pt,"Por realizar"==o.estados.nombre_est,"En revisi\xf3n"==o.estados.nombre_est,"Finalizado"==o.estados.nombre_est,"En curso"==o.estados.nombre_est,"Demorado"==o.estados.nombre_est)),t.xp6(2),t.Oqu(o.estados.nombre_est),t.xp6(2),t.MGl("routerLink","/administracion/auditoria/listAudi/",o.auditoria[0].proveedores[0].id,"")}}function kt(i,r){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,Ft,20,13,"tr",25),t.qZA()),2&i){const o=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",o.listaPlanes)}}function Nt(i,r){if(1&i){const o=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"button",6),t.NdJ("click",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.eliminar())}),t.O4$(),t.TgZ(5,"svg",7),t._UZ(6,"path",8),t.qZA()(),t.kcU(),t.TgZ(7,"button",9),t.NdJ("click",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.eliminar())}),t._uU(8," Auditor\xeda "),t.qZA()(),t._UZ(9,"br"),t.TgZ(10,"label",10)(11,"h3"),t._uU(12,"Administraci\xf3n de planes de acci\xf3n"),t.qZA()(),t._UZ(13,"br"),t.TgZ(14,"label",11)(15,"h4"),t._uU(16,"TORRES & TORRES"),t.qZA()()()(),t.TgZ(17,"div",3),t._UZ(18,"label",10)(19,"br"),t.TgZ(20,"label",10),t._UZ(21,"h3"),t.qZA(),t._UZ(22,"br"),t.TgZ(23,"div",12)(24,"div",13),t._UZ(25,"input",14),t.TgZ(26,"button",15),t._UZ(27,"i",16),t.qZA()()(),t.TgZ(28,"datalist",17),t._UZ(29,"option",18)(30,"option",19)(31,"option",20),t.qZA(),t.TgZ(32,"div",12),t._uU(33," \xa0\xa0 "),t.TgZ(34,"div",5),t._UZ(35,"input",21),t.qZA()(),t.TgZ(36,"table",22)(37,"thead")(38,"tr")(39,"th",23),t._UZ(40,"input",24),t._uU(41," \xa0\xa0\xa0RUC "),t.qZA(),t.TgZ(42,"th",23),t._uU(43,"Proveedor"),t.qZA(),t.TgZ(44,"th",23),t._uU(45,"Responsable de Auditor\xeda"),t.qZA(),t.TgZ(46,"th",23),t._uU(47,"Responsable"),t.qZA(),t.TgZ(48,"th",23),t._uU(49,"Estado"),t.qZA(),t.TgZ(50,"th",23),t._uU(51,"Opciones"),t.qZA()()(),t.YNc(52,qt,4,0,"tbody",1),t.YNc(53,kt,2,1,"tbody",1),t.qZA()()()}if(2&i){const o=t.oxw();t.xp6(52),t.Q6J("ngIf",0===o.listaPlanes.length),t.xp6(1),t.Q6J("ngIf",o.listaPlanes.length>0)}}function St(i,r){if(1&i&&(t.TgZ(0,"div"),t._UZ(1,"app-list-audi",34),t.qZA()),2&i){const o=t.oxw();t.xp6(1),t.Q6J("objectEdit",o.proveedor)("califEdit",o.califEdit)}}let B=(()=>{class i{constructor(o,e,a,s,n,p,m){this.apiPlan=o,this.activeRouter=e,this.router=a,this.documentos=s,this.processSweetAlert=n,this.califProvCrud=p,this.cargarSelectoresListaDocumentos=m,this.seleccionado=!1,this.mostrarForm=!0,this.esLargoArray=[],this.esLargo=!1,this.objeto=new u,this.show=!0,this.object=new t.vpe,this.califi=new t.vpe,this.objectEdit=new u,this.objectEdit1=new v.I,this.objectEdit2=new Tt,this.califEdit=new P,this.auditoria=new u,this.proveedor=new u,this.files=[],this.visteadas=[],this.listaDocumentos=[],this.planes=[],this.listaPlanes=[],this.editarForm=new l.nJ({problema_mej:new l.p4(""),avance_planes_mej:new l.p4(""),correo_mej:new l.p4(""),fk_estado:new l.p4(""),fk_auditoria:new l.p4("")})}ngOnInit(){this.listarPlanes()}listarPlanes(){this.apiPlan.listPlanes().subscribe(o=>{o.data.forEach((a,s)=>{"[]"!==JSON.stringify(a.auditoria)&&(this.listaPlanes[s]=a)}),console.log("Datos",this.listaPlanes)})}siguiente(){this.seleccionado=!0}mostrarComponente(o){switch(o.nombre_auditor_aud){case"":this.objeto=new u,this.mostrarForm=!0;break;case"Borrado":this.objeto=new u;break;case"uwu":this.mostrarForm=!1;break;default:this.objeto=o,this.mostrarForm=!0}}editarPlan(o,e,a){o.index=a,e.index=a,this.object.emit(o),this.califi.emit(this.planes[a]),this.objectEdit=o,this.objectEdit1=e,this.auditoria=o,this.apiPlan.contador.emit(o.id),this.apiPlan.getPlan(o.id).subscribe(p=>{let m=new v.I;m=p.data[0],this.esLargo=!0}),this.seleccionado=!0}posPlan(o){this.apiPlan.enviarPlan(o).subscribe(e=>{console.log(e)})}mostrarItem(){this.processSweetAlert.alertMensajeError("Error","El documento no se encuentra registrado.")}eliminar(){this.router.navigate(["/administracion/auditoria"])}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(N),t.Y36(_.gz),t.Y36(_.F0),t.Y36(Ut),t.Y36(F.J),t.Y36(k.A),t.Y36(Ct.t))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-list-plan"]],inputs:{objectEdit:"objectEdit",objectEdit1:"objectEdit1",objectEdit2:"objectEdit2",califEdit:"califEdit"},outputs:{object:"object",califi:"califi"},decls:2,vars:2,consts:[["class","container my-2",4,"ngIf"],[4,"ngIf"],[1,"container","my-2"],[1,"row","px-3","py-2","align-items-center","table-success"],["align","left",1,"col-6","px-1"],["role","group","aria-label","First group",1,"btn-group","mb-3"],["type","button",1,"btn","btn-secondary-outline","customize",2,"text-align","center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","26","height","26","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-left"],["fill-rule","evenodd","d","M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"],["type","button",1,"btn",2,"text-align","center",3,"click"],[1,"h6","font-weight-bold","mb-0"],[1,"h6","font-weight-bold","mb-0","color-azul"],[1,"col-md-4"],[1,"input-group","mb-3"],["type","text",1,"form-control","form-control-lg"],["type","submit",1,"input-group-text"],[1,"bi","bi-search"],["id","listamodelos"],["value","Solicitado"],["value","En revisi\xf3n"],["value","Finalizado"],["type","text","list","listamodelos","placeholder","Buscar por Estado",1,"form-control"],[1,"table","table-hover"],["scope","col"],["type","checkbox","id","exampleCheck1",1,"form-check-input"],["class","align-middle",4,"ngFor","ngForOf"],[1,"align-middle"],["scope","row",1,"whitespace-nowrap","menos-lenght-texto-ruc"],[1,"whitespace-nowrap","menos-lenght-texto-nombre"],[1,"whitespace-nowrap","menos-lenght-texto-ruc"],[1,"custom-css","btn","text-white","nuevo-color",3,"ngClass"],["type","submit",1,"custom-css","btn","btn-primary",3,"routerLink"],["type","button",1,"custom-css","btn","btn-primary","nuevo-color"],[1,"bi","bi-trash3"],[3,"objectEdit","califEdit"]],template:function(o,e){1&o&&(t.YNc(0,Nt,54,2,"div",0),t.YNc(1,St,2,2,"div",1)),2&o&&(t.Q6J("ngIf",!e.seleccionado),t.xp6(1),t.Q6J("ngIf",e.seleccionado))},dependencies:[h.mk,h.sg,h.O5,_.yS,l.YN,l.Kr,Q]}),i})();function zt(i,r){if(1&i){const o=t.EpF();t.TgZ(0,"a",20),t.NdJ("click",function(){t.CHM(o);const a=t.oxw(2);return t.KtG(a.siguiente())}),t._uU(1," Siguiente "),t.qZA()}}function Ot(i,r){if(1&i){const o=t.EpF();t.TgZ(0,"a",20),t.NdJ("click",function(){t.CHM(o);const a=t.oxw(2);return t.KtG(a.show=!a.show)})("click",function(){t.CHM(o);const a=t.oxw(2);return t.KtG(a.siguiente())}),t._uU(1," Siguiente "),t.qZA()}}const X=function(i){return{card:!0,"card-hover":i}};function Et(i,r){if(1&i){const o=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5),t._UZ(3,"br"),t.TgZ(4,"label",6)(5,"h3"),t._uU(6,"Auditor\xeda y Planes de acciones"),t.qZA()(),t._UZ(7,"br"),t.TgZ(8,"div",7)(9,"div",8)(10,"label",9)(11,"h4"),t._uU(12,"TORRES & TORRES"),t.qZA()()()()(),t.TgZ(13,"div",10)(14,"div",11),t._UZ(15,"br"),t.TgZ(16,"span")(17,"h2",12),t._uU(18,"TIPO DE AUDITOR\xcdA"),t.qZA()(),t._UZ(19,"br"),t.qZA(),t.TgZ(20,"div",13),t.NdJ("click",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.selecionTipoAuditoria(1))}),t.TgZ(21,"div",14),t._UZ(22,"div",15),t.TgZ(23,"div",16),t._UZ(24,"img",17),t.TgZ(25,"a")(26,"h5"),t._uU(27,"Auditor\xedas"),t.qZA()()()(),t.TgZ(28,"div",11),t.YNc(29,zt,2,0,"a",18),t.qZA()(),t.TgZ(30,"div",19),t.NdJ("click",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.selecionTipoAuditoria(2))}),t.TgZ(31,"div",14),t._UZ(32,"div",15),t.TgZ(33,"div",16),t._UZ(34,"img",17),t.TgZ(35,"a")(36,"h5"),t._uU(37,"Planes de acci\xf3n"),t.qZA()()()(),t.TgZ(38,"div",11),t.YNc(39,Ot,2,0,"a",18),t.qZA()()()()()}if(2&i){const o=t.oxw();t.xp6(21),t.Q6J("ngClass",t.VKq(6,X,1==o.objectEdit.fk_tipo_auditoria)),t.xp6(3),t.MGl("src","",o.img,"/assets/Plantilla/Auditoria/auditoria.svg",t.LSH),t.xp6(5),t.Q6J("ngIf",1==o.objectEdit.fk_tipo_auditoria),t.xp6(2),t.Q6J("ngClass",t.VKq(8,X,2==o.objectEdit.fk_tipo_auditoria)),t.xp6(3),t.MGl("src","",o.img,"/assets/Plantilla/Auditoria/plan.svg",t.LSH),t.xp6(5),t.Q6J("ngIf",2==o.objectEdit.fk_tipo_auditoria)}}function jt(i,r){1&i&&(t.TgZ(0,"p",23),t._UZ(1,"app-form-auditoria"),t.qZA())}function Mt(i,r){if(1&i&&(t.TgZ(0,"div",21),t.YNc(1,jt,2,0,"p",22),t.qZA()),2&i){const o=t.oxw(),e=t.MAs(3);t.xp6(1),t.Q6J("ngIf",o.show)("ngIfElse",e)}}function Jt(i,r){1&i&&t._UZ(0,"app-list-plan")}let It=(()=>{class i{constructor(o,e,a,s,n,p,m,b,A,w,T,C){this.auditoriaProveedorService=o,this.normativa=e,this.proveedorService=a,this.tipoContactoService=s,this.tipoServicioService=n,this.processSweetAlert=p,this.proveedoresCrud=m,this.empresaService=b,this.estadoService=A,this.cargarSelect=w,this.califProvCrud=T,this.audPro=C,this.img=K.O.appImg,this.objectNuevo=new t.vpe,this.objectEdit=new u,this.califi=new t.vpe,this.seleccionado=!1,this.tipoAuditoria=0,this.mostrarForm=!0,this.show=!0,this.showDos=!0,this.objectP=new t.vpe,this.objeto=new u,this.listaAuditorias=[],this.proveedores=[],this.plan=new P,this.isLoggedIn=!0}ngOnInit(){this.cargarProveedores(),this.listadoAuditoria(),this.consultaListaProveedores()}siguiente(){this.seleccionado=!0}eliminar(){const o=new u;o.nombre_auditor_aud="Borrado",this.objectNuevo.emit(o)}selecionTipoAuditoria(o){1==o&&(this.seleccionado=!0),this.objectEdit.fk_tipo_auditoria=o,this.siguiente()}regresar(){this.seleccionado=!1,this.eliminar()}cargarProveedores(){this.proveedorService.listProveedores().subscribe(o=>{let a=o.data;a.forEach(s=>{s.urgente_pro=""+s.urgente_pro=="0"?0:1}),this.proveedores=a},o=>{console.log(JSON.stringify(o))})}listadoAuditoria(){this.auditoriaProveedorService.listAuditorias().subscribe(o=>{this.listaAuditorias=o.data})}consultaAuditoria(){this.proveedorService.listProveedores().subscribe(o=>{this.proveedores=o.data,this.normativa.listNormativa().subscribe(e=>{this.normativa=e.data})})}consultaListaProveedores(){this.audPro.listAuditorias().subscribe(o=>{this.tipoContactoService.listTipoContacto().subscribe(e=>{this.tipoServicioService.listTipoServicio().subscribe(a=>{this.estadoService.listEstado().subscribe(s=>{this.empresaService.listEmpresas().subscribe(n=>{const p=e.data,m=a.data,A=n.data;this.cargarSelect.setCargoListaEstados(s.data),this.cargarSelect.setCargoListaEmpresas(A),this.cargarSelect.setCargoListaTipoServicios(m),this.cargarSelect.setCargoListaTiposContacto(p),this.cargarSelect.cargoSelects(!0),o.data.forEach((T,C)=>{"[]"!==JSON.stringify(T.proveedores)&&(this.listaAuditorias[C]=T)}),this.califProvCrud.setCargoListaAuditoriasProveedor(this.listaAuditorias),this.cargarCalificacionProveedor()})})})})})}cargarCalificacionProveedor(){let o=new v.I;const e=this.cargarSelect.getCargoListaTipoServicios(),a=this.cargarSelect.getCargoListaEstados();this.listaAuditorias.forEach(s=>{let n=s.proveedores[0];switch(s.proveedores[0]=o,s.proveedores[0]=n,void 0===JSON.stringify(s.proveedores[0].tipo_proveedor)&&(s.proveedores[0].tipo_proveedor=new z.O),Number(s.proveedores[0].fk_tipo_proveedor)){case 1:s.proveedores[0].tipo_proveedor.nombre_tip="General";break;case 2:s.proveedores[0].tipo_proveedor.nombre_tip="Transporte";break;case 3:s.proveedores[0].tipo_proveedor.nombre_tip="Agente de carga"}const p=e.find(b=>b.id===Number(s.proveedores[0].fk_tipo_servicio)),m=a.find(b=>b.id===Number(s.proveedores[0].fk_estado));s.proveedores[0].tipo_servicio=p,s.proveedores[0].estados=m})}mostrarComponente(o){switch(o.nombre_auditor_aud){case"":this.objeto=new u,this.mostrarForm=!0;break;case"Borrado":this.objeto=new u;break;case"uwu":this.mostrarForm=!1;break;default:this.objeto=o,this.mostrarForm=!0}}verFomulario(o,e){o.index=e,this.objectP.emit(o),this.califi.emit(this.listaAuditorias[e])}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(y),t.Y36(O),t.Y36(E.z),t.Y36(j.u),t.Y36(M.z),t.Y36(F.J),t.Y36(J.p),t.Y36(I.P),t.Y36(H.s),t.Y36(L.R),t.Y36(k.A),t.Y36(y))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-main-auditoria"]],inputs:{objectEdit:"objectEdit"},outputs:{objectNuevo:"objectNuevo",califi:"califi",objectP:"objectP"},decls:4,vars:2,consts:[["class","container my-2",4,"ngIf"],["class","contaoner",4,"ngIf"],["showPlan",""],[1,"container","my-2"],[1,"row"],["align","left",1,"col-md-12"],[1,"h6","font-weight-bold","mb-0"],[1,"row","px-3","py-2","align-items-center","table-success"],["align","left",1,"col-6","px-1"],[1,"h6","font-weight-bold","mb-0","color-azul"],["align","center",1,"row","d-flex","justify-content-center","align-items-center"],[1,"col-md-12"],[1,""],[1,"col-md-4",3,"click"],[3,"ngClass"],[1,"card-header","border-0",2,"background-color","transparent"],[1,"card-body"],["alt","Bootstrap","width","120","height","100",3,"src"],["class","btn btn-primary btn-lg siguiente my-3","role","button","aria-pressed","true",3,"click",4,"ngIf"],["routerLink","/administracion/auditoria/listPlan",1,"col-md-4",3,"click"],["role","button","aria-pressed","true",1,"btn","btn-primary","btn-lg","siguiente","my-3",3,"click"],[1,"contaoner"],["class","text-info",4,"ngIf","ngIfElse"],[1,"text-info"]],template:function(o,e){1&o&&(t.YNc(0,Et,40,10,"div",0),t.YNc(1,Mt,2,2,"div",1),t.YNc(2,Jt,1,0,"ng-template",null,2,t.W1O)),2&o&&(t.Q6J("ngIf",!e.seleccionado),t.xp6(1),t.Q6J("ngIf",e.seleccionado))},dependencies:[h.mk,h.O5,_.rH,Zt,B],styles:['.card[_ngcontent-%COMP%]{border-radius:10px;border-color:#7fa9d8;width:18rem}a.btn.btn-primary.btn-lg.regresar[_ngcontent-%COMP%]{background-color:#d8d9da;border-color:#d8d9da;border-radius:20px;color:#43454b}a.btn.btn-primary.btn-lg.siguiente[_ngcontent-%COMP%]{background-color:#0068c9;border-color:#0068c9;border-radius:20px}a.btn.btn-primary.btn-lg[_ngcontent-%COMP%]{background-color:#d8d9da}.card[_ngcontent-%COMP%]:hover, .card-hover[_ngcontent-%COMP%]{transform:scale(1.05);box-shadow:0 10px 20px #0000001f,0 4px 8px #0000000f;border-width:2px}.border-element-title[_ngcontent-%COMP%]{border-bottom-style:0px solid!important}.border-element-title[_ngcontent-%COMP%]:after{content:"";display:inherit;width:16%;margin:10px auto;border-top:3px solid rgb(0,104,201)}button.element-form-custom[_ngcontent-%COMP%]{text-align:center}button.selected-custom[_ngcontent-%COMP%]{border-bottom:3px solid rgb(103,159,220);text-align:center}.modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border-radius:16px}']}),i})();function Ht(i,r){1&i&&t._UZ(0,"app-main-auditoria")}let Lt=(()=>{class i{constructor(o){this.auditoriaProveedorService=o,this.mostrarForm=!0,this.listAuditoria=[],this.objeto=new u,this.listaEvaluacion=[]}ngOnInit(){}mostrarComponente(o){switch(o.nombre_auditor_aud){case"":this.objeto=new u,this.mostrarForm=!1;break;case"Borrado":this.objeto=new u;break;case"uwu":this.mostrarForm=!0;break;default:this.objeto=o,this.mostrarForm=!1}}listadoAuditoria(){this.auditoriaProveedorService.listAuditorias().subscribe(o=>{console.log(o.data)})}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(y))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-admi-audi"]],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(o,e){1&o&&t.YNc(0,Ht,1,0,"app-main-auditoria",0),2&o&&t.Q6J("ngIf",e.mostrarForm)},dependencies:[h.O5,It]}),i})();class Yt{constructor(){this.id=0,this.nombre_download_doc="",this.nombre_doc="",this.path_doc="",this.fk_hallazgo=0,this.cargado_doc=0}}class Dt{constructor(){this.id=0,this.hallazgo="",this.observacion="",this.fk_tipo_hallazgo=0,this.fk_auditoria=0,this.fk_estado=0,this.estados=new Z.G,this.categoria_hallazgos=[],this.documentos=[],this.list_hallazgos=[]}}class ${constructor(){this.id=0}}var Gt=d(5226),Qt=d.n(Gt),Bt=d(1481);let Xt=(()=>{class i{constructor(o){this.sanitizer=o}transform(o){return this.sanitizer.bypassSecurityTrustResourceUrl(o)}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(Bt.H7,16))},i.\u0275pipe=t.Yjl({name:"safe",type:i,pure:!0}),i})();function $t(i,r){1&i&&(t.TgZ(0,"div")(1,"h4"),t._uU(2,"No existen documentos dentro del hallazgo"),t.qZA()())}function Rt(i,r){if(1&i){const o=t.EpF();t.TgZ(0,"div")(1,"div",1)(2,"div",43)(3,"div",44)(4,"div",45)(5,"div")(6,"div",46)(7,"div",47),t._uU(8),t.qZA(),t.TgZ(9,"div",48)(10,"div",46)(11,"div",49)(12,"div",49)(13,"a",50),t.NdJ("click",function(){const s=t.CHM(o).$implicit,n=t.oxw(3);return t.KtG(n.detailDocumentHallazgos(s.id))}),t._uU(14," \xa0\xa0 Ver "),t._UZ(15,"i",51),t._uU(16," \xa0\xa0 "),t.qZA()()()()(),t._UZ(17,"hr"),t.qZA()()()()()()()}if(2&i){const o=r.$implicit;t.xp6(8),t.hij(" ",o.nombre_doc," ")}}function Kt(i,r){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Rt,18,1,"div",42),t.qZA()),2&i){const o=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",o.ha.documentos)}}function Wt(i,r){if(1&i&&(t.TgZ(0,"div")(1,"div",35)(2,"div",36)(3,"strong"),t._uU(4),t.qZA()()(),t._UZ(5,"hr",11),t.TgZ(6,"div",35)(7,"div",37)(8,"strong"),t._uU(9,"Observacion "),t.qZA()(),t.TgZ(10,"div",38)(11,"p",39),t._uU(12),t.qZA()()(),t._UZ(13,"hr"),t.TgZ(14,"div",9),t._UZ(15,"hr",11),t.TgZ(16,"div",12)(17,"div",1)(18,"div",40)(19,"strong"),t._uU(20,"\xa0 \xa0\xa0Nombre documento"),t.qZA()(),t.TgZ(21,"div",41)(22,"strong"),t._uU(23,"Acciones"),t.qZA()()()(),t._UZ(24,"hr",11),t.qZA(),t._UZ(25,"hr"),t.YNc(26,$t,3,0,"div",25),t.YNc(27,Kt,2,1,"div",25),t.qZA()),2&i){const o=t.oxw();t.xp6(4),t.Oqu(o.ha.hallazgo),t.xp6(8),t.Oqu(o.ha.observacion),t.xp6(14),t.Q6J("ngIf",o.ha&&0==o.ha.documentos.length),t.xp6(1),t.Q6J("ngIf",o.ha&&o.ha.documentos.length>0)}}const Vt=[{path:"",component:Lt},{path:"listPlan",component:B},{path:"listAudi/:id",component:Q},{path:"detailAudi/:id",component:(()=>{class i{constructor(o,e,a,s){this.hallazgos=o,this.route=e,this.apiPlan=a,this.router=s,this.ha=new Dt,this.ha_estado=new $,this.ha_estado1=new $,this.doc=new Yt,this.url=""}ngOnInit(){this.detailHallazgos()}detailDocumentHallazgos(o){this.hallazgos.getHallazgosDocuments(o).subscribe(e=>{this.doc=e.data,this.url=this.doc.path_doc})}eliminar(){window.history.back()}detailHallazgos(){const o=this.route.snapshot.paramMap.get("id");this.hallazgos.detailHallazgos(Number(o)).subscribe(e=>{let a=e.data;this.ha=a,this.ha_estado1=a})}previousState(){window.history.back()}actualizarDatos(){this.apiPlan.CambiarEstado(this.ha_estado1,this.estado).subscribe(o=>{console.log("Actualizado"),Qt().fire("Estado actualizado","El estado ha sido actualizado con \xe9xito","success").then(e=>{this.previousState()})},o=>{console.log(o)})}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(G),t.Y36(_.gz),t.Y36(N),t.Y36(_.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-detail-auid"]],decls:63,vars:8,consts:[["id","main",1,"container-fluid"],[1,"row"],["align","left",1,"col-md-12"],["role","group","aria-label","First group",1,"btn-group","mb-3"],["type","button",1,"btn","btn-secondary-outline","customize",2,"text-align","center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","26","height","26","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-left"],["fill-rule","evenodd","d","M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"],["type","button",1,"btn",2,"text-align","center",3,"click"],[1,"h6","font-weight-bold","mb-0"],[1,"background-color"],[1,"col","main","pt-4"],[1,"border-0","sin-borde"],[1,"pl-thead"],[1,"row","row-offcanvas","row-offcanvas-left"],["id","sidebar","role","navigation",1,"col-md-3","col-lg-3","sidebar-offcanvas","pl-0"],["type","hidden",3,"ngModel","ngModelChange"],["align","center",1,"background-color"],["aria-label","Default select example",1,"form-select",3,"ngModel","ngModelChange"],["value","21"],["value","22"],["value","23"],["value","24"],["value","25"],["type","button",1,"custom-css","btn","btn-primary",3,"click"],[1,"bi","bi-save"],[4,"ngIf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","text-dark","text-align-center"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["closeModal",""],[1,"modal-body"],["frameBorder","0","scrolling","auto","width","100%","height","580px","id","content_all","frameborder","0",3,"src"],[1,"d-flex","flex-row"],["align","center",1,"col-md-10"],["align","left",1,"col-md-2"],["align","left",1,"col-md-10"],[1,"lh-base"],[1,"col-6"],[1,"col-2"],[4,"ngFor","ngForOf"],[1,"col-lg-12","col-md-11"],[1,"pl-table"],[1,"pl-tbody"],[1,"row","align-items-center"],[1,"col-6","text-truncate","menos-lenght-texto"],[1,"col-4"],[1,"col-md-auto"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"custom-css","btn","btn-primary1",3,"click"],[1,"bi","bi-eye"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return e.eliminar()}),t.O4$(),t.TgZ(5,"svg",5),t._UZ(6,"path",6),t.qZA()(),t.kcU(),t.TgZ(7,"button",7),t.NdJ("click",function(){return e.eliminar()}),t._uU(8," Hallazgos "),t.qZA()(),t._UZ(9,"br"),t.TgZ(10,"label",8)(11,"h3"),t._uU(12,"Detalles del Hallazgo"),t.qZA()()()(),t.TgZ(13,"div",9)(14,"div",10),t._UZ(15,"hr",11)(16,"div",12)(17,"hr",11),t.qZA()(),t.TgZ(18,"div",13)(19,"div",14)(20,"div",9)(21,"input",15),t.NdJ("ngModelChange",function(s){return e.ha_estado1.id=s}),t.qZA(),t.TgZ(22,"div",16)(23,"h4"),t._uU(24,"Estado"),t.qZA()(),t.TgZ(25,"div")(26,"h3"),t._uU(27),t.qZA()(),t._UZ(28,"div",16)(29,"hr",11),t.TgZ(30,"div"),t._uU(31,"Modificar Estado"),t.qZA(),t.TgZ(32,"div",16)(33,"select",17),t.NdJ("ngModelChange",function(s){return e.estado=s}),t.TgZ(34,"option",18),t._uU(35,"Por realizas"),t.qZA(),t.TgZ(36,"option",19),t._uU(37,"En curso"),t.qZA(),t.TgZ(38,"option",20),t._uU(39,"Finalizado"),t.qZA(),t.TgZ(40,"option",21),t._uU(41,"En revisi\xf3n"),t.qZA(),t.TgZ(42,"option",22),t._uU(43,"Demorado"),t.qZA()()(),t._UZ(44,"div",16)(45,"hr",11),t.TgZ(46,"div",16)(47,"a",23),t.NdJ("click",function(){return e.actualizarDatos()}),t._uU(48,"Guardar "),t._UZ(49,"i",24),t.qZA()()()(),t.TgZ(50,"div",10),t.YNc(51,Wt,28,4,"div",25),t.qZA(),t.TgZ(52,"div",26)(53,"div",27)(54,"div",28)(55,"div",29)(56,"h5",30),t._uU(57),t.qZA(),t._UZ(58,"button",31,32),t.qZA(),t.TgZ(60,"div",33),t._UZ(61,"iframe",34),t.ALo(62,"safe"),t.qZA()()()()()()),2&o&&(t.xp6(21),t.Q6J("ngModel",e.ha_estado1.id),t.xp6(6),t.Oqu(e.ha.estados.nombre_est),t.xp6(6),t.Q6J("ngModel",e.estado),t.xp6(18),t.Q6J("ngIf",e.ha),t.xp6(6),t.Oqu(e.doc.nombre_doc),t.xp6(4),t.Q6J("src",t.lcZ(62,6,e.url),t.uOi))},dependencies:[h.sg,h.O5,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.On,Xt]}),i})()}];let to=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[_.Bz.forChild(Vt),_.Bz]}),i})(),oo=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[h.ez,to,l.UX,l.u5]}),i})()},8573:(S,U,d)=>{d.d(U,{z:()=>u});var h=d(529),l=d(5625),Z=d(9019),v=d(1571),q=d(7599);let u=(()=>{class t{constructor(c,g){this.http=c,this.router=g,this.baseUrl=Z.N.urlGlobal+"proveedores",this.url=`${this.baseUrl}`,this.httpOptions={headers:new h.WM({"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("token")})}}listProveedores(){return this.http.get(this.url,this.httpOptions).pipe((0,l.X)(1))}listProveedoresBorrados(){return this.http.get(Z.N.urlGlobal+"delete-proveedor",this.httpOptions).pipe((0,l.X)(1))}crearProveedor(c){return 0===c.id?this.http.post(this.url+"/"+c.fk_tipo_proveedor,c,this.httpOptions).pipe((0,l.X)(1)):this.http.put(this.url+"/"+c.id,c,this.httpOptions).pipe((0,l.X)(1))}borrarProveedor(c){return this.http.delete(this.url+"/"+c,this.httpOptions).pipe((0,l.X)(1))}}return t.\u0275fac=function(c){return new(c||t)(v.LFG(h.eN),v.LFG(q.F0))},t.\u0275prov=v.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);